/*!
 * v0.19.9 (c) 2018
 *
 * Includes:
 * - http://npm.im/bowser
 * - http://npm.im/camelcase
 * - http://npm.im/classlist
 * - http://npm.im/core-js
 * - http://npm.im/delay
 * - http://npm.im/es6-error
 * - http://npm.im/event-target-shim
 * - http://npm.im/iab-vast-loader
 * - http://npm.im/json-stringify-safe
 * - http://npm.im/p-defer
 * - http://npm.im/p-finally
 * - http://npm.im/promise-queue
 * - http://npm.im/protochain
 * - http://npm.im/querystring
 * - http://npm.im/raf
 * - http://npm.im/rx.disposables
 * - http://npm.im/serialize-error
 * - http://npm.im/upper-case-first
 */
!function(){function t(t,e){return t(e={exports:{}},e.exports),e.exports}function e(t){var e,n;this.promise=new t(function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t;n=i});this.resolve=x(e);this.reject=x(n)}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}function i(t,e,i){e&&n(t.prototype,e);i&&n(t,i);return t}function r(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t){return null==t?null:Object.getPrototypeOf(Object(t))}Function.prototype.$asyncbind=function t(e,n){"use strict";function i(){return r.apply(e,arguments)}Function.prototype.$asyncbind||Object.defineProperty(Function.prototype,"$asyncbind",{value:t,enumerable:!1,configurable:!0,writable:!0});t.trampoline||(t.trampoline=function(t,e,n,i,r){return function o(s){for(;s;){if(s.then){s=s.then(o,i);return r?void 0:s}try{if(s.pop){if(s.length)return s.pop()?e.call(t):s;s=n}else s=s.call(t)}catch(t){return i(t)}}}});if(!t.LazyThenable){t.LazyThenable=function(){function t(t){return t&&t instanceof Object&&"function"==typeof t.then}function e(n,i,r){try{var o=r?r(i):i;if(n===o)return n.reject(new TypeError("Promise resolution loop"));t(o)?o.then(function(t){e(n,t)},function(t){n.reject(t)}):n.resolve(o)}catch(t){n.reject(t)}}function n(){}function i(t){}function r(i,r){var o=new n;try{this._resolver(function(n){return t(n)?n.then(i,r):e(o,n,i)},function(t){e(o,t,r)})}catch(t){e(o,t,r)}return o}function o(t){this._resolver=t;this.then=r}n.prototype={resolve:i,reject:i,then:function(t,e){this.resolve=t;this.reject=e}};o.resolve=function(t){return o.isThenable(t)?t:{then:function(e){return e(t)}}};o.isThenable=t;return o}();t.EagerThenable=t.Thenable=(t.EagerThenableFactory=function(t){function e(t){if(t){var e=this;t(function(t){e.resolve(t)},function(t){e.reject(t)})}}function n(t,e){if("function"==typeof t.y)try{var n=t.y.call(void 0,e);t.p.resolve(n)}catch(e){t.p.reject(e)}else t.p.resolve(e)}function i(t,e){if("function"==typeof t.n)try{var n=t.n.call(void 0,e);t.p.resolve(n)}catch(e){t.p.reject(e)}else t.p.reject(e)}t=t||"object"==typeof Mn&&Mn.nextTick||"function"==typeof setImmediate&&setImmediate||function(t){setTimeout(t,0)};var r=function(){function e(){for(;n.length-i;){try{n[i]()}catch(t){}n[i++]=void 0;if(i===r){n.splice(0,r);i=0}}}var n=[],i=0,r=1024;return function(r){n.push(r);n.length-i==1&&t(e)}}();e.prototype={resolve:function(t){if(void 0===this.state){if(t===this)return this.reject(new TypeError("Attempt to resolve promise with self"));var e=this;if(t&&("function"==typeof t||"object"==typeof t))try{var i=0,o=t.then;if("function"==typeof o){o.call(t,function(t){i++||e.resolve(t)},function(t){i++||e.reject(t)});return}}catch(t){i||this.reject(t);return}this.state=n;this.v=t;e.c&&r(function(){for(var i=0,r=e.c.length;i<r;i++)n(e.c[i],t)})}},reject:function(t){if(void 0===this.state){this.state=i;this.v=t;var e=this.c;e&&r(function(){for(var n=0,r=e.length;n<r;n++)i(e[n],t)})}},then:function(t,n){var i=new e,o={y:t,n:n,p:i};if(void 0===this.state)this.c?this.c.push(o):this.c=[o];else{var s=this.state,u=this.v;r(function(){s(o,u)})}return i}};e.resolve=function(t){if(t&&t instanceof e)return t;var n=new e;n.resolve(t);return n};e.reject=function(t){if(t&&t instanceof e)return t;var n=new e;n.reject(t);return n};e.version="2.3.3-nodent";return e})()}var r=this;switch(n){case!0:return new t.Thenable(i);case 0:return new t.LazyThenable(i);case void 0:i.then=i;return i;default:return function(){try{return r.apply(e,arguments)}catch(t){return n(t)}}}};var c="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},l=t(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),f={}.hasOwnProperty,h=function(t,e){return f.call(t,e)},d=function(t){try{return!!t()}catch(t){return!0}},p=!d(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),v=t(function(t){var e=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=e)}),m=(v.version,function(t){return"object"==typeof t?null!==t:"function"==typeof t}),g=function(t){if(!m(t))throw TypeError(t+" is not an object!");return t},y=l.document,_=m(y)&&m(y.createElement),b=function(t){return _?y.createElement(t):{}},w=!p&&!d(function(){return 7!=Object.defineProperty(b("div"),"a",{get:function(){return 7}}).a}),k=function(t,e){if(!m(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!m(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!m(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!m(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")},A=Object.defineProperty,S={f:p?Object.defineProperty:function(t,e,n){g(t);e=k(e,!0);g(n);if(w)try{return A(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");"value"in n&&(t[e]=n.value);return t}},P=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},E=p?function(t,e,n){return S.f(t,e,P(1,n))}:function(t,e,n){t[e]=n;return t},I=0,T=Math.random(),O=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++I+T).toString(36))},C=t(function(t){var e=O("src"),n=Function.toString,i=(""+n).split("toString");v.inspectSource=function(t){return n.call(t)};(t.exports=function(t,n,r,o){var s="function"==typeof r;s&&(h(r,"name")||E(r,"name",n));if(t[n]!==r){s&&(h(r,e)||E(r,e,t[n]?""+t[n]:i.join(String(n))));if(t===l)t[n]=r;else if(o)t[n]?t[n]=r:E(t,n,r);else{delete t[n];E(t,n,r)}}})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||n.call(this)})}),x=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},D=function(t,e,n){x(t);if(void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}},j=function t(e,n,i){var r,o,s,u,a=e&t.F,c=e&t.G,f=e&t.P,h=e&t.B,d=c?l:e&t.S?l[n]||(l[n]={}):(l[n]||{}).prototype,p=c?v:v[n]||(v[n]={}),m=p.prototype||(p.prototype={});c&&(i=n);for(r in i){s=((o=!a&&d&&void 0!==d[r])?d:i)[r];u=h&&o?D(s,l):f&&"function"==typeof s?D(Function.call,s):s;d&&C(d,r,s,e&t.U);p[r]!=s&&E(p,r,u);f&&m[r]!=s&&(m[r]=s)}};l.core=v;j.F=1;j.G=2;j.S=4;j.P=8;j.B=16;j.W=32;j.U=64;j.R=128;var N=j,R=t(function(t){var e=O("meta"),n=S.f,i=0,r=Object.isExtensible||function(){return!0},o=!d(function(){return r(Object.preventExtensions({}))}),s=function(t){n(t,e,{value:{i:"O"+ ++i,w:{}}})},u=t.exports={KEY:e,NEED:!1,fastKey:function(t,n){if(!m(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!h(t,e)){if(!r(t))return"F";if(!n)return"E";s(t)}return t[e].i},getWeak:function(t,n){if(!h(t,e)){if(!r(t))return!0;if(!n)return!1;s(t)}return t[e].w},onFreeze:function(t){o&&u.NEED&&r(t)&&!h(t,e)&&s(t);return t}}}),F=(R.KEY,R.NEED,R.fastKey,R.getWeak,R.onFreeze,t(function(t){var e=l["__core-js_shared__"]||(l["__core-js_shared__"]={});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:v.version,mode:"global",copyright:"Â© 2018 Denis Pushkarev (zloirock.ru)"})})),M=t(function(t){var e=F("wks"),n=l.Symbol,i="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=i&&n[t]||(i?n:O)("Symbol."+t))}).store=e}),V=S.f,L=M("toStringTag"),U=function(t,e,n){t&&!h(t=n?t:t.prototype,L)&&V(t,L,{configurable:!0,value:e})},B={f:M},W=S.f,G=function(t){var e=v.Symbol||(v.Symbol=l.Symbol||{});"_"==t.charAt(0)||t in e||W(e,t,{value:B.f(t)})},H={}.toString,z=function(t){return H.call(t).slice(8,-1)},q=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==z(t)?t.split(""):Object(t)},$=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},Q=function(t){return q($(t))},K=Math.ceil,J=Math.floor,X=function(t){return isNaN(t=+t)?0:(t>0?J:K)(t)},Y=Math.min,Z=function(t){return t>0?Y(X(t),9007199254740991):0},tt=Math.max,et=Math.min,nt=function(t,e){return(t=X(t))<0?tt(t+e,0):et(t,e)},it=function(t){return function(e,n,i){var r,o=Q(e),s=Z(o.length),u=nt(i,s);if(t&&n!=n){for(;s>u;)if((r=o[u++])!=r)return!0}else for(;s>u;u++)if((t||u in o)&&o[u]===n)return t||u||0;return!t&&-1}},rt=F("keys"),ot=function(t){return rt[t]||(rt[t]=O(t))},st=it(!1),ut=ot("IE_PROTO"),at=function(t,e){var n,i=Q(t),r=0,o=[];for(n in i)n!=ut&&h(i,n)&&o.push(n);for(;e.length>r;)h(i,n=e[r++])&&(~st(o,n)||o.push(n));return o},ct="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),lt=Object.keys||function(t){return at(t,ct)},ft={f:Object.getOwnPropertySymbols},ht={f:{}.propertyIsEnumerable},dt=Array.isArray||function(t){return"Array"==z(t)},pt=p?Object.defineProperties:function(t,e){g(t);for(var n,i=lt(e),r=i.length,o=0;r>o;)S.f(t,n=i[o++],e[n]);return t},vt=l.document,mt=vt&&vt.documentElement,gt=ot("IE_PROTO"),yt=function(){},_t=function(){var t,e=b("iframe"),n=ct.length;e.style.display="none";mt.appendChild(e);e.src="javascript:";(t=e.contentWindow.document).open();t.write("<script>document.F=Object<\/script>");t.close();_t=t.F;for(;n--;)delete _t.prototype[ct[n]];return _t()},bt=Object.create||function(t,e){var n;if(null!==t){yt.prototype=g(t);n=new yt;yt.prototype=null;n[gt]=t}else n=_t();return void 0===e?n:pt(n,e)},wt=ct.concat("length","prototype"),kt={f:Object.getOwnPropertyNames||function(t){return at(t,wt)}},At=kt.f,St={}.toString,Pt="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Et={f:function(t){return Pt&&"[object Window]"==St.call(t)?function(t){try{return At(t)}catch(t){return Pt.slice()}}(t):At(Q(t))}},It=Object.getOwnPropertyDescriptor,Tt={f:p?It:function(t,e){t=Q(t);e=k(e,!0);if(w)try{return It(t,e)}catch(t){}if(h(t,e))return P(!ht.f.call(t,e),t[e])}},Ot=R.KEY,Ct=Tt.f,xt=S.f,Dt=Et.f,jt=l.Symbol,Nt=l.JSON,Rt=Nt&&Nt.stringify,Ft=M("_hidden"),Mt=M("toPrimitive"),Vt={}.propertyIsEnumerable,Lt=F("symbol-registry"),Ut=F("symbols"),Bt=F("op-symbols"),Wt=Object.prototype,Gt="function"==typeof jt,Ht=l.QObject,zt=!Ht||!Ht.prototype||!Ht.prototype.findChild,qt=p&&d(function(){return 7!=bt(xt({},"a",{get:function(){return xt(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=Ct(Wt,e);i&&delete Wt[e];xt(t,e,n);i&&t!==Wt&&xt(Wt,e,i)}:xt,$t=function(t){var e=Ut[t]=bt(jt.prototype);e._k=t;return e},Qt=Gt&&"symbol"==typeof jt.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof jt},Kt=function(t,e,n){t===Wt&&Kt(Bt,e,n);g(t);e=k(e,!0);g(n);if(h(Ut,e)){if(n.enumerable){h(t,Ft)&&t[Ft][e]&&(t[Ft][e]=!1);n=bt(n,{enumerable:P(0,!1)})}else{h(t,Ft)||xt(t,Ft,P(1,{}));t[Ft][e]=!0}return qt(t,e,n)}return xt(t,e,n)},Jt=function(t,e){g(t);for(var n,i=function(t){var e=lt(t),n=ft.f;if(n)for(var i,r=n(t),o=ht.f,s=0;r.length>s;)o.call(t,i=r[s++])&&e.push(i);return e}(e=Q(e)),r=0,o=i.length;o>r;)Kt(t,n=i[r++],e[n]);return t},Xt=function(t){var e=Vt.call(this,t=k(t,!0));return!(this===Wt&&h(Ut,t)&&!h(Bt,t))&&(!(e||!h(this,t)||!h(Ut,t)||h(this,Ft)&&this[Ft][t])||e)},Yt=function(t,e){t=Q(t);e=k(e,!0);if(t!==Wt||!h(Ut,e)||h(Bt,e)){var n=Ct(t,e);!n||!h(Ut,e)||h(t,Ft)&&t[Ft][e]||(n.enumerable=!0);return n}},Zt=function(t){for(var e,n=Dt(Q(t)),i=[],r=0;n.length>r;)h(Ut,e=n[r++])||e==Ft||e==Ot||i.push(e);return i},te=function(t){for(var e,n=t===Wt,i=Dt(n?Bt:Q(t)),r=[],o=0;i.length>o;)!h(Ut,e=i[o++])||n&&!h(Wt,e)||r.push(Ut[e]);return r};if(!Gt){C((jt=function(){if(this instanceof jt)throw TypeError("Symbol is not a constructor!");var t=O(arguments.length>0?arguments[0]:void 0);p&&zt&&qt(Wt,t,{configurable:!0,set:function e(n){this===Wt&&e.call(Bt,n);h(this,Ft)&&h(this[Ft],t)&&(this[Ft][t]=!1);qt(this,t,P(1,n))}});return $t(t)}).prototype,"toString",function(){return this._k});Tt.f=Yt;S.f=Kt;kt.f=Et.f=Zt;ht.f=Xt;ft.f=te;p&&C(Wt,"propertyIsEnumerable",Xt,!0);B.f=function(t){return $t(M(t))}}N(N.G+N.W+N.F*!Gt,{Symbol:jt});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;ee.length>ne;)M(ee[ne++]);for(var ie=lt(M.store),re=0;ie.length>re;)G(ie[re++]);N(N.S+N.F*!Gt,"Symbol",{for:function(t){return h(Lt,t+="")?Lt[t]:Lt[t]=jt(t)},keyFor:function(t){if(!Qt(t))throw TypeError(t+" is not a symbol!");for(var e in Lt)if(Lt[e]===t)return e},useSetter:function(){zt=!0},useSimple:function(){zt=!1}});N(N.S+N.F*!Gt,"Object",{create:function(t,e){return void 0===e?bt(t):Jt(bt(t),e)},defineProperty:Kt,defineProperties:Jt,getOwnPropertyDescriptor:Yt,getOwnPropertyNames:Zt,getOwnPropertySymbols:te});Nt&&N(N.S+N.F*(!Gt||d(function(){var t=jt();return"[null]"!=Rt([t])||"{}"!=Rt({a:t})||"{}"!=Rt(Object(t))})),"JSON",{stringify:function(t){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);n=e=i[1];if((m(e)||void 0!==t)&&!Qt(t)){dt(e)||(e=function(t,e){"function"==typeof n&&(e=n.call(this,t,e));if(!Qt(e))return e});i[1]=e;return Rt.apply(Nt,i)}}});jt.prototype[Mt]||E(jt.prototype,Mt,jt.prototype.valueOf);U(jt,"Symbol");U(Math,"Math",!0);U(l.JSON,"JSON",!0);var oe=M("toStringTag"),se="Arguments"==z(function(){return arguments}()),ue=function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),oe))?n:se?z(e):"Object"==(i=z(e))&&"function"==typeof e.callee?"Arguments":i},ae={};ae[M("toStringTag")]="z";ae+""!="[object z]"&&C(Object.prototype,"toString",function(){return"[object "+ue(this)+"]"},!0);v.Symbol;N(N.S,"Object",{create:bt});N(N.S+N.F*!p,"Object",{defineProperty:S.f});N(N.S+N.F*!p,"Object",{defineProperties:pt});var ce=function(t,e){var n=(v.Object||{})[t]||Object[t],i={};i[t]=e(n);N(N.S+N.F*d(function(){n(1)}),"Object",i)},le=Tt.f;ce("getOwnPropertyDescriptor",function(){return function(t,e){return le(Q(t),e)}});var fe=function(t){return Object($(t))},he=ot("IE_PROTO"),de=Object.prototype,pe=Object.getPrototypeOf||function(t){t=fe(t);return h(t,he)?t[he]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?de:null};ce("getPrototypeOf",function(){return function(t){return pe(fe(t))}});ce("keys",function(){return function(t){return lt(fe(t))}});ce("getOwnPropertyNames",function(){return Et.f});var ve=R.onFreeze;ce("freeze",function(t){return function(e){return t&&m(e)?t(ve(e)):e}});var me=R.onFreeze;ce("seal",function(t){return function(e){return t&&m(e)?t(me(e)):e}});var ge=R.onFreeze;ce("preventExtensions",function(t){return function(e){return t&&m(e)?t(ge(e)):e}});ce("isFrozen",function(t){return function(e){return!m(e)||!!t&&t(e)}});ce("isSealed",function(t){return function(e){return!m(e)||!!t&&t(e)}});ce("isExtensible",function(t){return function(e){return!!m(e)&&(!t||t(e))}});var ye=Object.assign,_e=!ye||d(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";t[n]=7;i.split("").forEach(function(t){e[t]=t});return 7!=ye({},t)[n]||Object.keys(ye({},e)).join("")!=i})?function(t,e){for(var n=fe(t),i=arguments.length,r=1,o=ft.f,s=ht.f;i>r;)for(var u,a=q(arguments[r++]),c=o?lt(a).concat(o(a)):lt(a),l=c.length,f=0;l>f;)s.call(a,u=c[f++])&&(n[u]=a[u]);return n}:ye;N(N.S+N.F,"Object",{assign:_e});var be=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e};N(N.S,"Object",{is:be});var we=function(t,e){g(t);if(!m(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},ke={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=D(Function.call,Tt.f(Object.prototype,"__proto__").set,2))(t,[]);e=!(t instanceof Array)}catch(t){e=!0}return function(t,i){we(t,i);e?t.__proto__=i:n(t,i);return t}}({},!1):void 0),check:we};N(N.S,"Object",{setPrototypeOf:ke.set});v.Object;var Ae={},Se={};E(Se,M("iterator"),function(){return this});var Pe=function(t,e,n){t.prototype=bt(Se,{next:P(1,n)});U(t,e+" Iterator")},Ee=M("iterator"),Ie=!([].keys&&"next"in[].keys()),Te=function(){return this},Oe=function(t,e,n,i,r,o,s){Pe(n,e,i);var u,a,c,l=function(t){if(!Ie&&t in p)return p[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},f=e+" Iterator",h="values"==r,d=!1,p=t.prototype,v=p[Ee]||p["@@iterator"]||r&&p[r],m=v||l(r),g=r?h?l("entries"):m:void 0,y="Array"==e&&p.entries||v;if(y&&(c=pe(y.call(new t)))!==Object.prototype&&c.next){U(c,f,!0);"function"!=typeof c[Ee]&&E(c,Ee,Te)}if(h&&v&&"values"!==v.name){d=!0;m=function(){return v.call(this)}}(Ie||d||!p[Ee])&&E(p,Ee,m);Ae[e]=m;Ae[f]=Te;if(r){u={values:h?m:l("values"),keys:o?m:l("keys"),entries:g};if(s)for(a in u)a in p||C(p,a,u[a]);else N(N.P+N.F*(Ie||d),e,u)}return u},Ce=function(t,e){var n,i,r=String($(t)),o=X(e),s=r.length;return o<0||o>=s?"":(n=r.charCodeAt(o))<55296||n>56319||o+1===s||(i=r.charCodeAt(o+1))<56320||i>57343?r.charAt(o):r.slice(o,o+2)};Oe(String,"String",function(t){this._t=String(t);this._i=0},function(){var t,e=this._t,n=this._i;if(n>=e.length)return{value:void 0,done:!0};t=Ce(e,n);this._i+=t.length;return{value:t,done:!1}});N(N.S,"Array",{isArray:dt});var xe=function(t,e,n,i){try{return i?e(g(n)[0],n[1]):e(n)}catch(e){var r=t.return;void 0!==r&&g(r.call(t));throw e}},De=M("iterator"),je=Array.prototype,Ne=function(t){return void 0!==t&&(Ae.Array===t||je[De]===t)},Re=function(t,e,n){e in t?S.f(t,e,P(0,n)):t[e]=n},Fe=M("iterator"),Me=v.getIteratorMethod=function(t){if(null!=t)return t[Fe]||t["@@iterator"]||Ae[ue(t)]},Ve=M("iterator"),Le=!1;try{[7][Ve]().return=function(){Le=!0}}catch(t){}var Ue=function(t,e){if(!e&&!Le)return!1;var n=!1;try{var i=[7],r=i[Ve]();r.next=function(){return{done:n=!0}};i[Ve]=function(){return r};t(i)}catch(t){}return n};N(N.S+N.F*!Ue(function(t){}),"Array",{from:function(t){var e,n,i,r,o=fe(t),s="function"==typeof this?this:Array,u=arguments.length,a=u>1?arguments[1]:void 0,c=void 0!==a,l=0,f=Me(o);c&&(a=D(a,u>2?arguments[2]:void 0,2));if(null==f||s==Array&&Ne(f))for(n=new s(e=Z(o.length));e>l;l++)Re(n,l,c?a(o[l],l):o[l]);else for(r=f.call(o),n=new s;!(i=r.next()).done;l++)Re(n,l,c?xe(r,a,[i.value,l],!0):i.value);n.length=l;return n}});N(N.S+N.F*d(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)Re(n,t,arguments[t++]);n.length=e;return n}});var Be=function(t,e){return!!t&&d(function(){e?t.call(null,function(){},1):t.call(null)})},We=[].join;N(N.P+N.F*(q!=Object||!Be(We)),"Array",{join:function(t){return We.call(Q(this),void 0===t?",":t)}});var Ge=[].slice;N(N.P+N.F*d(function(){mt&&Ge.call(mt)}),"Array",{slice:function(t,e){var n=Z(this.length),i=z(this);e=void 0===e?n:e;if("Array"==i)return Ge.call(this,t,e);for(var r=nt(t,n),o=nt(e,n),s=Z(o-r),u=new Array(s),a=0;a<s;a++)u[a]="String"==i?this.charAt(r+a):this[r+a];return u}});var He=[].sort,ze=[1,2,3];N(N.P+N.F*(d(function(){ze.sort(void 0)})||!d(function(){ze.sort(null)})||!Be(He)),"Array",{sort:function(t){return void 0===t?He.call(fe(this)):He.call(fe(this),x(t))}});var qe=M("species"),$e=function(t,e){return new(function(t){var e;if(dt(t)){"function"!=typeof(e=t.constructor)||e!==Array&&!dt(e.prototype)||(e=void 0);m(e)&&null===(e=e[qe])&&(e=void 0)}return void 0===e?Array:e}(t))(e)},Qe=function(t,e){var n=1==t,i=2==t,r=3==t,o=4==t,s=6==t,u=5==t||s,a=e||$e;return function(e,c,l){for(var f,h,d=fe(e),p=q(d),v=D(c,l,3),m=Z(p.length),g=0,y=n?a(e,m):i?a(e,0):void 0;m>g;g++)if(u||g in p){h=v(f=p[g],g,d);if(t)if(n)y[g]=h;else if(h)switch(t){case 3:return!0;case 5:return f;case 6:return g;case 2:y.push(f)}else if(o)return!1}return s?-1:r||o?o:y}},Ke=Qe(0),Je=Be([].forEach,!0);N(N.P+N.F*!Je,"Array",{forEach:function(t){return Ke(this,t,arguments[1])}});var Xe=Qe(1);N(N.P+N.F*!Be([].map,!0),"Array",{map:function(t){return Xe(this,t,arguments[1])}});var Ye=Qe(2);N(N.P+N.F*!Be([].filter,!0),"Array",{filter:function(t){return Ye(this,t,arguments[1])}});var Ze=Qe(3);N(N.P+N.F*!Be([].some,!0),"Array",{some:function(t){return Ze(this,t,arguments[1])}});var tn=Qe(4);N(N.P+N.F*!Be([].every,!0),"Array",{every:function(t){return tn(this,t,arguments[1])}});var en=function(t,e,n,i,r){x(e);var o=fe(t),s=q(o),u=Z(o.length),a=r?u-1:0,c=r?-1:1;if(n<2)for(;;){if(a in s){i=s[a];a+=c;break}a+=c;if(r?a<0:u<=a)throw TypeError("Reduce of empty array with no initial value")}for(;r?a>=0:u>a;a+=c)a in s&&(i=e(i,s[a],a,o));return i};N(N.P+N.F*!Be([].reduce,!0),"Array",{reduce:function(t){return en(this,t,arguments.length,arguments[1],!1)}});N(N.P+N.F*!Be([].reduceRight,!0),"Array",{reduceRight:function(t){return en(this,t,arguments.length,arguments[1],!0)}});var nn=it(!1),rn=[].indexOf,on=!!rn&&1/[1].indexOf(1,-0)<0;N(N.P+N.F*(on||!Be(rn)),"Array",{indexOf:function(t){return on?rn.apply(this,arguments)||0:nn(this,t,arguments[1])}});var sn=[].lastIndexOf,un=!!sn&&1/[1].lastIndexOf(1,-0)<0;N(N.P+N.F*(un||!Be(sn)),"Array",{lastIndexOf:function(t){if(un)return sn.apply(this,arguments)||0;var e=Q(this),n=Z(e.length),i=n-1;arguments.length>1&&(i=Math.min(i,X(arguments[1])));i<0&&(i=n+i);for(;i>=0;i--)if(i in e&&e[i]===t)return i||0;return-1}});var an=[].copyWithin||function(t,e){var n=fe(this),i=Z(n.length),r=nt(t,i),o=nt(e,i),s=arguments.length>2?arguments[2]:void 0,u=Math.min((void 0===s?i:nt(s,i))-o,i-r),a=1;if(o<r&&r<o+u){a=-1;o+=u-1;r+=u-1}for(;u-- >0;){o in n?n[r]=n[o]:delete n[r];r+=a;o+=a}return n},cn=M("unscopables"),ln=Array.prototype;null==ln[cn]&&E(ln,cn,{});var fn=function(t){ln[cn][t]=!0};N(N.P,"Array",{copyWithin:an});fn("copyWithin");N(N.P,"Array",{fill:function(t){for(var e=fe(this),n=Z(e.length),i=arguments.length,r=nt(i>1?arguments[1]:void 0,n),o=i>2?arguments[2]:void 0,s=void 0===o?n:nt(o,n);s>r;)e[r++]=t;return e}});fn("fill");var hn=Qe(5),dn=!0;"find"in[]&&Array(1).find(function(){dn=!1});N(N.P+N.F*dn,"Array",{find:function(t){return hn(this,t,arguments.length>1?arguments[1]:void 0)}});fn("find");var pn=Qe(6),vn=!0;"findIndex"in[]&&Array(1).findIndex(function(){vn=!1});N(N.P+N.F*vn,"Array",{findIndex:function(t){return pn(this,t,arguments.length>1?arguments[1]:void 0)}});fn("findIndex");var mn=M("species"),gn=function(t){var e=l[t];p&&e&&!e[mn]&&S.f(e,mn,{configurable:!0,get:function(){return this}})};gn("Array");var yn=function(t,e){return{value:e,done:!!t}},_n=Oe(Array,"Array",function(t,e){this._t=Q(t);this._i=0;this._k=e},function(){var t=this._t,e=this._k,n=this._i++;if(!t||n>=t.length){this._t=void 0;return yn(1)}return yn(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");Ae.Arguments=Ae.Array;fn("keys");fn("values");fn("entries");v.Array;for(var bn=M("iterator"),wn=M("toStringTag"),kn=Ae.Array,An={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Sn=lt(An),Pn=0;Pn<Sn.length;Pn++){var En,In=Sn[Pn],Tn=An[In],On=l[In],Cn=On&&On.prototype;if(Cn){Cn[bn]||E(Cn,bn,kn);Cn[wn]||E(Cn,wn,In);Ae[In]=kn;if(Tn)for(En in _n)Cn[En]||C(Cn,En,_n[En],!0)}}var xn,Dn,jn,Nn=t(function(t){var e={},n={},i=t.exports=function(t,i,r,o,s){var u,a,c,l,f=s?function(){return t}:Me(t),h=D(r,o,i?2:1),d=0;if("function"!=typeof f)throw TypeError(t+" is not iterable!");if(Ne(f)){for(u=Z(t.length);u>d;d++)if((l=i?h(g(a=t[d])[0],a[1]):h(t[d]))===e||l===n)return l}else for(c=f.call(t);!(a=c.next()).done;)if((l=xe(c,h,a.value,i))===e||l===n)return l};i.BREAK=e;i.RETURN=n}),Rn=M("species"),Fn=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)},Mn=l.process,Vn=l.setImmediate,Ln=l.clearImmediate,Un=l.MessageChannel,Bn=l.Dispatch,Wn=0,Gn={},Hn=function(){var t=+this;if(Gn.hasOwnProperty(t)){var e=Gn[t];delete Gn[t];e()}},zn=function(t){Hn.call(t.data)};if(!Vn||!Ln){Vn=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);Gn[++Wn]=function(){Fn("function"==typeof t?t:Function(t),e)};xn(Wn);return Wn};Ln=function(t){delete Gn[t]};if("process"==z(Mn))xn=function(t){Mn.nextTick(D(Hn,t,1))};else if(Bn&&Bn.now)xn=function(t){Bn.now(D(Hn,t,1))};else if(Un){jn=(Dn=new Un).port2;Dn.port1.onmessage=zn;xn=D(jn.postMessage,jn,1)}else if(l.addEventListener&&"function"==typeof postMessage&&!l.importScripts){xn=function(t){l.postMessage(t+"","*")};l.addEventListener("message",zn,!1)}else xn="onreadystatechange"in b("script")?function(t){mt.appendChild(b("script")).onreadystatechange=function(){mt.removeChild(this);Hn.call(t)}}:function(t){setTimeout(D(Hn,t,1),0)}}var qn,$n,Qn,Kn,Jn={set:Vn,clear:Ln},Xn=Jn.set,Yn=l.MutationObserver||l.WebKitMutationObserver,Zn=l.process,ti=l.Promise,ei="process"==z(Zn),ni={f:function(t){return new e(t)}},ii=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}},ri=l.navigator,oi=ri&&ri.userAgent||"",si=Jn.set,ui=function(){var t,e,n,i=function(){var i,r;ei&&(i=Zn.domain)&&i.exit();for(;t;){r=t.fn;t=t.next;try{r()}catch(i){t?n():e=void 0;throw i}}e=void 0;i&&i.enter()};if(ei)n=function(){Zn.nextTick(i)};else if(!Yn||l.navigator&&l.navigator.standalone)if(ti&&ti.resolve){var r=ti.resolve(void 0);n=function(){r.then(i)}}else n=function(){Xn.call(l,i)};else{var o=!0,s=document.createTextNode("");new Yn(i).observe(s,{characterData:!0});n=function(){s.data=o=!o}}return function(i){var r={fn:i,next:void 0};e&&(e.next=r);if(!t){t=r;n()}e=r}}(),ai=l.TypeError,ci=l.process,li=ci&&ci.versions,fi=li&&li.v8||"",hi=l.Promise,di="process"==ue(ci),pi=function(){},vi=$n=ni.f,mi=!!function(){try{var t=hi.resolve(1),e=(t.constructor={})[M("species")]=function(t){t(pi,pi)};return(di||"function"==typeof PromiseRejectionEvent)&&t.then(pi)instanceof e&&0!==fi.indexOf("6.6")&&-1===oi.indexOf("Chrome/66")}catch(t){}}(),gi=function(t){var e;return!(!m(t)||"function"!=typeof(e=t.then))&&e},yi=function(t,e){if(!t._n){t._n=!0;var n=t._c;ui(function(){for(var i=t._v,r=1==t._s,o=0,s=function(e){var n,o,s,u=r?e.ok:e.fail,a=e.resolve,c=e.reject,l=e.domain;try{if(u){if(!r){2==t._h&&wi(t);t._h=1}if(!0===u)n=i;else{l&&l.enter();n=u(i);if(l){l.exit();s=!0}}n===e.promise?c(ai("Promise-chain cycle")):(o=gi(n))?o.call(n,a,c):a(n)}else c(i)}catch(t){l&&!s&&l.exit();c(t)}};n.length>o;)s(n[o++]);t._c=[];t._n=!1;e&&!t._h&&_i(t)})}},_i=function(t){si.call(l,function(){var e,n,i,r=t._v,o=bi(t);if(o){e=ii(function(){di?ci.emit("unhandledRejection",r,t):(n=l.onunhandledrejection)?n({promise:t,reason:r}):(i=l.console)&&i.error&&i.error("Unhandled promise rejection",r)});t._h=di||bi(t)?2:1}t._a=void 0;if(o&&e.e)throw e.v})},bi=function(t){return 1!==t._h&&0===(t._a||t._c).length},wi=function(t){si.call(l,function(){var e;di?ci.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})})},ki=function(t){var e=this;if(!e._d){e._d=!0;(e=e._w||e)._v=t;e._s=2;e._a||(e._a=e._c.slice());yi(e,!0)}},Ai=function t(e){var n,i=this;if(!i._d){i._d=!0;i=i._w||i;try{if(i===e)throw ai("Promise can't be resolved itself");if(n=gi(e))ui(function(){var r={_w:i,_d:!1};try{n.call(e,D(t,r,1),D(ki,r,1))}catch(t){ki.call(r,t)}});else{i._v=e;i._s=1;yi(i,!1)}}catch(t){ki.call({_w:i,_d:!1},t)}}};if(!mi){hi=function(t){!function(t,e,n,i){if(!(t instanceof hi)||"_h"in t)throw TypeError("Promise: incorrect invocation!")}(this);x(t);qn.call(this);try{t(D(Ai,this,1),D(ki,this,1))}catch(t){ki.call(this,t)}};(qn=function(t){this._c=[];this._a=void 0;this._s=0;this._d=!1;this._v=void 0;this._h=0;this._n=!1}).prototype=function(t,e,n){for(var i in e)C(t,i,e[i],void 0);return t}(hi.prototype,{then:function(t,e){var n,i,r,o=vi((n=hi,void 0===(r=g(this).constructor)||null==(i=g(r)[Rn])?n:x(i)));o.ok="function"!=typeof t||t;o.fail="function"==typeof e&&e;o.domain=di?ci.domain:void 0;this._c.push(o);this._a&&this._a.push(o);this._s&&yi(this,!1);return o.promise},catch:function(t){return this.then(void 0,t)}});Qn=function(){var t=new qn;this.promise=t;this.resolve=D(Ai,t,1);this.reject=D(ki,t,1)};ni.f=vi=function(t){return t===hi||t===Kn?new Qn(t):$n(t)}}N(N.G+N.W+N.F*!mi,{Promise:hi});U(hi,"Promise");gn("Promise");Kn=v.Promise;N(N.S+N.F*!mi,"Promise",{reject:function(t){var e=vi(this);(0,e.reject)(t);return e.promise}});N(N.S+N.F*!mi,"Promise",{resolve:function(t){return function(t,e){g(t);if(m(e)&&e.constructor===t)return e;var n=ni.f(t);(0,n.resolve)(e);return n.promise}(this,t)}});N(N.S+N.F*!(mi&&Ue(function(t){hi.all(t).catch(pi)})),"Promise",{all:function(t){var e=this,n=vi(e),i=n.resolve,r=n.reject,o=ii(function(){var n=[],o=0,s=1;Nn(t,!1,function(t){var u=o++,a=!1;n.push(void 0);s++;e.resolve(t).then(function(t){if(!a){a=!0;n[u]=t;--s||i(n)}},r)});--s||i(n)});o.e&&r(o.v);return n.promise},race:function(t){var e=this,n=vi(e),i=n.reject,r=ii(function(){Nn(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});r.e&&i(r.v);return n.promise}});v.Promise;var Si=(l.Reflect||{}).apply,Pi=Function.apply;N(N.S+N.F*!d(function(){Si(function(){})}),"Reflect",{apply:function(t,e,n){var i=x(t),r=g(n);return Si?Si(i,e,r):Pi.call(i,e,r)}});var Ei=[].slice,Ii={},Ti=Function.bind||function(t){var e=x(this),n=Ei.call(arguments,1),i=function i(){var r=n.concat(Ei.call(arguments));return this instanceof i?function(t,e,n){if(!(e in Ii)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";Ii[e]=Function("F,a","return new F("+i.join(",")+")")}return Ii[e](t,n)}(e,r.length,r):Fn(e,r,t)};m(e.prototype)&&(i.prototype=e.prototype);return i},Oi=(l.Reflect||{}).construct,Ci=d(function(){function t(){}return!(Oi(function(){},[],t)instanceof t)}),xi=!d(function(){Oi(function(){})});N(N.S+N.F*(Ci||xi),"Reflect",{construct:function(t,e){x(t);g(e);var n=arguments.length<3?t:x(arguments[2]);if(xi&&!Ci)return Oi(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];i.push.apply(i,e);return new(Ti.apply(t,i))}var r=n.prototype,o=bt(m(r)?r:Object.prototype),s=Function.apply.call(t,o,e);return m(s)?s:o}});N(N.S+N.F*d(function(){Reflect.defineProperty(S.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){g(t);e=k(e,!0);g(n);try{S.f(t,e,n);return!0}catch(t){return!1}}});var Di=Tt.f;N(N.S,"Reflect",{deleteProperty:function(t,e){var n=Di(g(t),e);return!(n&&!n.configurable)&&delete t[e]}});var ji=function(t){this._t=g(t);this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};Pe(ji,"Object",function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}});N(N.S,"Reflect",{enumerate:function(t){return new ji(t)}});N(N.S,"Reflect",{get:function t(e,n){var i,r,o=arguments.length<3?e:arguments[2];return g(e)===o?e[n]:(i=Tt.f(e,n))?h(i,"value")?i.value:void 0!==i.get?i.get.call(o):void 0:m(r=pe(e))?t(r,n,o):void 0}});N(N.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return Tt.f(g(t),e)}});N(N.S,"Reflect",{getPrototypeOf:function(t){return pe(g(t))}});N(N.S,"Reflect",{has:function(t,e){return e in t}});var Ni=Object.isExtensible;N(N.S,"Reflect",{isExtensible:function(t){g(t);return!Ni||Ni(t)}});var Ri=l.Reflect,Fi=Ri&&Ri.ownKeys||function(t){var e=kt.f(g(t)),n=ft.f;return n?e.concat(n(t)):e};N(N.S,"Reflect",{ownKeys:Fi});var Mi=Object.preventExtensions;N(N.S,"Reflect",{preventExtensions:function(t){g(t);try{Mi&&Mi(t);return!0}catch(t){return!1}}});N(N.S,"Reflect",{set:function t(e,n,i){var r,o,s=arguments.length<4?e:arguments[3],u=Tt.f(g(e),n);if(!u){if(m(o=pe(e)))return t(o,n,i,s);u=P(0)}if(h(u,"value")){if(!1===u.writable||!m(s))return!1;if(r=Tt.f(s,n)){if(r.get||r.set||!1===r.writable)return!1;r.value=i;S.f(s,n,r)}else S.f(s,n,P(0,i));return!0}return void 0!==u.set&&(u.set.call(s,i),!0)}});ke&&N(N.S,"Reflect",{setPrototypeOf:function(t,e){ke.check(t,e);try{ke.set(t,e);return!0}catch(t){return!1}}});v.Reflect;var Vi,Li=function(){var t={};t.promise=new Promise(function(e,n){t.resolve=e;t.reject=n});return t},Ui=function(t,e){var n=Li(),i=function i(){t.removeEventListener(e,i);n.resolve()};t.addEventListener(e,i);n.promise.cancel=function(){t.removeEventListener(e,i);n.reject(new Error("Canceled"))};return n.promise},Bi=function(){},Wi=function(t){return new Promise(function(e,n){var i,r,o,s,u=function(t){return function(e){try{i.cancel();r.cancel();return t&&t.call(this,e)}catch(t){return n(t)}}.bind(this)}.bind(this);void 0===t&&(t=document);if(null!=t.body)return e();i=(o=t,s="body",function(t,e){var n=Li(),i=setInterval(function(){null!=o[s]&&n.resolve()},20);n.promise.cancel=function(){clearInterval(i);n.reject(new Error("Canceled"))};return n.promise}());r=Ui(t,"DOMContentLoaded");i.catch(Bi);r.catch(Bi);var a=function(){try{return e()}catch(t){return n(t)}},c=function(t){try{throw t}catch(t){return u(n)(t)}};try{return Promise.resolve(Promise.race([i,r])).then(function(t){try{return u(a)()}catch(t){return c(t)}},c)}catch(t){c(t)}})},Gi=-2,Hi={AdLoaded:"AdLoaded",AdStarted:"AdStarted",AdStopped:"AdStopped",AdSkipped:"AdSkipped",AdSkippableStateChange:"AdSkippableStateChange",AdSizeChange:"AdSizeChange",AdLinearChange:"AdLinearChange",AdDurationChange:"AdDurationChange",AdExpandedChange:"AdExpandedChange",AdRemainingTimeChange:"AdRemainingTimeChange",AdVolumeChange:"AdVolumeChange",AdImpression:"AdImpression",AdVideoStart:"AdVideoStart",AdVideoFirstQuartile:"AdVideoFirstQuartile",AdVideoMidpoint:"AdVideoMidpoint",AdVideoThirdQuartile:"AdVideoThirdQuartile",AdVideoComplete:"AdVideoComplete",AdClickThru:"AdClickThru",AdInteraction:"AdInteraction",AdUserAcceptInvitation:"AdUserAcceptInvitation",AdUserMinimize:"AdUserMinimize",AdUserClose:"AdUserClose",AdPaused:"AdPaused",AdPlaying:"AdPlaying",AdLog:"AdLog",AdError:"AdError"},zi={adLinear:{defaultValue:!0},adWidth:{defaultValue:Gi},adHeight:{defaultValue:Gi},adExpanded:{defaultValue:!1},adSkippableState:{defaultValue:!1},adRemainingTime:{defaultValue:Gi},adDuration:{defaultValue:Gi},adVolume:{writable:!0,defaultValue:Gi},adCompanions:{defaultValue:""},adIcons:{defaultValue:!1}},qi={initAd:"initAd",resizeAd:"resizeAd",startAd:"startAd",stopAd:"stopAd",pauseAd:"pauseAd",resumeAd:"resumeAd",expandAd:"expandAd",collapseAd:"collapseAd",skipAd:"skipAd"};(Vi={})[qi.initAd]=[Hi.AdLoaded],Vi[qi.resizeAd]=[Hi.AdSizeChange],Vi[qi.startAd]=[Hi.AdStarted],Vi[qi.stopAd]=[Hi.AdStopped],Vi[qi.pauseAd]=[Hi.AdPaused],Vi[qi.resumeAd]=[Hi.AdPlaying],Vi[qi.expandAd]=[Hi.AdExpandedChange],Vi[qi.collapseAd]=[Hi.AdExpandedChange],Vi[qi.skipAd]=[Hi.AdSkipped,Hi.AdStopped];var $i,Qi,Ki=[Hi.AdLoaded,Hi.AdStarted,Hi.AdStopped,Hi.AdSkipped,Hi.AdImpression,Hi.AdVideoStart,Hi.AdVideoFirstQuartile,Hi.AdVideoMidpoint,Hi.AdVideoThirdQuartile,Hi.AdVideoComplete,Hi.AdError],Ji=[qi.initAd,qi.startAd,qi.stopAd,qi.skipAd],Xi=[Hi.AdVideoStart,Hi.AdVideoFirstQuartile,Hi.AdVideoMidpoint,Hi.AdVideoThirdQuartile,Hi.AdVideoComplete],Yi=(($i={})[Hi.AdSkipped]=["skip"],$i[Hi.AdStarted]=["creativeView"],$i[Hi.AdImpression]=["impression"],$i[Hi.AdVideoStart]=["start"],$i[Hi.AdVideoFirstQuartile]=["firstQuartile"],$i[Hi.AdVideoMidpoint]=["midpoint"],$i[Hi.AdVideoThirdQuartile]=["thirdQuartile"],$i[Hi.AdVideoComplete]=["complete"],$i[Hi.AdUserAcceptInvitation]=["acceptInvitation"],$i[Hi.AdUserMinimize]=["collapse","playerCollapse"],$i[Hi.AdUserClose]=["close","closeLinear"],$i[Hi.AdPaused]=["pause"],$i[Hi.AdPlaying]=["resume"],$i[Hi.AdExpandedChange]=["expand","playerExpand"],$i[Hi.AdError]=["error"],$i),Zi=[Hi.AdStopped,Hi.AdError],tr=function(t,e,n){void 0===e&&(e=null);void 0===n&&(n=document);return new Promise(function(i,r){var o=n.createElement("script");o.addEventListener("load",function(){return i(o)});o.addEventListener("error",function(){return r(new Error("Failed to insert "+t))});o.src=t;o.crossOrigin=e;n.getElementsByTagName("head")[0].appendChild(o)})},er=function(){return""+(1e9+Math.floor(9e9*Math.random()))},nr=function(){return""+(new Date).getTime().toString(36)+er().toString(16).substring(1)},ir=Symbol("name"),rr=Symbol("view"),or="cb_",sr=function(){function t(t,e){void 0===e&&(e=null);var n,i;switch(typeof t){case"object":n=t.name;i=t.callback;break;case"string":n=t;break;case"function":i=t}null==n&&(n=or+nr());this[ir]=n;null!=e&&null!=e.defaultView&&(e=e.defaultView);this[rr]=null!=e?e:window;null!=i&&(this.callback=i)}var e=t.prototype;e.remove=function(){this.exists&&delete this[rr][this.name]};e.invoke=function(){this.exists&&this.callback.apply(this,arguments)};i(t,[{key:"name",get:function(){return this[ir]}},{key:"exists",get:function(){return null!=this.callback}},{key:"callback",get:function(){return null!=this[rr]&&"function"==typeof this[rr][this.name]?this[rr][this.name]:null},set:function(t){null!=this[rr]&&(this[rr][this.name]=t)}}]);return t}(),ur=function(t){return null!=t&&"function"==typeof t.then},ar=function(t){var e=0,n=null;return function(){if(0===e)try{for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];n=t.apply(this,r);e=1}catch(t){n=t;e=2}if(2===e)throw n;return n}},cr=function(t,e){e=e||function(){};return t.then(function(t){return new Promise(function(t){t(e())}).then(function(){return t})},function(t){return new Promise(function(t){t(e())}).then(function(){throw t})})},lr=function(t){return function(){var e=(new Date).getTime(),n=cr(t.apply(void 0,arguments),function(){var t=(new Date).getTime();n.time=t-e});return n}},fr=function(t){function e(e){var n;(n=t.call(this,e)||this).name="CancelError";return n}r(e,t);return e}(function(t){function e(){t.apply(this,arguments)}e.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t;return e}(Error)),hr=function(t){return function(e,n){e=e||0;var i=arguments.length>1,r=n,o=Li(),s=o.promise,u=setTimeout(function(){(t?o.resolve:o.reject)(r)},e),a=function(t){i||(r=t);return s};a.then=s.then.bind(s);a.catch=s.catch.bind(s);a._actualPromise=s;a.cancel=function(){if(u){clearTimeout(u);u=null;o.reject(new fr("Delay canceled"))}};return a}},dr=hr(!0),pr=hr(!1),vr=function(t,e,n){void 0===n&&(n="Timed out");var i=pr(e,new Error(n));i.catch(function(){});return cr(Promise.race([t,i]),function(){i.cancel()})},mr=t(function(t){e=c,n=function(){function t(t){function e(e){var n=t.match(e);return n&&n.length>1&&n[1]||""}function n(e){var n=t.match(e);return n&&n.length>1&&n[2]||""}var i,r=e(/(ipod|iphone|ipad)/i).toLowerCase(),s=!/like android/i.test(t)&&/android/i.test(t),u=/nexus\s*[0-6]\s*/i.test(t),a=!u&&/nexus\s*[0-9]+/i.test(t),c=/CrOS/.test(t),l=/silk/i.test(t),f=/sailfish/i.test(t),h=/tizen/i.test(t),d=/(web|hpw)os/i.test(t),p=/windows phone/i.test(t),v=(/SamsungBrowser/i.test(t),!p&&/windows/i.test(t)),m=!r&&!l&&/macintosh/i.test(t),g=!s&&!f&&!h&&!d&&/linux/i.test(t),y=n(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),_=e(/version\/(\d+(\.\d+)?)/i),b=/tablet/i.test(t)&&!/tablet pc/i.test(t),w=!b&&/[^-]mobi/i.test(t),k=/xbox/i.test(t);if(/opera/i.test(t))i={name:"Opera",opera:o,version:_||e(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)};else if(/opr\/|opios/i.test(t))i={name:"Opera",opera:o,version:e(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||_};else if(/SamsungBrowser/i.test(t))i={name:"Samsung Internet for Android",samsungBrowser:o,version:_||e(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)};else if(/coast/i.test(t))i={name:"Opera Coast",coast:o,version:_||e(/(?:coast)[\s\/](\d+(\.\d+)?)/i)};else if(/yabrowser/i.test(t))i={name:"Yandex Browser",yandexbrowser:o,version:_||e(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)};else if(/ucbrowser/i.test(t))i={name:"UC Browser",ucbrowser:o,version:e(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)};else if(/mxios/i.test(t))i={name:"Maxthon",maxthon:o,version:e(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)};else if(/epiphany/i.test(t))i={name:"Epiphany",epiphany:o,version:e(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)};else if(/puffin/i.test(t))i={name:"Puffin",puffin:o,version:e(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)};else if(/sleipnir/i.test(t))i={name:"Sleipnir",sleipnir:o,version:e(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)};else if(/k-meleon/i.test(t))i={name:"K-Meleon",kMeleon:o,version:e(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)};else if(p){i={name:"Windows Phone",osname:"Windows Phone",windowsphone:o};if(y){i.msedge=o;i.version=y}else{i.msie=o;i.version=e(/iemobile\/(\d+(\.\d+)?)/i)}}else if(/msie|trident/i.test(t))i={name:"Internet Explorer",msie:o,version:e(/(?:msie |rv:)(\d+(\.\d+)?)/i)};else if(c)i={name:"Chrome",osname:"Chrome OS",chromeos:o,chromeBook:o,chrome:o,version:e(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)};else if(/edg([ea]|ios)/i.test(t))i={name:"Microsoft Edge",msedge:o,version:y};else if(/vivaldi/i.test(t))i={name:"Vivaldi",vivaldi:o,version:e(/vivaldi\/(\d+(\.\d+)?)/i)||_};else if(f)i={name:"Sailfish",osname:"Sailfish OS",sailfish:o,version:e(/sailfish\s?browser\/(\d+(\.\d+)?)/i)};else if(/seamonkey\//i.test(t))i={name:"SeaMonkey",seamonkey:o,version:e(/seamonkey\/(\d+(\.\d+)?)/i)};else if(/firefox|iceweasel|fxios/i.test(t)){i={name:"Firefox",firefox:o,version:e(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)};if(/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)){i.firefoxos=o;i.osname="Firefox OS"}}else if(l)i={name:"Amazon Silk",silk:o,version:e(/silk\/(\d+(\.\d+)?)/i)};else if(/phantom/i.test(t))i={name:"PhantomJS",phantom:o,version:e(/phantomjs\/(\d+(\.\d+)?)/i)};else if(/slimerjs/i.test(t))i={name:"SlimerJS",slimer:o,version:e(/slimerjs\/(\d+(\.\d+)?)/i)};else if(/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t))i={name:"BlackBerry",osname:"BlackBerry OS",blackberry:o,version:_||e(/blackberry[\d]+\/(\d+(\.\d+)?)/i)};else if(d){i={name:"WebOS",osname:"WebOS",webos:o,version:_||e(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)};/touchpad\//i.test(t)&&(i.touchpad=o)}else if(/bada/i.test(t))i={name:"Bada",osname:"Bada",bada:o,version:e(/dolfin\/(\d+(\.\d+)?)/i)};else if(h)i={name:"Tizen",osname:"Tizen",tizen:o,version:e(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||_};else if(/qupzilla/i.test(t))i={name:"QupZilla",qupzilla:o,version:e(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||_};else if(/chromium/i.test(t))i={name:"Chromium",chromium:o,version:e(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||_};else if(/chrome|crios|crmo/i.test(t))i={name:"Chrome",chrome:o,version:e(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)};else if(s)i={name:"Android",version:_};else if(/safari|applewebkit/i.test(t)){i={name:"Safari",safari:o};_&&(i.version=_)}else if(r){i={name:"iphone"==r?"iPhone":"ipad"==r?"iPad":"iPod"};_&&(i.version=_)}else i=/googlebot/i.test(t)?{name:"Googlebot",googlebot:o,version:e(/googlebot\/(\d+(\.\d+))/i)||_}:{name:e(/^(.*)\/(.*) /),version:n(/^(.*)\/(.*) /)};if(!i.msedge&&/(apple)?webkit/i.test(t)){if(/(apple)?webkit\/537\.36/i.test(t)){i.name=i.name||"Blink";i.blink=o}else{i.name=i.name||"Webkit";i.webkit=o}!i.version&&_&&(i.version=_)}else if(!i.opera&&/gecko\//i.test(t)){i.name=i.name||"Gecko";i.gecko=o;i.version=i.version||e(/gecko\/(\d+(\.\d+)?)/i)}if(i.windowsphone||!s&&!i.silk){if(!i.windowsphone&&r){i[r]=o;i.ios=o;i.osname="iOS"}else if(m){i.mac=o;i.osname="macOS"}else if(k){i.xbox=o;i.osname="Xbox"}else if(v){i.windows=o;i.osname="Windows"}else if(g){i.linux=o;i.osname="Linux"}}else{i.android=o;i.osname="Android"}var A="";i.windows?A=function(t){switch(e(/Windows ((NT|XP)( \d\d?.\d)?)/i)){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}():i.windowsphone?A=e(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):i.mac?A=(A=e(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):r?A=(A=e(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):s?A=e(/android[ \/-](\d+(\.\d+)*)/i):i.webos?A=e(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):i.blackberry?A=e(/rim\stablet\sos\s(\d+(\.\d+)*)/i):i.bada?A=e(/bada\/(\d+(\.\d+)*)/i):i.tizen&&(A=e(/tizen[\/\s](\d+(\.\d+)*)/i));A&&(i.osversion=A);var S=!i.windows&&A.split(".")[0];b||a||"ipad"==r||s&&(3==S||S>=4&&!w)||i.silk?i.tablet=o:(w||"iphone"==r||"ipod"==r||s||u||i.blackberry||i.webos||i.bada)&&(i.mobile=o);i.msedge||i.msie&&i.version>=10||i.yandexbrowser&&i.version>=15||i.vivaldi&&i.version>=1||i.chrome&&i.version>=20||i.samsungBrowser&&i.version>=4||i.firefox&&i.version>=20||i.safari&&i.version>=6||i.opera&&i.version>=10||i.ios&&i.osversion&&i.osversion.split(".")[0]>=6||i.blackberry&&i.version>=10.1||i.chromium&&i.version>=20?i.a=o:i.msie&&i.version<10||i.chrome&&i.version<20||i.firefox&&i.version<20||i.safari&&i.version<6||i.opera&&i.version<10||i.ios&&i.osversion&&i.osversion.split(".")[0]<6||i.chromium&&i.version<20?i.c=o:i.x=o;return i}function e(t){return t.split(".").length}function n(t,e){var n,i=[];if(Array.prototype.map)return Array.prototype.map.call(t,e);for(n=0;n<t.length;n++)i.push(e(t[n]));return i}function i(t){for(var i=Math.max(e(t[0]),e(t[1])),r=n(t,function(t){var r=i-e(t);return n((t+=new Array(r+1).join(".0")).split("."),function(t){return new Array(20-t.length).join("0")+t}).reverse()});--i>=0;){if(r[0][i]>r[1][i])return 1;if(r[0][i]!==r[1][i])return-1;if(0===i)return 0}}function r(e,n,r){var o=s;if("string"==typeof n){r=n;n=void 0}void 0===n&&(n=!1);r&&(o=t(r));var u=""+o.version;for(var a in e)if(e.hasOwnProperty(a)&&o[a]){if("string"!=typeof e[a])throw new Error("Browser version in the minVersion map should be a string: "+a+": "+String(e));return i([u,e[a]])<0}return n}var o=!0,s=t("undefined"!=typeof navigator&&navigator.userAgent||"");s.test=function(t){for(var e=0;e<t.length;++e){var n=t[e];if("string"==typeof n&&n in s)return!0}return!1};s.isUnsupportedBrowser=r;s.compareVersions=i;s.check=function(t,e,n){return!r(t,e,n)};s._detect=t;s.detect=t;return s},t.exports?t.exports=n():e.bowser=n();var e,n}),gr=["dns-prefetch","preconnect","prefetch","preload"],yr={},_r=gr.reverse();(Qi=document.createElement("link")).relList&&Qi.relList.supports?gr.forEach(function(t){yr[t]=Qi.relList.supports(t)}):Object.assign(yr,{"dns-prefetch":mr.check({msie:"10",msedge:"12"},!0),prefetch:mr.check({msie:"11",msedge:"12"},!0),preload:mr.check({msedge:"17"},!0)});var br,wr,kr=function(t){return!!yr[t]},Ar=function(t,e,n){void 0===e&&(e=document);void 0===n&&(n=null);if(null!=t&&null!=t.href&&null!=t.rel){t.rel=function(t,e){void 0===e&&(e=null);if(null==e){var n=_r.indexOf(t);n>=0&&(e=_r.slice(n+1))}if(null!=e)for(var i=0;i<e.length&&!kr(t);)t=e[i++];return kr(t)?t:null}(t.rel,n);if(null!=t.rel){if("dns-prefetch"===t.rel||"preconnect"===t.rel){t.href=function(t){var e=t.indexOf("//");if(e<0)return null;var n=t.indexOf("/",e+2);return n<0?t:t.substr(0,n)}(t.href);delete t.as;delete t.type}else"prefetch"!==t.rel&&"preload"!==t.rel||(t.href=(r=(i=t.href).indexOf("#"))<0?i:i.substr(0,r));var i,r,o=e.createElement("link");Object.assign(o,t);e.head.appendChild(o)}}},Sr={tr:{regexp:/[\u0069]/g,map:{i:"Ä°"}},az:{regexp:/[\u0069]/g,map:{i:"Ä°"}},lt:{regexp:/[\u0069\u006A\u012F]\u0307|\u0069\u0307[\u0300\u0301\u0303]/g,map:{"iÌ":"I","jÌ":"J","Ä¯Ì":"Ä®","iÌÌ":"Ã","iÌÌ":"Ã","iÌÌ":"Ä¨"}}},Pr=function(t,e){return null==t?"":function(t,e){var n=Sr[e];t=null==t?"":String(t);n&&(t=t.replace(n.regexp,function(t){return n.map[t]}));return t.toUpperCase()}((t=String(t)).charAt(0),e)+t.substr(1)},Er=function(){function t(t,e){this.pendingPromises=0;this.maxPendingPromises=void 0!==t?t:1/0;this.maxQueuedPromises=void 0!==e?e:1/0;this.queue=[]}var e="undefined"!=typeof Promise?Promise:function(){return{then:function(){throw new Error("Queue.configure() before use Queue")}}},n=function(){};t.configure=function(t){e=t};t.prototype.add=function(t){var i=this;return new e(function(e,r,o){if(i.queue.length>=i.maxQueuedPromises)r(new Error("Queue limit reached"));else{i.queue.push({promiseGenerator:t,resolve:e,reject:r,notify:o||n});i._dequeue()}})};t.prototype.getPendingLength=function(){return this.pendingPromises};t.prototype.getQueueLength=function(){return this.queue.length};t.prototype._dequeue=function(){var t=this;if(this.pendingPromises>=this.maxPendingPromises)return!1;var n,i=this.queue.shift();if(!i)return!1;try{this.pendingPromises++;(n=i.promiseGenerator(),n&&"function"==typeof n.then?n:new e(function(t){t(n)})).then(function(e){t.pendingPromises--;i.resolve(e);t._dequeue()},function(e){t.pendingPromises--;i.reject(e);t._dequeue()},function(t){i.notify(t)})}catch(e){t.pendingPromises--;i.reject(e);t._dequeue()}return!0};return t}(),Ir=Symbol("plugins"),Tr=Symbol("queue"),Or=function(){function t(){this[Ir]=[];this[Tr]=new Er(1);this.dispose=ar(this.dispose)}var e=t.prototype;e.addPlugin=function(t){this[Ir].push(t)};e.dispose=function(){return Promise.all(this._runStageHooks("dispose",[]))};e.runPhase=function(t,e,n,i){return new Promise(function(r,o){var s=this;void 0===i&&(i=!1);return r(this[Tr].add(function(){return new Promise(function(r,o){return r(s._runPhase0(t,e,n,i))})}))}.bind(this))};e.runPhaseSync=function(t,e,n,i,r){void 0===r&&(r=!1);var o=Pr(t);this._runStageHooks("before"+o+"Sync",e);var s=n.apply(void 0,e);this._runStage("after"+o,e.concat([s])).catch(i);return r?null:s};e._runPhase0=function(t,e,n,i){return new Promise(function(r,o){var s,u;s=Pr(t);return Promise.resolve(this._runStage("before"+s,e)).then(function(t){try{u=n.apply(void 0,e);return Promise.resolve(this._runStage("after"+s,e.concat([u]))).then(function(t){try{return r(i?null:u)}catch(t){return o(t)}},o)}catch(t){return o(t)}}.bind(this),o)}.bind(this))};e._runStage=function(t,e){return new Promise(function(n,i){return n(Promise.all(this._runStageHooks(t,e)))}.bind(this))};e._runStageHooks=function(t,e){return this[Ir].filter(function(e){return null!=e[t]}).map(function(n){return n[t].apply(n,e)}).filter(ur)};i(t,[{key:"plugins",get:function(){return this[Ir].slice()}}]);return t}(),Cr=Symbol("subscribers"),xr=Symbol("published"),Dr=function(){function t(){this[Cr]={};this[xr]=[]}var e=t.prototype;e.subscribe=function(t,e,n){void 0===n&&(n=null);null==this[Cr][e]&&(this[Cr][e]=[]);this[Cr][e].push({fn:t,ctx:n})};e.unsubscribe=function(t,e){var n=this[Cr][e];if(null!=n)for(var i=n.length-1;i>=0;--i)n[i].fn===t&&n.splice(i,1)};e.publish=function(t,e){void 0===e&&(e=[]);if(!(Ki.indexOf(t)>=0&&this.didPublish(t))){e=this._normalizeEventArgs(t,e);this[xr].push({name:t,args:e});if(null!=this[Cr][t])for(var n=this[Cr][t].slice(),i=0;i<n.length;++i){var r=n[i],o=r.fn,s=r.ctx;o.apply(s,e)}}};e.didPublish=function(t){return this[xr].some(function(e){var n=e.name;return t===n})};e._normalizeEventArgs=function(t,e){switch(t){case Hi.AdClickThru:var n=e[0],i=e[1],r=e[2];return["string"==typeof n?n:void 0,null!=i?i:"",null==r||!!r];default:return e}};i(t,[{key:"published",get:function(){return this[xr]}}]);return t}(),jr=Symbol("data"),Nr=function(){function t(t){this[jr]=Object.create(null)}var e=t.prototype;e._get=function(t){return this[jr][t]};e._put=function(t,e){this[jr][t]=e};e._putAll=function(t){for(var e=Object.keys(t),n=0;n<e.length;++n){var i=e[n],r=t[i];this._put(i,r)}};return t}(),Rr=["before","after"],Fr=Object.keys(Hi).map(function(t){return Hi[t]}),Mr={vast:"vast",video:"video",vpaid:"vpaid",unknown:null},Vr=/^(?:application|text)\/xml\+vast$/i,Lr=/^(?:application|text)\/(?:x-)?javascript$/i,Ur=/^video\//i,Br=function(t){return null==t||""===t},Wr=function(t){var e=t.type;return"VPAID"===t.apiFramework&&Lr.test(e)},Gr=[{eval:function(t){var e=t.type,n=t.apiFramework;return Br(n)&&Vr.test(e)},result:Mr.vast},{eval:Wr,result:Mr.vpaid},{eval:function(t){var e=t.type,n=t.apiFramework;return Br(n)&&Ur.test(e)},result:Mr.video}],Hr=function(t){return Gr.reduce(function(e,n){return n.eval(t)?n.result:e},Mr.unknown)},zr=/^[^:]+:\/\/tpc\.googlesyndication\.com\/pagead\/js\/loader/,qr=/^[^:]+:\/\/imasdk\.googleapis\.com\/js\/sdkloader\/vpaid_adapter\.js\b/,$r={probably:0,maybe:1},Qr=((br={})[Mr.vpaid]=1,br[Mr.video]=2,br[Mr.vast]=3,br),Kr=function(t){return t.width*t.height},Jr=function(t){return t.reduce(function(t,e){return Kr(e)<Kr(t)?e:t})},Xr=function(t){return t.reduce(function(t,e){return Kr(e)<Kr(t)?t:e})},Yr=function(t,e,n,i){var r,o,s,u,a=null!=n?(o=(r=n).maxWidth,s=r.maxHeight,u=r.maxBitrate,function(t){var e=t.width,n=t.height,i=t.bitrate;return e<=o&&n<=s&&!(i>u)}):function(){return!0},c=t.filter(a);if(c.length>0)return i(c);var l=e.filter(a);return l.length>0?i(l):null},Zr=function(t){return t>0?t:1/0},to=function(t,e,n,i,r){var o=function(t,e){return t.reduce(function(t,n){var i=e.canPlayType(n.type),r=$r[i];null!=r&&t[r].push(n);return t},[[],[]])}(t,r),s=o[0],u=o[1];if(s.length+u.length===0)return null;var a={maxWidth:Zr(e),maxHeight:Zr(n),maxBitrate:Zr(i)};return Yr(s,u,a,Xr)||Yr(s,u,null,Jr)},eo=function(t,e){return Qr[t]-Qr[e]},no=((wr={})[Mr.vast]=function(t){return t[0]},wr[Mr.vpaid]=function(t){return function(t){var e=t.filter(Wr);return e.length>0?Xr(e):null}(t)},wr[Mr.video]=function(t,e,n,i,r){var o;null!=r&&"function"==typeof r.canPlayType&&(o=to(t,e,n,i,r));null==o&&(o=to(t,e,n,i,document.createElement("video")));return o},wr),io=Object.keys(no),ro=function(){return(new Date).getTime()},oo=function(t,e,n){t.setAttribute(e,n)},so=function(t,e,n){t[e]=function(t,e){e=Object.assign({pascalCase:!1},e);var n=function(t){return e.pascalCase?t.charAt(0).toUpperCase()+t.slice(1):t};if(0===(t=Array.isArray(t)?t.map(function(t){return t.trim()}).filter(function(t){return t.length}).join("-"):t.trim()).length)return"";if(1===t.length)return e.pascalCase?t.toUpperCase():t.toLowerCase();if(/^[a-z\d]+$/.test(t))return n(t);t!==t.toLowerCase()&&(t=function(t){for(var e=!1,n=!1,i=!1,r=0;r<t.length;r++){var o=t[r];if(e&&/[a-zA-Z]/.test(o)&&o.toUpperCase()===o){t=t.slice(0,r)+"-"+t.slice(r);e=!1;i=n;n=!0;r++}else if(n&&i&&/[a-zA-Z]/.test(o)&&o.toLowerCase()===o){t=t.slice(0,r-1)+"-"+t.slice(r-1);i=n;n=!1;e=!0}else{e=o.toLowerCase()===o;i=n;n=o.toUpperCase()===o}}return t}(t));return n(t=t.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,function(t,e){return e.toUpperCase()}))}(n)},uo=function(t,e,n){void 0===n&&(n=!1);if(null!=t&&null!=t.style){var i=n?"important":"";Object.keys(e).forEach(function(n){t.style.setProperty(n,e[n],i)})}},ao=function(t,e,n,i,r){void 0===r&&(r=!1);return function(t,e,n,i,r,o){void 0===o&&(o=!1);var s=t.createElementNS("http://www.w3.org/2000/svg",n);null!=i&&function(t,e){var n="function"==typeof t.setAttribute?oo:so;Object.keys(e).forEach(function(i){n(t,i,e[i])})}(s,i);null!=r&&uo(s,r,o);return s}(t,0,e,n,i,r)},co=Symbol("runtime"),lo=Symbol("init"),fo=Symbol("setGuest"),ho=Symbol("ensureContainer"),po=Symbol("slot"),vo=Symbol("videoSlot"),mo=Symbol("phaser"),go=Symbol("pubSub"),yo=Symbol("clickThroughUrl"),_o=Symbol("config"),bo=Symbol("logger"),wo=lo,ko=co,Ao=function(){function t(){this[_o]=null;this.dispose=ar(this.dispose)}i(t,null,[{key:"id",get:function(){throw new Error("Method is abstract")}},{key:"defaultConfig",get:function(){return null}}]);var e=t.prototype;e.init=function(){};e.dispose=function(){};e.publish=function(t,e){void 0===e&&(e=[]);return this[ko].publish(t,e)};e.track=function(){var t;(t=this[ko]).track.apply(t,arguments)};e.trackPixel=function(t,e){this[ko].trackPixel(t,e)};e.trackError=function(){var t;(t=this[ko]).trackError.apply(t,arguments)};e[wo]=function(t,e){if(null!=this[_o])throw new Error("Already configured");this[ko]=t;this[_o]=Object.assign({},this.constructor.defaultConfig,e);this.init()};i(t,[{key:"runtime",get:function(){return this[ko]}},{key:"config",get:function(){return this[_o]}},{key:"host",get:function(){return this[ko].host}},{key:"guest",get:function(){return this[ko].guest}},{key:"logger",get:function(){return this[bo]}}]);return t}(),So=lo,Po=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);return e}(Ao),Eo=new(function(){function t(){this._contents=Object.create(null)}var e=t.prototype;e.register=function(t){var e=t.id;if(null!=this._contents[e]&&!(this._contents[e]instanceof Po))throw new Error('Plugin "'+e+'" already registered');this._provisionParent(e);this._contents[e]=t};e.create=function(t,e,n){if(null==this._contents[t])throw new Error('Plugin "'+t+'" not registered');var i=new(0,this._contents[t]);i[So](n,e);return i};e._provisionParent=function(t){var e=t.indexOf(".");if(!(e<0)){var n=t.substr(0,e);null==this._contents[n]&&(this._contents[n]=function(t){return function(e){function n(){return e.apply(this,arguments)||this}r(n,e);i(n,null,[{key:"id",get:function(){return t}}]);return n}(Po)}(n))}};return t}()),Io=Symbol("plugin"),To=Symbol("disposed"),Oo=po,Co=vo,xo=function(){function t(t){if(null==t)throw new Error("Must specify the plugin");this[Io]=t;this[To]=!1}var e=t.prototype;e.dispose=function(){this[To]=!0};e.getAdVolume=function(){var t=this;return this._genericCall("getAdVolume",function(){return t[Io].host.getAdVolume()},-1)};e.getAdDuration=function(){var t=this;return this._genericCall("getAdDuration",function(){return t[Io].host.getAdDuration()},-1)};e.subscribe=function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this._genericCall("subscribe",function(){var e;return(e=t[Io].host).subscribe.apply(e,n)})};e.unsubscribe=function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this._genericCall("unsubscribe",function(){var e;return(e=t[Io].host).unsubscribe.apply(e,n)})};e.getPlayer=function(){var t=this;return this._genericCall("getPlayer",function(){return t[Io][Co]})};e.getSlot=function(){var t=this;return this._genericCall("getSlot",function(){return t[Io][Oo]})};e.getPreviousEvents=function(){var t=this;return this._genericCall("getPreviousEvents",function(){return t[Io].runtime.hostInfo.publishedEvents.map(function(t){return t.name})},[])};e._genericCall=function(t,e,n){void 0===n&&(n=void 0);if(this[To]);else try{return e()}catch(t){}return n};return t}(),Do=1,jo=2,No=Symbol("name"),Ro=Symbol("states"),Fo=Symbol("infos"),Mo=Symbol("state"),Vo=Symbol("initialState"),Lo=Symbol("timings"),Uo=0,Bo=function(){function t(t,e,n){void 0===e&&(e=Uo);void 0===n&&(n=void 0);this[No]=t;this[Ro]=[];this[Fo]=[];this[Lo]=[];this[Vo]=e;this.set(e,n)}var e=t.prototype;e.getInfo=function(t){if(t<=this.state)return this[Fo][t]};e.set=function(t,e){void 0===e&&(e=void 0);var n=this[Mo];if(t<n)throw new Error("Invalid "+this[No]+" state change: "+n+" â "+t);if(t!==n){this._ensureStates(t);for(var i=n+1;i<t;++i)this[Ro][i].resolve();this[Ro][t].resolve(e);this[Fo][t]=e;this[Lo][t]=ro();this[Mo]=t;this[Vo]}};e.maybeSet=function(t,e){void 0===e&&(e=void 0);if(this.reached(t))return!1;this.set(t,e);return!0};e.reach=function(t){return new Promise(function(e,n){this._ensureStates(t);return e(this[Ro][t].promise)}.bind(this))};e.reached=function(t){return t<=this.state};e.time=function(t){return this[Lo][t]};e.timeBetween=function(t,e){if(t>e)throw new Error("toState ("+e+") must be greater than or equal to fromState ("+t+")");return this.time(e)-this.time(t)};e._ensureStates=function(t){for(var e=this[Ro].length;e<=t;++e){this[Ro].push(Li());this[Fo].push(void 0);this[Lo].push(void 0)}};i(t,[{key:"name",get:function(){return this[No]}},{key:"state",get:function(){return this[Mo]}}]);return t}(),Wo=function(t,e,n,i){e=e||"&";n=n||"=";var r={};if("string"!=typeof t||0===t.length)return r;var o=/\+/g;t=t.split(e);var u=1e3;i&&"number"==typeof i.maxKeys&&(u=i.maxKeys);var a=t.length;u>0&&a>u&&(a=u);for(var c=0;c<a;++c){var l,f,h,d,p=t[c].replace(o,"%20"),v=p.indexOf(n);if(v>=0){l=p.substr(0,v);f=p.substr(v+1)}else{l=p;f=""}h=decodeURIComponent(l);d=decodeURIComponent(f);s(r,h)?Array.isArray(r[h])?r[h].push(d):r[h]=[r[h],d]:r[h]=d}return r},Go=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},Ho=function(t,e,n,i){e=e||"&";n=n||"=";null===t&&(t=void 0);return"object"==typeof t?Object.keys(t).map(function(i){var r=encodeURIComponent(Go(i))+n;return Array.isArray(t[i])?t[i].map(function(t){return r+encodeURIComponent(Go(t))}).join(e):r+encodeURIComponent(Go(t[i]))}).join(e):i?encodeURIComponent(Go(i))+n+encodeURIComponent(Go(t)):""},zo=t(function(t,e){e.decode=e.parse=Wo;e.encode=e.stringify=Ho}),qo=(zo.decode,zo.parse,zo.encode,zo.stringify),$o="cdn.doubleverify.com",Qo="rtb0.doubleverify.com",Ko="tps.doubleverify.com",Jo="https://"+$o+"/dvtp_src.js",Xo="https://"+$o+"/dvbs_src.js",Yo={tagtype:"video",dvtagver:"6.1.src",tagformat:"2",adsrv:"166"},Zo=Symbol("facade"),ts=Symbol("proxyCb"),es=function(){function t(t){this[Zo]=t;Ar({href:"//"+$o,rel:"preconnect",pr:"1.0"})}var e=t.prototype;e.start=function(){return new Promise(function(t,e){var n=this;this[ts]=new sr(function(){return n.facade.proxy});this.facade.config.adid=this[ts].name;return t()}.bind(this))};e.decide=function(){return new Promise(function(t,e){return t(3)})};e.decideNow=function(){return new Promise(function(t,e){return t(this.decide())}.bind(this))};e.dispose=function(){return new Promise(function(t,e){if(null!=this[ts]){this[ts].remove();this[ts]=null}return t()}.bind(this))};e._insertScript=function(t){return new Promise(function(e,n){var i;i=t+"?"+qo(this.facade.config);return Promise.resolve(tr(i)).then(function(t){try{return e()}catch(t){return n(t)}},n)}.bind(this))};i(t,[{key:"facade",get:function(){return this[Zo]}},{key:"logger",get:function(){return this.facade.logger}}]);return t}(),ns=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);e.prototype.start=function(){return new Promise(function(e,n){return Promise.resolve(t.prototype.start.call(this)).then(function(t){try{return Promise.resolve(this.facade.creative.reach(1)).then(function(t){try{return Promise.resolve(this._insertScript(Jo)).then(function(t){try{return e()}catch(t){return n(t)}},n)}catch(t){return n(t)}}.bind(this),n)}catch(t){return n(t)}}.bind(this),n)}.bind(this))};return e}(es),is=2,rs=Symbol("state"),os=Symbol("recommendationFromDvCb"),ss=Symbol("ackConfirmationFromDvCb"),us=Symbol("timedOut"),as=Symbol("shouldAcknowledge"),cs=function(t){function e(e){var n;(n=t.call(this,e)||this)[rs]=new Bo("blocking-state");n[os]=null;n[ss]=null;n[us]=!1;n[as]=!1;n._scheduleAndProcessRecommendationTimeout=ar(n._scheduleAndProcessRecommendationTimeout);Ar({href:"//"+Qo,rel:"preconnect",pr:"1.0"});Ar({href:"//"+Ko,rel:"preconnect",pr:"1.0"});return n}r(e,t);var n=e.prototype;n.start=function(){return new Promise(function(e,n){return Promise.resolve(t.prototype.start.call(this)).then(function(t){try{this[os]=new sr(this._processRecommendationFromDv.bind(this));this.facade.config.DVP_DCB=this[os].name;this[rs].set(1);return Promise.resolve(this._insertScript(Xo)).then(function(t){try{return e()}catch(t){return n(t)}},n)}catch(t){return n(t)}}.bind(this),n)}.bind(this))};n.decide=function(){return new Promise(function(t,e){return t(this[rs].reach(is))}.bind(this))};n.decideNow=function(){return new Promise(function(t,e){this._scheduleAndProcessRecommendationTimeout();return t(this.decide())}.bind(this))};n.dispose=function(){return new Promise(function(e,n){function i(){if(null!=this[os]){this[os].remove();this[os]=null}if(null!=this[ss]){this[ss].remove();this[ss]=null}return Promise.resolve(t.prototype.dispose.call(this)).then(function(t){try{return e()}catch(t){return n(t)}},n)}return this[rs].reached(1)?Promise.resolve(this.decideNow()).then(function(t){try{if(this[as]&&!this[rs].reached(3))return Promise.resolve(this[rs].reach(3)).then(function(t){try{return e.call(this)}catch(t){return n(t)}}.bind(this),n);function e(){return i.call(this)}return e.call(this)}catch(t){return n(t)}}.bind(this),n):i.call(this)}.bind(this))};n._getBlockingTimeout=function(){var t=this.facade.config.blkto,e=null!=t?parseInt(t,10):500;return isNaN(e)?500:Math.min(Math.max(e,100),900)};n._scheduleAndProcessRecommendationTimeout=function(){return new Promise(function(t,e){var n,i,r;return Promise.resolve(this[rs].reach(1)).then(function(o){try{n=this[rs].time(1);i=this._getBlockingTimeout();if((r=n+i-ro())>0)return Promise.resolve(dr(r)).then(function(t){try{return s.call(this)}catch(t){return e(t)}}.bind(this),e);function s(){this[us]=this[rs].maybeSet(is,"block"===this.facade.config.blktoa?Do:jo);this[us]&&(this.facade.timedOut=this[us]);return t()}return s.call(this)}catch(t){return e(t)}}.bind(this),e)}.bind(this))};n._processRecommendationFromDv=function(t,e){this[as]=!0;this[rs].maybeSet(is,t);this._sendRecommendationAckToDv(e,ro())};n._sendRecommendationAckToDv=function(t,e){return new Promise(function(n,i){var r,o,s,u,a,c,l,f,h;r=this;return Promise.resolve(new Promise(function(t,e){return this.facade.creative.reached(3)?t([!1,!1]):Promise.resolve(Promise.race([this.facade.decide().then(function(t){return!!t&&r.facade.creative.reach(1).then(function(){return!0})}),this.facade.creative.reach(3).then(function(){return!1})])).then(function(n){try{return t([n,!this[us]])}catch(t){return e(t)}}.bind(this),e)}.bind(this))).then(function(r){try{s=(o=r)[0],u=o[1];a=this.facade.creative.time(1)||-1;c=this.facade.creative.time(2)||-1;l=Li();this[ss]=new sr(function(){l.resolve()});f=[s,u,a,c,e,this[ss].name];var d=function(){try{this[rs].set(3);return n()}catch(t){return i(t)}}.bind(this),p=function(t){try{return d()}catch(t){return i(t)}};try{(h=new sr(t)).invoke.apply(h,f);return Promise.resolve(Promise.race([l.promise,dr(500)])).then(function(t){try{return d()}catch(t){return p()}},p)}catch(t){p()}}catch(t){return i(t)}}.bind(this),i)}.bind(this))};return e}(es),ls=function(t){return new(t.blockingEnabled?cs:ns)(t)},fs=Symbol("logger"),hs=Symbol("config"),ds=Symbol("proxy"),ps=Symbol("mode"),vs=Symbol("decision"),ms=Symbol("selectMode"),gs=Symbol("timedOut"),ys=Symbol("creativeState"),_s=function(){function t(t){void 0===t&&(t=ls);this[ys]=new Bo("dvf-creative");this[vs]=Li();this[ms]=t;this[ps]=null;this[gs]=!1;this.start=ar(this.start);this._determineDecision=ar(this._determineDecision);this.dispose=ar(this.dispose)}var e=t.prototype;e.start=function(t,e){return new Promise(function(n,i){this[ds]=e;this[hs]=Object.assign({},t,Yo);var r=function(){try{return n()}catch(t){return i(t)}},o=function(t){try{this[vs].reject(t);return r()}catch(t){return i(t)}}.bind(this);try{this[ps]=new this[ms](this);return Promise.resolve(this[ps].start()).then(function(t){try{return r()}catch(t){return o(t)}},o)}catch(t){o(t)}}.bind(this))};e.decide=function(){return new Promise(function(t,e){if(null==this[ps])return e(new Error("Not started yet"));this._determineDecision();return t(this[vs].promise)}.bind(this))};e.decideNow=function(){return new Promise(function(t,e){if(null==this[ps])return e(new Error("Not started yet"));this[ps].decideNow();return t(this.decide())}.bind(this))};e.onStartCreativeLoad=function(){this.creative.maybeSet(1)};e.onEndCreativeLoad=function(){this.creative.maybeSet(2)};e.dispose=function(){return new Promise(function(t,e){function n(){return t()}this.creative.maybeSet(3);return null!=this[ps]?Promise.resolve(this[ps].dispose()).then(function(t){try{this[ps]=null;return n.call(this)}catch(t){return e(t)}}.bind(this),e):n.call(this)}.bind(this))};e._determineDecision=function(){return new Promise(function(t,e){var n;return Promise.resolve(this[ps].decide()).then(function(i){try{n=i!==Do||this.dryRun;this[vs].resolve(n);return t()}catch(t){return e(t)}}.bind(this),e)}.bind(this))};i(t,[{key:"logger",get:function(){return this[fs]}},{key:"blockingEnabled",get:function(){return"1"===this[hs].blk}},{key:"dryRun",get:function(){return"1"===this[hs].dry}},{key:"timedOut",get:function(){return this[gs]},set:function(t){this[gs]=t}},{key:"creative",get:function(){return this[ys]}},{key:"config",get:function(){return this[hs]}},{key:"proxy",get:function(){return this[ds]}}]);return t}(),bs=Symbol("dvFacade"),ws=po,ks=vo,As=function(t){function e(){var e;(e=t.call(this)||this)[bs]=new _s;return e}r(e,t);i(e,null,[{key:"id",get:function(){return"dv"}}]);var n=e.prototype;n.init=function(){this[bs].start(this.config,new xo(this))};n.dispose=function(){return this[bs].dispose()};n.beforeInitAd=function(t,e,n,i,r,o){return new Promise(function(t,e){this[ws]=o.slot;this[ks]=o.videoSlot;this[bs].onStartCreativeLoad();this._publishErrorOnBlocked();return t()}.bind(this))};n.beforeAdLoaded=function(){return new Promise(function(t,e){this[bs].onEndCreativeLoad();return Promise.resolve(this[bs].decideNow()).then(function(n){try{return t()}catch(t){return e(t)}},e)}.bind(this))};n._publishErrorOnBlocked=function(){return new Promise(function(t,e){return Promise.resolve(this[bs].decide()).then(function(n){try{if(!n){this.trackBlockingResult(!0,this[bs].timedOut?"timeout":null);this.publish(Hi.AdError,["Ad blocked"])}return t()}catch(t){return e(t)}}.bind(this),e)}.bind(this))};n.trackBlockingResult=function(t,e){void 0===e&&(e=null);var n=t?"dv-res-block":"dv-res-allow",i=null!=e?{197:e}:null;this.track(n,i,null,!0)};return e}(Ao);Eo.register(As);var Ss=function(){return"__forensiqcb__"+nr()},Ps=Symbol("cbName"),Es=function(t){function e(){var e;(e=t.call(this)||this)[Ps]=Ss();return e}r(e,t);var n=e.prototype;n.beforeInitAd=function(t,e,n,i,r,o){return new Promise(function(t,e){var n,i,r,o,s,u=function(){try{this._trackResult(n,r,i);this._handleResult(n,i);return t()}catch(t){return e(t)}}.bind(this),a=function(t){try{s=t&&"Timed out"===t.message?[204,null]:[0,t];n=s[0];i=s[1];return u()}catch(t){return e(t)}};try{o=this._getForensiqStatus();return Promise.resolve(o).then(function(t){try{n=t;r=o.time;return u()}catch(t){return a(t)}},a)}catch(t){a(t)}}.bind(this))};n.dispose=function(){delete window[this[Ps]]};n._getForensiqStatus=function(){var t,e,n=this,i=(t=this[Ps],e=function(e,n){return{callback:t,org:n.org,sk:n.sk,s:n.s,p:n.p,a:n.a,cmp:n.cmp,url:window.location.href,ua:navigator.userAgent}}(0,this.config),"https://s.fqtag.com/a/?"+qo(e)),r=new Promise(function(t){window[n[Ps]]=function(e){t(e);delete window[n[Ps]]}});return lr(function(){return new Promise(function(t,e){return Promise.resolve(tr(i)).then(function(n){try{return t(vr(r,1500,"Timed out"))}catch(t){return e(t)}},e)})})()};n._handleResult=function(t,e){if(200===t);else if(500===t)throw new Error("Ad blocked")};n._trackResult=function(t,e,n){var i={190:e};null!=n?this.trackError("fq-res-"+t,n,null,i,!0):this.track("fq-res-"+t,null,i,!0)};i(e,null,[{key:"id",get:function(){return"fq"}}]);return e}(Ao);Eo.register(Es);for(var Is=function(t){var e,n,i,r,o=(n=function(){var t=function(t){return void 0!==t},e=function(){var e="u";try{t(window.opera)&&t(window.opera.buildNumber)?e="o":t(window.mozInnerScreenY)?e="g":t(window.chrome)&&t(window.chrome.csi)?e="c":t(window.msWriteProfilerMark)&&t(window.crypto)?e="e":t(window.attachEvent)||t(window.msCrypto)?e="i":t(window.WebKitPoint)&&(e="w")}catch(t){}return e}(),n=function(){var e,n=function(){var e={g:"",q:""};try{e.q=window.parent.parent.parent.parent.parent.parent.parent.parent.parent.parent.location.href}catch(o){var n,i=(i=o.message).substring(i.lastIndexOf("<")+1,i.lastIndexOf(">"));if((n=t(i))&&(n=!1,t(window.navigator)&&t(window.navigator.userAgent))){var r=window.navigator.userAgent.match(/Firefox\/([\.0-9]+)/);null!==r&&2==r.length&&(r=r[1].split("."),3==parseInt(r[0],10)&&6>=parseInt(r[1],10)&&(3==r.length?13>=parseInt(r[2],10)&&(n=!0):n=!0))}n&&(e.g=i)}return e},i={};try{i.a=encodeURIComponent(top.location.href)}catch(t){}try{i.b=encodeURIComponent(parent.location.href)}catch(t){}if(window!=top){try{i.c=encodeURIComponent(parent.document.referrer)}catch(t){}try{i.e=encodeURIComponent(window.document.referrer)}catch(t){}}try{i.d=encodeURIComponent(window.location.href)}catch(t){}try{var r=n();i.g=encodeURIComponent(r.g);i.q=encodeURIComponent(r.q)}catch(t){}i=function(e){var n,i,r={};for(i in e)e.hasOwnProperty(i)&&(n=e[i],t(r[n])?r[n]+=i:r[n]=i);e={};for(i in r)r.hasOwnProperty(i)&&(e[n=r[i]]=i);return e}(i=function(e){for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];""!==i&&"null"!==i&&"undefined"!==i&&null!==i&&t(i)||delete e[n]}return e}(i)),n=[];for(e in i)i.hasOwnProperty(e)&&n.push({key:e,val:i[e]});n.sort(function(t,e){return t.val.length>e.val.length?1:t.val.length<e.val.length?-1:0});return n}();return{br:e,urls:n}},i=function(t,e,n){var i=["//"+y.getFwServerDomain(),"/db2/video/",e+"/",n+"/","skeleton.js?videoId=",l.getVideoId()].join("");e=function(t){i=[i,"&adsafe_url=",t.val,"&adsafe_type=",t.key].join("")};try{t.urls.forEach(e),i=[i,"&adsafe_jsinfo=br:",t.br].join("")}catch(t){a.report(p.DIAGNOSTIC.BUILD_VIDEOAPI_URL,t)}return i},r=function(){if(this.readyState==p.XHR.READY_STATE.DONE)if(this.status==p.HTTP.STATUS_CODE.OK)try{e("failed"===JSON.parse(this.responseText).action?p.BLOCKING_RESPONSE.BLOCK:p.BLOCKING_RESPONSE.SAFE)}catch(t){a.report(p.DIAGNOSTIC.BLOCK_AD,t)}else a.report(p.DIAGNOSTIC.BLOCKING_URL_REQUEST_ERR,{message:this.status})},{init:function(t,o,s){var u=n();t=i(u,t,o);e=s;y.sendUrlRequest(t,r)}}),s=function(){var t=window;return{getWin:function(){return t},setWin:function(e){(e=e&&e.ownerDocument)&&e.defaultView?t=e.defaultView:e&&e.parentWindow?t=e.parentWindow:a.report(p.DIAGNOSTIC.SET_CONTEXT,{message:""})},getDoc:function(){return t.document}}}(),u=function(){var t,e=[],n=!1,i=function n(i){if(l.isEstablished()){var r;try{(r=y.stringify(i))&&("AdImpression"===i.messageType?y.getWindow()[t](r):y.getWindow().postMessage(r,"*"))}catch(t){a.report(p.DIAGNOSTIC.DISPATCH_MESSAGE,t)}}else if(l.canNeverBeEstablished()){r=y.getFwServerDomain();var o=u.config;try{"AdImpression"===i.messageType&&(u.isCmTag?y.sendUrlRequest(["//"+r,"/mon?",function(t){var e="";Object.keys(t).forEach(function(n){-1===["advEntityId","pubEntityId","partner","debug"].indexOf(n)&&(e+="&"+n+"="+t[n])});return e}(o)].join("")):u.isFwTag&&y.sendUrlRequest(["//"+r,"/rfw/st/",o.advEntityId+"/"+o.pubEntityId,"/skeleton.js"].join("")))}catch(n){a.report(p.DIAGNOSTIC.DISPATCH_MESSAGE,n)}}else try{e.push(i)}catch(t){a.report(p.DIAGNOSTIC.CACHE_MESSAGE,t)}},r=function(t,e){y.sendMonitoringDebugPixel(p.MONITORING.AD_STOPPED,u.monitoringQS());o(t,e)},o=function(t,e){try{i({messageType:t,id:l.getVideoId(),time:y.now(),partner:c.getPartnerCode(),eventData:e})}catch(t){a.report(p.DIAGNOSTIC.SEND_EVENT,t)}},s={AdImpression:function(t,e){var i=g.getInjector();n||(e&&(e.ext_passthrough=u.passThroughObj),n=!0,y.sendMonitoringDebugPixel(p.MONITORING.AD_IMPRESSION,u.monitoringQS()),i.onInjectionResolution(function(){o(t,e)}),i.resolveInjection())},AdStopped:r,AdVideoComplete:r,AdError:function(t,e){y.sendMonitoringDebugPixel(p.MONITORING.AD_ERROR,u.monitoringQS());o(t,e)}};return{sendEvent:function(t,e){var n=s[t]||o;g.vans.hasBegun()&&n(t,e)},setImpressionCallback:function(e){t=e},flushUnsentEvents:function(){try{e.forEach(i)}catch(t){a.report(p.DIAGNOSTIC.FLUSH_UNSENT_EVENTS,t)}},passThroughObj:{},monitoringQS:function(){},clearSessionState:function(){n=!1;e.length=0}}}(),a=function(){var t={};return{report:function(e,n,i){if(!t[e])try{t[e]=!0;var r="//"+y.getFwServerDomain()+"/jsdiagnostic?code:vans-js_"+encodeURIComponent(c.getPartnerCode())+"_"+e+"&err:"+encodeURIComponent(n.message);i&&(r+="&config:"+encodeURIComponent(JSON.stringify(i)));y.sendUrlRequest(r)}catch(t){}}}}(),c={initCM:function(t,e){v.initCM(t,e)},initFW:function(t,e,n){v.initFW(t,e,n)},getPartnerCode:function(){return g.get().partnerCode},getPassThroughObj:function(){return g.get().passThroughObj},getAltMonDomain:function(){return g.get().monDomain},hasDebugEnabled:function(){return g.get().debugEnabled}},l=function(){var t,e=!1,n=!1,i=function(t,n){t==r()&&(e=!0,u.setImpressionCallback(n),y.sendMonitoringDebugPixel(p.MONITORING.HANDSHAKE_SUCCESS,u.monitoringQS()),u.flushUnsentEvents());return e?p.VIDEO_CHANNEL:null},r=function(){t||(t=y.generateUID());return t};return{getVideoId:r,setNodeInterface:function(t){var e,n,o,s=r();try{e="IASid"+s,n="blockAd"+s,o="getIasVidBridgeVersion"+s,t.className+=" integral-vid-"+s,t[n]=y.noop,t[e]=i,t[o]=function(){return"2"},t.getVersion=function(){return p.INTERNAL_VERSION}}catch(t){a.report(p.DIAGNOSTIC.SET_NODE_INTERFACE,t)}},isEstablished:function(){return e},canNeverBeEstablished:function(){return n},giveUpOnHandshaking:function(){n=!0;u.flushUnsentEvents()},resetHandshake:function(){n=e=!1}}}(),f=function(){var t=function(){var t=[];return{addCallback:function(e,n){var i=0;n=n||Number.MAX_VALUE;t.push(function(){i<n&&(i++,e.apply({},arguments))})},executeCallbacks:function(){var e=arguments;t.forEach(function(t){t.apply({},e)})}}}();return{addCallback:function(e){t.addCallback(e,1)},executeCallbacks:t.executeCallbacks}},h=function(t){var e=!1,n=!1,i=new f,r=!1,o=function(o){var s,u=function(){!e&&t.parentNode?(t.parentNode.appendChild(o),clearInterval(s),n=e=!0,y.sendMonitoringDebugPixel(p.MONITORING.FWJS_INJECTED,m.buildMonitoringQS())):r&&(n=!0,clearInterval(s),l.giveUpOnHandshaking());n&&i.executeCallbacks()};u();e||(s=setInterval(u,200))},s=function(){var e=t&&t.ownerDocument,n=e&&e.parentWindow;return!!(e&&e.defaultView||n)};return{injectTagScript:function(t,e){var i,r=y.getDocument();if(s())try{(i=r.createElement("script")).src=function(t,e){var n,i=y.getFwServerDomain();try{n=["//",i,t,"?videoId=",l.getVideoId(),function(t){var e="";Object.keys(t).forEach(function(n){"advEntityId"!=n&&"pubEntityId"!=n&&"partner"!=n&&(e+="&"+n+"="+t[n])});return e}(e)].join("")}catch(t){a.report(p.DIAGNOSTIC.BUILD_SRC_URL,t)}return n}(t,e),i.addEventListener("load",function(t){y.sendMonitoringDebugPixel(p.MONITORING.FWJS_LOAD_SUCCESS,m.buildMonitoringQS())}),i.addEventListener("error",function(t){l.giveUpOnHandshaking();y.sendMonitoringDebugPixel(p.MONITORING.FWJS_LOAD_ERROR,m.buildMonitoringQS())}),o(i)}catch(t){l.giveUpOnHandshaking(),y.sendMonitoringPixel(p.MONITORING.INJECTION_ERR)}else n=!0,l.giveUpOnHandshaking()},sendInjectionDiagnostics:function(){var e=t&&t.ownerDocument,n=t&&t.parentNode,i=e&&(e.defaultView||e.parentWindow),r=p.MONITORING.AD_NODE_TYPE+"_"+(t?t.constructor.name||t.nodeName||typeof t:"null");t||y.sendMonitoringDebugPixel(p.MONITORING.AD_NODE_NULL,m.buildMonitoringQS());t&&!n&&y.sendMonitoringDebugPixel(p.MONITORING.AD_NODE_DETACHED,m.buildMonitoringQS());t&&!e&&y.sendMonitoringDebugPixel(p.MONITORING.AD_NODE_NO_DOC,m.buildMonitoringQS());e&&!i&&y.sendMonitoringDebugPixel(p.MONITORING.AD_NODE_NO_WINDOW,m.buildMonitoringQS());y.sendMonitoringDebugPixel(r,m.buildMonitoringQS())},onInjectionResolution:function(t){i.addCallback(t);n&&i.executeCallbacks()},resolveInjection:function(){r=!0}}},d=function(){var t,e=!1,n=function e(n){var i,r=!1;try{r="unloadComplete"===(i=JSON.parse(n.data)).msg&&i.id==l.getVideoId()}catch(t){}r&&(t(),y.getWindow().removeEventListener("message",e))};return{registerMeasurementCompleteHandler:function(i){t=i;e||(y.getWindow().addEventListener("message",n),e=!0)}}},p={INTERNAL_VERSION:"3.6.0",VIDEO_CHANNEL:"jv3",PROD_DOMAIN:"pixel.adsafeprotected.com",DIAGNOSTIC_MONITORING_DOMAIN:"spixel.adsafeprotected.com",S4_ITERATIONS:8,EVENTS:{AD_IMPRESSION:"AdImpression"},PSUEDO_IMPRESSION_ID_PREFIX:"vidId_",DIAGNOSTIC:{INIT_FW:"ifw",INIT_CM:"icm",FLUSH_UNSENT_EVENTS:"fue",CACHE_MESSAGE:"cm",SEND_EVENT:"se",BLOCK_AD:"ba",SEND_MONITORING_PIXEL:"smp",SET_NODE_INTERFACE:"sni",BUILD_SRC_URL:"bsurl",BUILD_VIDEOAPI_URL:"bvu",BLOCKING_URL_REQUEST_ERR:"blk_url_req_err",DISPATCH_MESSAGE:"dm",SET_CONTEXT:"sc",STRINGIFY_EVENT_ERROR:"ser"},MONITORING:{INJECTION_ERR:"inj_err",VANS_INITIALIZED:"init",HANDSHAKE_SUCCESS:"hs",AD_IMPRESSION:"ai",DEFERRED_INTERFACE:"vans_defer",AD_STOPPED:"adstop",AD_ERROR:"aderr",AD_NODE_NULL:"adnode_null",AD_NODE_DETACHED:"adnode_detached",AD_NODE_NO_DOC:"adnode_nodoc",AD_NODE_NO_WINDOW:"adnode_nowin",AD_NODE_TYPE:"adnode_type",FWJS_INJECTED:"fwjsinj",FWJS_LOAD_SUCCESS:"fwjsload",FWJS_LOAD_ERROR:"fwjsload_err",IMPRESSION_DOMAIN_BLOCKING:"impblock"},HTTP:{VERBS:{GET:"GET"},STATUS_CODE:{OK:200}},BLOCKING_RESPONSE:{BLOCK:"block",SAFE:"safe"},XHR:{READY_STATE:{DONE:4}}},v=function(){var t=function(t,e,n,i){l.setNodeInterface(n);"function"==typeof e.onMeasurementComplete&&(new d).registerMeasurementCompleteHandler(e.onMeasurementComplete);var r={};Object.getOwnPropertyNames(e).forEach(function(t){"debug"!==t&&"onMeasurementComplete"!==t&&(r[t]=e[t])});i.injectTagScript(t,r)};return{initCM:function(e,n){var i;if(!g.vans.hasBegun()){if(!e||!e.partner)throw Error("Missing partner code");s.setWin(n);g.setPreErrorConfig(e,"cm");try{if(!e.anId)throw Error("Missing anId");g.vans.begin();i=new h(n);g.setInjector(i);g.setConfig(e);y.sendMonitoringDebugPixel(p.MONITORING.VANS_INITIALIZED,m.buildMonitoringQS());y.sendMonitoringDebugPixel(p.MONITORING.IMPRESSION_DOMAIN_BLOCKING,m.buildMonitoringQS(),y.getFwServerDomain());i.sendInjectionDiagnostics();t("/jsvid",e,n,i)}catch(t){a.report(p.DIAGNOSTIC.INIT_CM,t)}}},initFW:function(e,n,i){var r,u;if(!g.vans.hasBegun()){if(!e||!e.partner)throw Error("Missing partner code");s.setWin(n);g.setPreErrorConfig(e,"fw");try{if(!e.advEntityId||!e.pubEntityId)throw Error("Missing client id: advEntityId: "+e.advEntityId+" ,pubEntityId: "+e.pubEntityId);g.vans.begin();u=new h(n);g.setInjector(u);g.setConfig(e);y.sendMonitoringDebugPixel(p.MONITORING.VANS_INITIALIZED,m.buildMonitoringQS());y.sendMonitoringDebugPixel(p.MONITORING.IMPRESSION_DOMAIN_BLOCKING,m.buildMonitoringQS(),y.getFwServerDomain());u.sendInjectionDiagnostics();i&&o.init(e.advEntityId,e.pubEntityId,i);r="/fwjsvid/st/"+e.advEntityId+"/"+e.pubEntityId+"/skeleton.js";t(r,e,n,u)}catch(t){a.report(p.DIAGNOSTIC.INIT_FW,t)}}}}}(),m={buildMonitoringQS:function(){var t=p.PSUEDO_IMPRESSION_ID_PREFIX+l.getVideoId(),e=g.getInfoParams();return["&chanId="+e.anId,"planId="+e.advEntityId,"placementId="+e.pubEntityId,"advId="+e.campId,"pubOrder="+e.placementId,"pubCreative="+e.creativeId,"impId="+(e.impId||t),"ts="+Date.now(),"custom="+p.INTERNAL_VERSION,"custom2=jv3&custom3="+g.get().tagType,"adsafe_par"].join("&")}},g=function(){var t,e={},n=!1,i={};return{vans:{hasBegun:function(){return n},begin:function(){n=!0}},setInjector:function(e){t=e},getInjector:function(){return t},setPreErrorConfig:function(t,n){e.tagType=n;var i;i="string"==typeof(i=t.partner)?i.replace(/[^\w-.]/g,""):i;e.partnerCode=i;e.debugEnabled=t.debug&&t.debug.enabled;e.debugEnabled&&(e.monDomain=t.debug.monDomain)},setConfig:function(t){!function(t){"impId creativeId campId placementId advEntityId pubEntityId anId".split(" ").forEach(function(e){i[e]=t[e]});i.monDomain=e.monDomain}(t);e.passThroughObj={vv:p.INTERNAL_VERSION,vanstag:e.tagType,xcamp:i.campId,xplac:i.placementId,xcreat:i.creativeId,ximp:i.impId,xpc:e.partnerCode};e.config=t;!function(t){u.monitoringQS=m.buildMonitoringQS;u.passThroughObj=e.passThroughObj;Object.keys(t).forEach(function(e){u[e]=t[e]})}({isFwTag:"fw"===e.tagType,isCmTag:"cm"===e.tagType,config:t})},getInfoParams:function(){return i},get:function(){return e}}}(),y={now:function(){return(new Date).getTime()},sendMonitoringPixel:function(t){try{this.sendUrlRequest(["//"+y.getFwServerDomain(),"/mon?anId=10173&campId=",encodeURIComponent(c.getPartnerCode()),"&pubId=",encodeURIComponent("vans-js_"+t)].join(""))}catch(t){a.report(p.DIAGNOSTIC.SEND_MONITORING_PIXEL,t)}},sendMonitoringDebugPixel:function(){var t=[p.MONITORING.AD_STOPPED],e={};return function(n,i,r){var o=c.hasDebugEnabled(),s=-1<t.indexOf(n)&&e[n];if(o&&!s)try{var u,l=p.DIAGNOSTIC_MONITORING_DOMAIN,f=c.getAltMonDomain(),h=(f=(r=r||f||l)===f?"925116":"10173",y.addProtocolToDomain(r)),d=encodeURIComponent(n),v=encodeURIComponent(c.getPartnerCode());u=i.replace(/=undefined&/g,"=&");y.sendUrlRequest(h+"/mon?anId="+f+"&campId="+v+"&pubId="+d+u);e[n]=!0}catch(t){a.report(p.DIAGNOSTIC.SEND_MONITORING_PIXEL,t)}}}(),sendUrlRequest:function(t,e){var n,i;if(t){n=this.getWindow();try{i=new n.XMLHttpRequest,e&&(i.onreadystatechange=e),i.open(p.HTTP.VERBS.GET,t),i.send()}catch(t){}}},stringify:function(t){if("AdImpression"!==t.messageType)return JSON.stringify(t);var e={};e.passthroughObj=c.getPassThroughObj();var n="";try{n=JSON.stringify(t)}catch(t){a.report(p.DIAGNOSTIC.STRINGIFY_EVENT_ERROR,t,e);return}return n},addProtocolToDomain:function(t){return t.match(/^[a-zA-Z]+:\/\//)?t:"https://"+t},getWindow:function(){return s.getWin()},getDocument:function(){return s.getDoc()},generateUID:function(){var t,e="";try{for(t=0;t<p.S4_ITERATIONS;t++)e=[e,Math.floor(65536*(1+Math.random())).toString(16).substring(1)].join("")}catch(t){}return e},getFwServerDomain:function(){return t||p.PROD_DOMAIN},noop:function(){}};return{initFW:c.initFW,initCM:c.initCM,sendEvent:u.sendEvent}},Ts={ad_duration:"getAdDuration",width:"getAdWidth",height:"getAdHeight",volume:"getAdVolume"},Os=[Hi.AdLoaded,Hi.AdImpression,"resizeAd"],Cs=["planId","uId","impId","bidPr","bidurl"],xs=Symbol("integral"),Ds=Symbol("viewMode"),js=Symbol("adNode"),Ns=Symbol("measurementCompleted"),Rs=ar(function(){Ar({href:"//pixel.adsafeprotected.com",rel:"preconnect",pr:"1.0"});Ar({href:"//dt.adsafeprotected.com",rel:"preconnect",pr:"1.0"});Ar({href:"//sc.iasds01.com",rel:"preconnect",pr:"1.0"})}),Fs=function(t){function e(){var e;(e=t.call(this)||this)[Ns]=Li();Rs();return e}r(e,t);var n=e.prototype;n.beforeInitAd=function(t,e,n,i,r,o){return new Promise(function(t,e){this[xs]=new Is(this.config.fwServerDomain);this[Ds]=n;this[js]=o?o.slot:null;return t()}.bind(this))};n.beforeResizeAd=function(t,e,n){return new Promise(function(t,e){this[Ds]=n;return t()}.bind(this))};n.beforeAdSkipped=function(){return new Promise(function(t,e){return Promise.resolve(this._completeMeasurement()).then(function(n){try{return t()}catch(t){return e(t)}},e)}.bind(this))};n.beforeAdStopped=function(){return new Promise(function(t,e){return Promise.resolve(this._completeMeasurement()).then(function(n){try{return t()}catch(t){return e(t)}},e)}.bind(this))};n.beforeAdError=function(){return new Promise(function(t,e){return Promise.resolve(this._completeMeasurement()).then(function(n){try{return t()}catch(t){return e(t)}},e)}.bind(this))};n._completeMeasurement=function(){return new Promise(function(t,e){return Promise.resolve(Promise.race([this[Ns].promise,dr(250)])).then(function(n){try{return t()}catch(t){return e(t)}},e)}.bind(this))};n._sendEvent=function(t,e){if(null!=this[xs]){"AdSizeChange"===t&&(t="resizeAd");var n=this._buildEventContext(t,e);this[xs].sendEvent(t,n)}};n._buildEventContext=function(t,e){for(var n=this.host,i={},r=Object.keys(Ts),o=0;o<r.length;++o){var s=r[o],u=Ts[s],a=void 0;try{a=n[u]()}catch(t){}"number"!=typeof a&&(a=Gi);i[s]=a}Os.indexOf(t)>=0&&(i.viewMode=this[Ds]);return i};i(e,[{key:"normalizedConfig",get:function(){var t=this,e=this.config,n=Object.assign({},e);delete n.debug;delete n.monDomain;delete n.fwServerDomain;delete n.monitoring;if(!0===e.debug){n.debug=n.debug||{};n.debug.enabled=!0}if(null!=e.monDomain){n.debug=n.debug||{};n.debug.monDomain=e.monDomain}Cs.some(function(t){return!(e=n[t],null==e||""===e||Array.isArray(e)&&null==e.length);var e})&&(n.adsafe_par="");null==n.partner&&(n.partner="iasz");n.onMeasurementComplete=function(){t[Ns].resolve()};return n}},{key:"_integral",get:function(){return this[xs]}},{key:"_adNode",get:function(){return this[js]}}]);return e}(Ao),Ms=Fs.prototype,Vs=Object.keys(Hi).map(function(t){return Hi[t]}),Ls=function(t){var e=Vs[t],n="before"+e,i=Ms[n];Ms[n]=function(){var t=arguments;return new Promise(function(n,r){function o(){return n()}var s,u,a;for(s=t.length,u=new Array(s),a=0;a<s;a++)u[a]=t[a];this._sendEvent(e,u);return null!=i?Promise.resolve(i.apply(this,u)).then(function(t){try{return o.call(this)}catch(t){return r(t)}}.bind(this),r):o.call(this)}.bind(this))}},Us=0;Us<Vs.length;++Us)Ls(Us);var Bs=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);e.prototype.beforeInitAd=function(e,n,i,r,o,s){return new Promise(function(u,a){return Promise.resolve(t.prototype.beforeInitAd.call(this,e,n,i,r,o,s)).then(function(t){try{this._integral.initCM(this.normalizedConfig,this._adNode);return u()}catch(t){return a(t)}}.bind(this),a)}.bind(this))};i(e,null,[{key:"id",get:function(){return"ias.cm"}}]);return e}(Fs),Ws=Symbol("deciding"),Gs=Symbol("didBlock"),Hs=["safe","block","monitor"],zs=lr(function(){return vr(function(t,e,n,i){return new Promise(function(r,o){try{if(!0===i){t.initFW(e,n);r("monitor")}else t.initFW(e,n,r)}catch(t){o(t)}})}.apply(void 0,arguments),1500,"Timed out")}),qs=ar(function(){Ar({href:"//static.adsafeprotected.com",rel:"preconnect",pr:"1.0"})}),$s=function(t){function e(){var e;e=t.call(this)||this;qs();return e}r(e,t);var n=e.prototype;n.beforeInitAd=function(e,n,i,r,o,s){return new Promise(function(u,a){return Promise.resolve(t.prototype.beforeInitAd.call(this,e,n,i,r,o,s)).then(function(t){try{this[Gs]=!1;this[Ws]=zs(this._integral,this.normalizedConfig,this._adNode,this.config.monitoring);return u()}catch(t){return a(t)}}.bind(this),a)}.bind(this))};n.beforeAdLoaded=function(){return new Promise(function(e,n){var i,r,o=function(){try{this._trackFwResult(i,this[Ws].time,r);if("block"===i){console.warn("IAS FW: Ad blocked");this[Gs]=!0;this._sendEvent(Hi.AdImpression);return n(new Error("Ad blocked"))}return Promise.resolve(t.prototype.beforeAdLoaded.call(this)).then(function(t){try{return e()}catch(t){return n(t)}},n)}catch(t){return n(t)}}.bind(this),s=function(t){try{if("Timed out"===(t&&t.message)){console.warn("IAS FW: Timed out");i="timeout"}else{console.warn("IAS FW: Error: "+r.message);i="error";r=t}return o()}catch(t){return n(t)}};try{return Promise.resolve(this[Ws]).then(function(t){try{if(!function(t){return Hs.indexOf(t)>=0}(i=t)){console.warn('IAS FW: Invalid decision "'+i+'"');i="invalid"}return o()}catch(t){return s(t)}},s)}catch(t){s(t)}}.bind(this))};n._buildEventContext=function(e,n){var i=t.prototype._buildEventContext.call(this,e,n);if(e===Hi.AdImpression){var r=null!=this[Ws]?this[Ws].time:0;Object.assign(i,{integral_didBlock:this[Gs],integral_timeToDecision:r})}return i};n._trackFwResult=function(t,e,n){var i={190:e};null!=n?this.trackError("ias-fw-res-"+t,n,null,i,!0):this.track("ias-fw-res-"+t,null,i,!0)};i(e,null,[{key:"id",get:function(){return"ias.fw"}}]);return e}(Fs),Qs="Advertisement. Your video will begin in [T] seconds.",Ks=Symbol("message"),Js=Symbol("positionX"),Xs=Symbol("positionX"),Ys=Symbol("counter"),Zs=Symbol("interval"),tu=function(t){function e(){var e;(e=t.call(this)||this)[Ks]=Qs;e[Js]="center";e[Xs]="bottom";e[Ys]=null;e[Zs]=null;return e}r(e,t);var n=e.prototype;n._loadConfig=function(){var t,e=this,n=this.config.flags;if(null!=n){var i=function(t,n){return function(){e[Js]=n;e[Xs]=t}},r=((t={frtimer:function(){e[Ks]="PublicitÃ©: Votre vidÃ©o commence dans [T] secondes."},gertimer:function(){e[Ks]="Nur ein Werbespot. Das Video beginnt in [T] Sekunden."}}).topleftcount=i("top","left"),t.topmiddlecount=i("top","center"),t.toprightcount=i("top","right"),t.bottomleftcount=i("bottom","left"),t.bottomrightcount=i("bottom","right"),t);n.split("|").map(function(t){return r[t]}).forEach(function(t){return t&&t()})}};n._createCountdown=function(t){var e,n=(t.ownerDocument||document).createElement("div");uo(n,((e={"background-color":"rgba(0, 0, 0, 0.7)"})[this[Xs]]="bottom"===this[Xs]?"10px":"0px",e.right="0px",e.width="100%",e.position="absolute",e.color="white",e["font-size"]="12px",e["font-weight"]="200",e["font-family"]="Arial, Helvetica, sans-serif",e["text-align"]=this[Js],e["z-index"]="10000001",e),!0);this[Ys]=n;this._updateCountdown();t.appendChild(n)};n._updateCountdown=function(){var t=Math.round(this.host.getAdRemainingTime());t<0&&(t=Math.max(this.host.getAdDuration(),0));var e=this[Ks].replace("[T]",t);this[Ys].innerHTML!==e&&(this[Ys].innerHTML=e)};n.beforeInitAd=function(t,e,n,i,r,o){return new Promise(function(t,e){this._loadConfig();this._createCountdown(o.slot);return t()}.bind(this))};n.afterAdStarted=function(){return new Promise(function(t,e){var n=this;if(null!==this[Ys]){this._updateCountdown();this[Zs]=setInterval(function(){return n._updateCountdown()},250)}return t()}.bind(this))};n.beforeAdStopped=function(){return new Promise(function(t,e){if(null!==this[Zs]){clearInterval(this[Zs]);this[Zs]=null}return t()}.bind(this))};i(e,null,[{key:"id",get:function(){return"ias.countdown"}}]);return e}(Ao),eu=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);e.prototype.afterAdLoaded=function(){return new Promise(function(t,e){this.host.startAd();return t()}.bind(this))};i(e,null,[{key:"id",get:function(){return"force.start"}}]);return e}(Ao),nu=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);e.prototype.afterAdClickThru=function(){return new Promise(function(t,e){this.host.resumeAd();return t()}.bind(this))};i(e,null,[{key:"id",get:function(){return"force.click.continue"}}]);return e}(Ao);Eo.register(Bs);Eo.register($s);Eo.register(tu);Eo.register(eu);Eo.register(nu);var iu=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);e.prototype.beforeInitAd=function(t,e,n,i,r,o){return new Promise(function(t,e){function n(){!function(t,e,n,i){var r,o,s=document.createElement("script"),u={events:[],addEvent:function(t){a.sendEvent?(u.events&&(a.sendEvent(u.events),u.events=!1),a.sendEvent(t)):u.events.push(t)}},a={adData:{ids:n,vpaid:t,duration:t.getAdDuration(),build:"cc07a80-clean"},dispatchEvent:u.addEvent};n="_moatApi"+Math.floor(1e8*Math.random());t&&t.subscribe;try{o=(r=e.ownerDocument).defaultView||r.parentWindow}catch(t){r=document,o=window}o[n]=a;s.type="text/javascript";e&&e.insertBefore(s,e.childNodes[0]||null);s.src="https://z.moatads.com/"+i+"/moatvideo.js#"+n}(this.guest,i,this.config,this.config.pcode);return t()}var i;if(null!=o&&null!=o.slot){i=o.slot;return n.call(this)}return Promise.resolve(Wi(document)).then(function(t){try{i=document.createElement("div");document.body.appendChild(i);return n.call(this)}catch(t){return e(t)}}.bind(this),e)}.bind(this))};i(e,null,[{key:"id",get:function(){return"moat"}}]);return e}(Ao);Eo.register(iu);for(var ru=function(t){function e(){var e;(e=t.call(this)||this)._installVpaidHistory();return e}r(e,t);var n=e.prototype;n.beforeInitAd=function(t,e,n,i,r,o){return new Promise(function(t,e){var n,i,r;i=(n=o||{}).slot,r=n.videoSlot;this._ownerDocument=r&&r.ownerDocument||i&&i.ownerDocument||document;return Promise.resolve(this._installWhiteOpsScript()).then(function(n){try{return t()}catch(t){return e(t)}},e)}.bind(this))};n._installWhiteOpsScript=function(){return new Promise(function(t,e){var n,i=function(){try{return t()}catch(t){return e(t)}},r=function(t){try{return i()}catch(t){return e(t)}};try{n=this._getWhiteOpsScriptUri();return Promise.resolve(tr(n)).then(function(t){try{this._maybeTriggerHistoryUpdate();return i()}catch(t){return r()}}.bind(this),r)}catch(t){r()}}.bind(this))};n._getWhiteOpsParams=function(){var t=Object.assign({},this.config,{oz_vp:2,oz_vid:this._adVideoSlot&&this._adVideoSlot.id,oz_flash_id:this._bridgeId});delete t.ci;delete t.script;return t};n._getWhiteOpsScriptUri=function(){return t=this.config.ci,e=this._getWhiteOpsParams(),"https://s.tpcserve.com/2/"+t+"/pagespeed.js?"+qo(e);var t,e};n._installVpaidHistory=function(){if(null==this._bridgeId){this._bridgeId="bridge"+(new Date).getTime();this._history=[];this._callback=null;this._historyDirty=!1;if(window){null==window.__ozoki_vpaid&&(window.__ozoki_vpaid=[]);this._history=window.__ozoki_vpaid}else this._history=[]}};n._pushHistory=function(t,e){void 0===e&&(e=null);var n=[this._bridgeId,(new Date).getTime(),t,e];this._history.push(n);this._triggerHistoryUpdate()};n._triggerHistoryUpdate=function(){null==this._callback&&null!=window&&null!=window.__ozoki_call&&(this._callback=window.__ozoki_call);this._historyDirty=!0;if(null!=this._callback)try{this._callback.call(window);this._historyDirty=!1}catch(t){}};n._maybeTriggerHistoryUpdate=function(){this._historyDirty&&this._triggerHistoryUpdate()};n.beforeSubscribeSync=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._pushHistory("subscribe",e)};n.beforeUnsubscribeSync=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._pushHistory("unsubscribe",e)};i(e,null,[{key:"id",get:function(){return"wo"}}]);return e}(Ao),ou=function(t,e){var n=""+t+Pr(e),i=ru.prototype[n];ru.prototype[n]=function(){var t=arguments;return new Promise(function(n,r){function o(){return n()}var s,u,a;for(s=t.length,u=new Array(s),a=0;a<s;a++)u[a]=t[a];this._pushHistory(e,u);return null!=i?Promise.resolve(i.apply(this,u)).then(function(t){try{return o.call(this)}catch(t){return r(t)}}.bind(this),r):o.call(this)}.bind(this))}},su=function(t,e){var n=""+t+Pr(e),i=ru.prototype[n];ru.prototype[n]=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._pushHistory(e,n);null!=i&&i.apply(this,n)}},uu=Object.keys(Hi).map(function(t){return Hi[t]}),au=0;au<uu.length;++au)ou("before",uu[au]);for(var cu=Object.keys(qi).map(function(t){return qi[t]}),lu=0;lu<cu.length;++lu)ou("before",cu[lu]);ou("before","setAdVolume");su("after","handshakeVersion");for(var fu=Object.keys(zi),hu=0;hu<fu.length;++hu)su("after","get"+Pr(fu[hu]));Eo.register(ru);var du=Object.keys(zi),pu=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);i(e,null,[{key:"id",get:function(){return"debug"}}]);return e}(Ao),vu=function(t){var e,n=Pr(t),i="before"+n,r="after"+n;Object.assign(pu.prototype,((e={})[i]=function(){var t=arguments;return new Promise(function(e,n){for(var r,o=t.length,s=new Array(o),u=0;u<o;u++)s[u]=t[u];(r=console).log.apply(r,["[debug] "+i].concat(s));return e()})},e[r]=function(){var t=arguments;return new Promise(function(e,n){for(var i,o=t.length,s=new Array(o),u=0;u<o;u++)s[u]=t[u];s.pop();(i=console).log.apply(i,["[debug] "+r].concat(s));return e()})},e))},mu=function(t){for(var e=0;e<t.length;++e)vu(t[e])};mu(Object.keys(qi).map(function(t){return qi[t]}));mu(Object.keys(Hi).map(function(t){return Hi[t]}));mu(du.map(function(t){return"set"+Pr(t)}));for(var gu=function(t){var e=du[t],n="afterGet"+Pr(e),i=void 0;pu.prototype[n]=function(){var t,n=(t=arguments.length-1)<0||arguments.length<=t?void 0:arguments[t];if(i!==n){console.log("[debug] "+e+":",i,"â",n);i=n}}},yu=0;yu<du.length;++yu)gu(yu);Eo.register(pu);var _u=Symbol("play"),bu=function(t){function e(){var e;(e=t.call(this)||this)[_u]=null;return e}r(e,t);var n=e.prototype;n._createPlay=function(t){var e=this,n=t.ownerDocument||document,i=ao(n,"svg",{width:"100%",height:"100%",viewBox:"0 0 100 100"},{display:"none",position:"absolute","z-index":"10000001","background-color":"rgba(0, 0, 0, 0.3)",cursor:"pointer"},!0),r=ao(n,"circle",{cx:"50%",cy:"50%",r:"25%",fill:"none",stroke:"white","stroke-width":"2px"},!0);i.appendChild(r);var o=ao(n,"polygon",{points:"45,40,45,60,60,50",fill:"white"},!0);i.appendChild(o);this[_u]=i;t.appendChild(i);i.addEventListener("click",function(){e.host.resumeAd()})};n._isEnabled=function(){var t=this.config.acceptMedia,e=this.runtime.guestInfo.mediaFile.type,n=!0;if("string"==typeof t&&"string"==typeof e)try{n=new RegExp(t).test(e)}catch(t){}return n};n.beforeInitAd=function(t,e,n,i,r,o){return new Promise(function(t,e){this._isEnabled()&&this._createPlay(o.slot);return t()}.bind(this))};n.afterAdPaused=function(){return new Promise(function(t,e){null!==this[_u]&&uo(this[_u],{display:"block"},!0);return t()}.bind(this))};n.beforeAdPlaying=function(){return new Promise(function(t,e){null!==this[_u]&&uo(this[_u],{display:"none"},!0);return t()}.bind(this))};i(e,null,[{key:"id",get:function(){return"play"}}]);return e}(Ao),wu=Symbol("skip"),ku=Symbol("interval"),Au={position:"absolute",bottom:"10%",right:"0px",padding:"12px","z-index":"10000001","background-color":"rgba(0, 0, 0, 0.7)",color:"white","font-size":"12px","font-weight":"200","font-family":"Arial, Helvetica, sans-serif","border-color":"rgba(255, 255, 255, 0.5)","border-width":"0px","border-style":"solid",cursor:"default","user-select":"none"},Su=Object.assign({},Au,{"font-size":"18px","border-width":"1px 0px 1px 1px",cursor:"pointer"}),Pu=function(t){function e(){var e;(e=t.call(this)||this)[wu]=null;e[ku]=null;return e}r(e,t);var n=e.prototype;n._createSkip=function(t){var e=this,n=(t.ownerDocument||document).createElement("div");n.addEventListener("click",function(){return e._maybeSkip()});this[wu]=n;this._updateSkip();t.appendChild(n)};n._updateSkip=function(){var t=this._getSkipTimeRemaining(),e=!isNaN(t)||this.host.getAdSkippableState();uo(this[wu],{display:e?"block":"none"},!0);var n=t>0,i="Skip ad";n&&(i="You can skip to video in [T]".replace("[T]",Math.round(t)));this[wu].innerHTML!==i&&(this[wu].innerHTML=i);uo(this[wu],n?Au:Su,!0)};n._getSkipTimeRemaining=function(){var t=this.runtime.config.skipOffset;if("number"!=typeof t)return NaN;var e=this.host.getAdDuration(),n=this.host.getAdRemainingTime();return e<0||n<0?NaN:t-Math.max(e-n,0)};n._maybeSkip=function(){return new Promise(function(t,e){function n(){return t()}if(this._getSkipTimeRemaining()>0)return t();if(!0===this.guest.getAdSkippableState()){this.host.skipAd();return n.call(this)}return Promise.resolve(this.publish("AdSkipped")).then(function(t){try{this.host.stopAd();return n.call(this)}catch(t){return e(t)}}.bind(this),e)}.bind(this))};n._isEnabled=function(){var t=this.config.acceptMedia;return null==t||"string"==typeof t&&null!=this.runtime.guestInfo.mediaFile.type.match(new RegExp(t))};n.beforeInitAd=function(t,e,n,i,r,o){return new Promise(function(t,e){var n=this;if(this._isEnabled()){this._createSkip(o.slot);this[ku]=setInterval(function(){return n._updateSkip()},250)}return t()}.bind(this))};n.afterAdSkippableStateChange=function(){return new Promise(function(t,e){this._isEnabled()&&this._updateSkip();return t()}.bind(this))};n.beforeAdStopped=function(){return new Promise(function(t,e){if(null!==this[ku]){clearInterval(this[ku]);this[ku]=null}return t()}.bind(this))};i(e,null,[{key:"id",get:function(){return"skip"}}]);return e}(Ao);Eo.register(bu);Eo.register(Pu);var Eu=function(t,e){return e.offset.value-t.offset.value},Iu=function(t){function e(){var e;(e=t.call(this)||this)._startTime=0;e._elapsedTime=0;e._interval=null;e._trackingPixels={};e._progressPixels={};e._remainingAbsoluteProgressEvents=[];e._remainingRelativeProgressEvents=[];return e}r(e,t);var n=e.prototype;n.init=function(){var t=this;this._trackingPixels={};Object.keys(Yi).forEach(function(e){t._trackingPixels[e]=[];Yi[e].forEach(function(n){var i;(i=t._trackingPixels[e]).push.apply(i,t.config[n])})});this._progressPixels=this.config.progress};n.beforeAdVideoStart=function(){return new Promise(function(t,e){if(null!=this._progressPixels){this._initTimer();this._indexProgressEvents()}return t()}.bind(this))};n.beforeAdPlaying=function(){return new Promise(function(t,e){null!=this._progressPixels&&this._initTimer();return t()}.bind(this))};n.beforeAdPaused=function(){return new Promise(function(t,e){null!=this._progressPixels&&this._pauseTimer();return t()}.bind(this))};n.beforeAdStopped=function(){return new Promise(function(t,e){null!=this._progressPixels&&this._stopProgressTimer();return t()}.bind(this))};n._indexProgressEvents=function(){var t=this;this._remainingAbsoluteProgressEvents=[];this._remainingRelativeProgressEvents=[];this._progressPixels.forEach(function(e){"RelativeTimeOffset"===e.offset.$type?t._remainingRelativeProgressEvents.push(e):"AbsoluteTimeOffset"===e.offset.$type&&t._remainingAbsoluteProgressEvents.push(e)});this._remainingAbsoluteProgressEvents.sort(Eu);this._remainingRelativeProgressEvents.sort(Eu)};n._initTimer=function(){var t=this;0===this._startTime&&(this._startTime=(new Date).getTime());this._interval=setInterval(function(){t._updateTimer()},100)};n._updateTimer=function(){var t=this._startTime>0?(new Date).getTime()-this._startTime:0,e=(this._elapsedTime+t)/1e3,n=this.host.getAdDuration();if(n>=0){var i=e/parseFloat(n)*100;this._dispatchProgressEvents(this._remainingAbsoluteProgressEvents,e);this._dispatchProgressEvents(this._remainingRelativeProgressEvents,i)}this._hasRemainingProgressEvents()||this._stopProgressTimer()};n._dispatchProgressEvents=function(t,e){for(var n=this,i=t.length;i>0&&e>=t[i-1].offset.value;)--i;i<t.length&&t.splice(i).forEach(function(t){var e=t.uri;n.trackPixel(e)})};n._hasRemainingProgressEvents=function(){return this._remainingAbsoluteProgressEvents.length+this._remainingRelativeProgressEvents.length>0};n._pauseTimer=function(){if(this._startTime>0){this._elapsedTime+=(new Date).getTime()-this._startTime;this._startTime=0}this._updateTimer()};n._stopProgressTimer=function(){if(null!=this._interval){clearInterval(this._interval);this._interval=null;this._updateTimer()}};n._getPixelUris=function(t){var e=this._trackingPixels[t];return null!=e?e.map(function(t){return t.uri}):[]};n._onVpaidEventHook=function(t,e){var n=this;"before"===t&&this._getPixelUris(e).forEach(function(t){n.trackPixel(t,e===Hi.AdError?{errorcode:901}:null)})};i(e,null,[{key:"id",get:function(){return"vast-tracking"}}]);return e}(Ao);!function(t,e){for(var n=function(n){for(var i=Rr[n],r=function(n){var r=Fr[n],o=""+i+r,s=t[o];t[o]=function(){var t=arguments;return new Promise(function(n,o){var u,a,c,l,f;for(u=t.length,a=new Array(u),c=0;c<u;c++)a[c]=t[c];l=e.call.apply(e,[this,i,r].concat(a));return Promise.resolve((f=l,new Promise(function(t,e){function n(){return t()}return ur(f)?Promise.resolve(f).then(function(t){try{return n.call(this)}catch(t){return e(t)}}.bind(this),e):n.call(this)}))).then(function(t){try{if(null!=s)return Promise.resolve(s.apply(this,a)).then(function(t){try{return e.call(this)}catch(t){return o(t)}}.bind(this),o);function e(){return n()}return e.call(this)}catch(t){return o(t)}}.bind(this),o)}.bind(this))}},o=0;o<Fr.length;++o)r(o)},i=0;i<Rr.length;i++)n(i)}(Iu.prototype,function(t,e){this._onVpaidEventHook(t,e)});Eo.register(Iu);var Tu=t(function(t){function e(){}function n(t,e,n){this.fn=t;this.context=e;this.once=n||!1}function i(){this._events=new e;this._eventsCount=0}var r=Object.prototype.hasOwnProperty,o="~";if(Object.create){e.prototype=Object.create(null);(new e).__proto__||(o=!1)}i.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(o?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n};i.prototype.listeners=function(t,e){var n=o?o+t:t,i=this._events[n];if(e)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var r=0,s=i.length,u=new Array(s);r<s;r++)u[r]=i[r].fn;return u};i.prototype.emit=function(t,e,n,i,r,s){var u=o?o+t:t;if(!this._events[u])return!1;var a,c,l=this._events[u],f=arguments.length;if(l.fn){l.once&&this.removeListener(t,l.fn,void 0,!0);switch(f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,i),!0;case 5:return l.fn.call(l.context,e,n,i,r),!0;case 6:return l.fn.call(l.context,e,n,i,r,s),!0}for(c=1,a=new Array(f-1);c<f;c++)a[c-1]=arguments[c];l.fn.apply(l.context,a)}else{var h,d=l.length;for(c=0;c<d;c++){l[c].once&&this.removeListener(t,l[c].fn,void 0,!0);switch(f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,n);break;case 4:l[c].fn.call(l[c].context,e,n,i);break;default:if(!a)for(h=1,a=new Array(f-1);h<f;h++)a[h-1]=arguments[h];l[c].fn.apply(l[c].context,a)}}}return!0};i.prototype.on=function(t,e,i){var r=new n(e,i||this),s=o?o+t:t;this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],r]:this._events[s].push(r):(this._events[s]=r,this._eventsCount++);return this};i.prototype.once=function(t,e,i){var r=new n(e,i||this,!0),s=o?o+t:t;this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],r]:this._events[s].push(r):(this._events[s]=r,this._eventsCount++);return this};i.prototype.removeListener=function(t,n,i,r){var s=o?o+t:t;if(!this._events[s])return this;if(!n){0==--this._eventsCount?this._events=new e:delete this._events[s];return this}var u=this._events[s];if(u.fn)u.fn!==n||r&&!u.once||i&&u.context!==i||(0==--this._eventsCount?this._events=new e:delete this._events[s]);else{for(var a=0,c=[],l=u.length;a<l;a++)(u[a].fn!==n||r&&!u[a].once||i&&u[a].context!==i)&&c.push(u[a]);c.length?this._events[s]=1===c.length?c[0]:c:0==--this._eventsCount?this._events=new e:delete this._events[s]}return this};i.prototype.removeAllListeners=function(t){var n;if(t){n=o?o+t:t;this._events[n]&&(0==--this._eventsCount?this._events=new e:delete this._events[n])}else{this._events=new e;this._eventsCount=0}return this};i.prototype.off=i.prototype.removeListener;i.prototype.addListener=i.prototype.on;i.prototype.setMaxListeners=function(){return this};i.prefixed=o;i.EventEmitter=i;t.exports=i});!function(t){function e(t){"string"!=typeof t&&(t=String(t));if(/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){"string"!=typeof t&&(t=String(t));return t}function i(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};d.iterable&&(e[Symbol.iterator]=function(){return e});return e}function r(t){this.map={};t instanceof r?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function s(t){return new Promise(function(e,n){t.onload=function(){e(t.result)};t.onerror=function(){n(t.error)}})}function u(t){var e=new FileReader,n=s(e);e.readAsArrayBuffer(t);return n}function a(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);e.set(new Uint8Array(t));return e.buffer}function c(){this.bodyUsed=!1;this._initBody=function(t){this._bodyInit=t;if(t)if("string"==typeof t)this._bodyText=t;else if(d.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(d.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(d.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(d.arrayBuffer&&d.blob&&v(t)){this._bodyArrayBuffer=a(t.buffer);this._bodyInit=new Blob([this._bodyArrayBuffer])}else{if(!d.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!m(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=a(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):d.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))};if(d.blob){this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))};this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(u)}}this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=s(e);e.readAsText(t);return n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),i=0;i<e.length;i++)n[i]=String.fromCharCode(e[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)};d.formData&&(this.formData=function(){return this.text().then(f)});this.json=function(){return this.text().then(JSON.parse)};return this}function l(t,e){var n,i,o=(e=e||{}).body;if(t instanceof l){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url;this.credentials=t.credentials;e.headers||(this.headers=new r(t.headers));this.method=t.method;this.mode=t.mode;if(!o&&null!=t._bodyInit){o=t._bodyInit;t.bodyUsed=!0}}else this.url=String(t);this.credentials=e.credentials||this.credentials||"omit";!e.headers&&this.headers||(this.headers=new r(e.headers));this.method=(i=(n=e.method||this.method||"GET").toUpperCase(),g.indexOf(i)>-1?i:n);this.mode=e.mode||this.mode||null;this.referrer=null;if(("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function f(t){var e=new FormData;t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(r))}});return e}function h(t,e){e||(e={});this.type="default";this.status=void 0===e.status?200:e.status;this.ok=this.status>=200&&this.status<300;this.statusText="statusText"in e?e.statusText:"OK";this.headers=new r(e.headers);this.url=e.url||"";this._initBody(t)}if(!t.fetch){var d={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{new Blob;return!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(d.arrayBuffer)var p=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],v=function(t){return t&&DataView.prototype.isPrototypeOf(t)},m=ArrayBuffer.isView||function(t){return t&&p.indexOf(Object.prototype.toString.call(t))>-1};r.prototype.append=function(t,i){t=e(t);i=n(i);var r=this.map[t];this.map[t]=r?r+","+i:i};r.prototype.delete=function(t){delete this.map[e(t)]};r.prototype.get=function(t){t=e(t);return this.has(t)?this.map[t]:null};r.prototype.has=function(t){return this.map.hasOwnProperty(e(t))};r.prototype.set=function(t,i){this.map[e(t)]=n(i)};r.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)};r.prototype.keys=function(){var t=[];this.forEach(function(e,n){t.push(n)});return i(t)};r.prototype.values=function(){var t=[];this.forEach(function(e){t.push(e)});return i(t)};r.prototype.entries=function(){var t=[];this.forEach(function(e,n){t.push([n,e])});return i(t)};d.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];l.prototype.clone=function(){return new l(this,{body:this._bodyInit})};c.call(l.prototype);c.call(h.prototype);h.prototype.clone=function(){return new h(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})};h.error=function(){var t=new h(null,{status:0,statusText:""});t.type="error";return t};var y=[301,302,303,307,308];h.redirect=function(t,e){if(-1===y.indexOf(e))throw new RangeError("Invalid status code");return new h(null,{status:e,headers:{location:t}})};t.Headers=r;t.Request=l;t.Response=h;t.fetch=function(t,e){return new Promise(function(n,i){var o=new l(t,e),s=new XMLHttpRequest;s.onload=function(){var t={status:s.status,statusText:s.statusText,headers:function(t){var e=new r;t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var n=t.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();e.append(i,r)}});return e}(s.getAllResponseHeaders()||"")};t.url="responseURL"in s?s.responseURL:t.headers.get("X-Request-URL");var e="response"in s?s.response:s.responseText;n(new h(e,t))};s.onerror=function(){i(new TypeError("Network request failed"))};s.ontimeout=function(){i(new TypeError("Network request failed"))};s.open(o.method,o.url,!0);"include"===o.credentials?s.withCredentials=!0:"omit"===o.credentials&&(s.withCredentials=!1);"responseType"in s&&d.blob&&(s.responseType="blob");o.headers.forEach(function(t,e){s.setRequestHeader(e,t)});s.send(void 0===o._bodyInit?null:o._bodyInit)})};t.fetch.polyfill=!0}}("undefined"!=typeof self?self:void 0);var Ou,Cu,xu,Du=self.fetch.bind(self),ju=function(t){return function(e){return e.nodeType===t}},Nu=ju(1),Ru=ju(3),Fu=ju(4),Mu=function(t,e){return Array.prototype.filter.call(t.childNodes,e)},Vu=function(t){return Ru(t)||Fu(t)},Lu=/^\s*(\d+):(\d+):(\d+(?:\.\d+)?)\s*$/,Uu=function(t){var e=Lu.exec(t);if(null==e)throw new Error('Failed to parse time "'+t+'"');return 60*(60*parseInt(e[1],10)+parseInt(e[2],10))+parseFloat(e[3])},Bu=((Ou={}).b=function(t){return"true"===t||"1"===t},Ou.i=function(t){return parseInt(t,10)},Ou.f=parseFloat,Ou.t=Uu,Ou),Wu=function(){var t=/^[A-Z]+/,e=function(t){return 1===t.length?t.toLowerCase():t.substr(0,t.length-1).toLowerCase()+t.charAt(t.length-1)};return function(n){return n.replace(t,e)}}(),Gu=function(t,e,n){return null!=t[e]&&~t[e].indexOf(n)},Hu=function(){function t(t){var e=t.collections,n=t.freeforms,i=t.types;this._collections=e;this._freeforms=n;this._types=i}var e=t.prototype;e.unmarshal=function(t){return this._createNode(t)};e._createNode=function(t){var e=Object.create(null);e._value=this._convertPropertyValue(Mu(t,Vu).map(function(t){return t.nodeValue}).join("").trim(),t.nodeName,"_value");this._copyAttributes(e,t);this._createCollections(e,t);this._createChildren(e,t);return e};e._createFreeformNode=function(t){var e=Object.create(null);this._copyAttributes(e,t);e._value=t;return e};e._copyAttributes=function(t,e){for(var n=e.nodeName,i=0;i<e.attributes.length;++i){var r=e.attributes[i],o=r.nodeName,s=r.nodeValue;t[o]=this._convertPropertyValue(s,n,o)}};e._createCollections=function(t,e){null!=this._collections[e.nodeName]&&this._collections[e.nodeName].forEach(function(e){t[Wu(e)]=[]})};e._createChildren=function(t,e){var n=this,i=e.nodeName;Mu(e,Nu).forEach(function(e){var r=e.nodeName,o=Wu(r);n._isFreeformParent(i)?n._isFreeformChild(i,r)&&n._addFreeformChild(e,o,t):n._addNodeChild(e,o,t,i,r)})};e._addNodeChild=function(t,e,n,i,r){var o=this._createNode(t);if(null==n[e])n[e]=o;else{if(!this._isCollection(i,r))throw new Error("Multiple values for "+i+"."+r);n[e].push(o)}};e._addFreeformChild=function(t,e,n){n[e]=n[e]||[];n[e].push(this._createFreeformNode(t))};e._convertPropertyValue=function(t,e,n){var i=null!=this._types[e]?this._types[e][n]:null;return null!=i?Bu[i](t):t};e._isCollection=function(t,e){return Gu(this._collections,t,e)};e._isFreeformParent=function(t){return null!=this._freeforms[t]};e._isFreeformChild=function(t,e){return Gu(this._freeforms,t,e)};return t}(),zu={collections:{AdVerifications:["Verification"],Companion:["CompanionClickTracking"],CompanionAds:["Companion"],CreativeExtensions:["CreativeExtension"],Creatives:["Creative"],Extensions:["Extension"],Icon:["IconViewTracking"],IconClicks:["IconClickTracking"],Icons:["Icon"],InLine:["Category","Error","Impression","Survey"],MediaFiles:["MediaFile","InteractiveCreativeFile"],NonLinear:["NonLinearClickTracking"],NonLinearAds:["NonLinear"],TrackingEvents:["Tracking"],VAST:["Error","Ad"],Verification:["JavaScriptResource","FlashResource"],ViewableImpression:["Viewable","NotViewable","ViewUndetermined"],VideoClicks:["ClickTracking","CustomClick"],Wrapper:["Impression","Error"]},freeforms:{CreativeExtensions:["CreativeExtension"],Extensions:["Extension"]},types:{Ad:{sequence:"i"},AdParameters:{xmlEncoded:"b"},Companion:{width:"i",height:"i",expandedWidth:"i",expandedHeight:"i"},Creative:{sequence:"i"},Duration:{_value:"t"},Icon:{width:"i",height:"i",offset:"t",duration:"t"},MediaFile:{bitrate:"i",minBitrate:"i",maxBitrate:"i",width:"i",height:"i",scalable:"b",maintainAspectRatio:"b"},NonLinear:{width:"i",height:"i",assetWidth:"i",assetHeight:"i",expandedWidth:"i",expandedHeight:"i",scalable:"b",maintainAspectRatio:"b",minSuggestedDuration:"t"},Pricing:{_value:"f"},Wrapper:{followAdditionalWrappers:"b",allowMultipleAds:"b",fallbackOnNoAd:"b"}}},qu=function(){function t(){this._sequence=null}i(t,[{key:"sequence",get:function(){return this._sequence},set:function(t){this._sequence=t}}]);return t}(),$u=function(){function t(){this._contents=[]}var e=t.prototype;e.add=function(t){this._contents.push(t);this._contents.sort(function(t,e){return(t.sequence||0)-(e.sequence||0)})};e.remove=function(t){for(var e=this._contents.indexOf(t);e>=0;){this._contents.splice(e,1);e=this._contents.indexOf(t,e)}};e.get=function(t){return this._contents[t]};e.clear=function(){this._contents.length=0};e[Symbol.iterator]=function(){var t=this,e=0;return{next:function(){return e<t.length?{value:t.get(e++),done:!1}:{value:void 0,done:!0}}}};e.toArray=function(){return this._contents.slice()};i(t,[{key:"length",get:function(){return this._contents.length}},{key:"$type",get:function(){return"SortedList"}}]);return t}(),Qu=function(t){function e(){var e;(e=t.call(this)||this)._id=null;e._conditionalAd=!1;e._adSystem=null;e._impressions=[];e._pricing=null;e._errors=[];e._viewableImpression=null;e._verifications=[];e._extensions=[];e._creatives=new $u;return e}r(e,t);i(e,[{key:"id",get:function(){return this._id},set:function(t){this._id=t}},{key:"conditionalAd",get:function(){return this._conditionalAd},set:function(t){this._conditionalAd=t}},{key:"adSystem",get:function(){return this._adSystem},set:function(t){this._adSystem=t}},{key:"impressions",get:function(){return this._impressions}},{key:"pricing",get:function(){return this._pricing},set:function(t){this._pricing=t}},{key:"errors",get:function(){return this._errors}},{key:"viewableImpression",get:function(){return this._viewableImpression},set:function(t){this._viewableImpression=t}},{key:"verifications",get:function(){return this._verifications}},{key:"extensions",get:function(){return this._extensions}},{key:"creatives",get:function(){return this._creatives}}]);return e}(qu),Ku=function(t){function e(){var e;(e=t.call(this)||this)._adTitle=null;e._categories=[];e._description=null;e._surveys=[];return e}r(e,t);i(e,[{key:"adTitle",get:function(){return this._adTitle},set:function(t){this._adTitle=t}},{key:"categories",get:function(){return this._categories}},{key:"description",get:function(){return this._description},set:function(t){this._description=t}},{key:"advertiser",get:function(){return this._advertiser},set:function(t){this._advertiser=t}},{key:"surveys",get:function(){return this._surveys}},{key:"$type",get:function(){return"InLine"}}]);return e}(Qu),Ju=function(t){function e(){var e;(e=t.call(this)||this)._followAdditionalWrappers=!0;e._allowMultipleAds=!1;e._fallbackOnNoAd=!1;e._vastAdTagURI=null;return e}r(e,t);i(e,[{key:"followAdditionalWrappers",get:function(){return this._followAdditionalWrappers},set:function(t){this._followAdditionalWrappers=t}},{key:"allowMultipleAds",get:function(){return this._allowMultipleAds},set:function(t){this._allowMultipleAds=t}},{key:"fallbackOnNoAd",get:function(){return this._fallbackOnNoAd},set:function(t){this._fallbackOnNoAd=t}},{key:"vastAdTagURI",get:function(){return this._vastAdTagURI},set:function(t){this._vastAdTagURI=t}},{key:"$type",get:function(){return"Wrapper"}}]);return e}(Qu),Xu=function(){function t(){this._clickThrough=null;this._clickTrackings=[]}i(t,[{key:"clickThrough",get:function(){return this._clickThrough},set:function(t){this._clickThrough=t}},{key:"clickTrackings",get:function(){return this._clickTrackings}}]);return t}(),Yu=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);i(e,[{key:"$type",get:function(){return"IconClicks"}}]);return e}(Xu),Zu=function(t){function e(){var e;(e=t.call(this)||this)._customClicks=[];return e}r(e,t);i(e,[{key:"customClicks",get:function(){return this._customClicks}},{key:"$type",get:function(){return"VideoClicks"}}]);return e}(Xu),ta=function(){function t(){this._version=null;this._name=null}i(t,[{key:"version",get:function(){return this._version},set:function(t){this._version=t}},{key:"name",get:function(){return this._name},set:function(t){this._name=t}},{key:"$type",get:function(){return"AdSystem"}}]);return t}(),ea=function(){function t(){this._authority=null;this._code=null}i(t,[{key:"authority",get:function(){return this._authority},set:function(t){this._authority=t}},{key:"code",get:function(){return this._code},set:function(t){this._code=t}},{key:"$type",get:function(){return"Category"}}]);return t}(),na=function(){function t(){this._id=null;this._uri=null}i(t,[{key:"id",get:function(){return this._id},set:function(t){this._id=t}},{key:"uri",get:function(){return this._uri},set:function(t){this._uri=t}},{key:"$type",get:function(){return"Click"}}]);return t}(),ia=function(t){function e(){var e;(e=t.call(this)||this)._id=null;e._adID=null;e._apiFramework=null;e._universalAdId=null;e._extensions=[];e._linear=null;e._companionAds=null;e._nonLinearAds=null;return e}r(e,t);i(e,[{key:"id",get:function(){return this._id},set:function(t){this._id=t}},{key:"adID",get:function(){return this._adID},set:function(t){this._adID=t}},{key:"apiFramework",get:function(){return this._apiFramework},set:function(t){this._apiFramework=t}},{key:"universalAdId",get:function(){return this._universalAdId},set:function(t){this._universalAdId=t}},{key:"extensions",get:function(){return this._extensions}},{key:"linear",get:function(){return this._linear},set:function(t){this._linear=t}},{key:"companionAds",get:function(){return this._companionAds},set:function(t){this._companionAds=t}},{key:"nonLinearAds",get:function(){return this._nonLinearAds},set:function(t){this._nonLinearAds=t}},{key:"$type",get:function(){return"Creative"}}]);return e}(qu),ra=function(){function t(){this._program=null;this._width=null;this._height=null;this._xPosition=null;this._yPosition=null;this._duration=null;this._offset=null;this._apiFramework=null;this._pxratio=null;this._resource=null;this._clicks=null;this._viewTrackings=[]}i(t,[{key:"program",get:function(){return this._program},set:function(t){this._program=t}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"xPosition",get:function(){return this._xPosition},set:function(t){this._xPosition=t}},{key:"yPosition",get:function(){return this._yPosition},set:function(t){this._yPosition=t}},{key:"duration",get:function(){return this._duration},set:function(t){this._duration=t}},{key:"offset",get:function(){return this._offset},set:function(t){this._offset=t}},{key:"apiFramework",get:function(){return this._apiFramework},set:function(t){this._apiFramework=t}},{key:"pxratio",get:function(){return this._pxratio},set:function(t){this._pxratio=t}},{key:"resource",get:function(){return this._resource},set:function(t){this._resource=t}},{key:"clicks",get:function(){return this._clicks},set:function(t){this._clicks=t}},{key:"viewTrackings",get:function(){return this._viewTrackings}},{key:"$type",get:function(){return"Icon"}}]);return t}(),oa=function(){function t(){this._id=null;this._uri=null}i(t,[{key:"id",get:function(){return this._id},set:function(t){this._id=t}},{key:"uri",get:function(){return this._uri},set:function(t){this._uri=t}},{key:"$type",get:function(){return"Impression"}}]);return t}(),sa=function(){function t(){this._type=null;this._apiFramework=null;this._url=null}i(t,[{key:"type",get:function(){return this._type},set:function(t){this._type=t}},{key:"apiFramework",get:function(){return this._apiFramework},set:function(t){this._apiFramework=t}},{key:"uri",get:function(){return this._uri},set:function(t){this._uri=t}},{key:"$type",get:function(){return"InteractiveCreativeFile"}}]);return t}(),ua=function(){function t(){this._delivery=null;this._type=null;this._width=null;this._height=null;this._codec=null;this._id=null;this._bitrate=null;this._minBitrate=null;this._maxBitrate=null;this._scalable=!1;this._maintainAspectRatio=!1;this._apiFramework=null;this._uri=null}i(t,[{key:"delivery",get:function(){return this._delivery},set:function(t){this._delivery=t}},{key:"type",get:function(){return this._type},set:function(t){this._type=t}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"codec",get:function(){return this._codec},set:function(t){this._codec=t}},{key:"id",get:function(){return this._id},set:function(t){this._id=t}},{key:"bitrate",get:function(){return this._bitrate},set:function(t){this._bitrate=t}},{key:"minBitrate",get:function(){return this._minBitrate},set:function(t){this._minBitrate=t}},{key:"maxBitrate",get:function(){return this._maxBitrate},set:function(t){this._maxBitrate=t}},{key:"scalable",get:function(){return this._scalable},set:function(t){this._scalable=t}},{key:"maintainAspectRatio",get:function(){return this._maintainAspectRatio},set:function(t){this._maintainAspectRatio=t}},{key:"apiFramework",get:function(){return this._apiFramework},set:function(t){this._apiFramework=t}},{key:"uri",get:function(){return this._uri},set:function(t){this._uri=t}},{key:"$type",get:function(){return"MediaFile"}}]);return t}(),aa=function(){function t(){this._model=null;this._currency=null;this._value=null}i(t,[{key:"model",get:function(){return this._model},set:function(t){this._model=t}},{key:"currency",get:function(){return this._currency},set:function(t){this._currency=t}},{key:"value",get:function(){return this._value},set:function(t){this._value=t}},{key:"$type",get:function(){return"Pricing"}}]);return t}(),ca=function(){function t(){this._type=null;this._uri=null}i(t,[{key:"type",get:function(){return this._type},set:function(t){this._type=t}},{key:"uri",get:function(){return this._uri},set:function(t){this._uri=t}},{key:"$type",get:function(){return"Survey"}}]);return t}(),la=function(){function t(){this._uri=null;this._offset=null}i(t,[{key:"uri",get:function(){return this._uri},set:function(t){this._uri=t}},{key:"offset",get:function(){return this._offset},set:function(t){this._offset=t}},{key:"$type",get:function(){return"TrackingEvent"}}]);return t}(),fa=function(){function t(){this._map=Object.create(null)}var e=t.prototype;e.get=function(t){return this._map[t]||[]};e.add=function(t,e){this._map[t]=this._map[t]||[];this._map[t].push(e)};i(t,[{key:"types",get:function(){return Object.keys(this._map)}},{key:"$type",get:function(){return"TrackingEvents"}}]);return t}(),ha=function(){function t(){this._idRegistry="unknown";this._idValue="unknown";this._creativeIdentifier=null}i(t,[{key:"idRegistry",get:function(){return this._idRegistry},set:function(t){this._idRegistry=t}},{key:"idValue",get:function(){return this._idValue},set:function(t){this._idValue=t}},{key:"creativeIdentifier",get:function(){return this._creativeIdentifier},set:function(t){this._creativeIdentifier=t}},{key:"$type",get:function(){return"UniversalAdId"}}]);return t}(),da=function(t){function e(){var e;(e=t.call(this)||this)._uri=null;e._version=null;e._errors=[];return e}r(e,t);i(e,[{key:"uri",get:function(){return this._uri},set:function(t){this._uri=t}},{key:"version",get:function(){return this._version},set:function(t){this._version=t}},{key:"errors",get:function(){return this._errors}},{key:"$type",get:function(){return"VAST"}}]);return e}(function(){function t(){this._ads=new $u;this._adPod=null}i(t,[{key:"ads",get:function(){return this._ads}},{key:"adPod",get:function(){return this._adPod},set:function(t){this._adPod=t}},{key:"$type",get:function(){return"AdBuffet"}}]);return t}()),pa=function(){function t(){this._vendor=null;this._javaScriptResources=[];this._flashResources=[];this._viewableImpression=null}i(t,[{key:"vendor",get:function(){return this._vendor},set:function(t){this._vendor=t}},{key:"javaScriptResources",get:function(){return this._javaScriptResources}},{key:"flashResources",get:function(){return this._flashResources}},{key:"viewableImpression",get:function(){return this._viewableImpression},set:function(t){this._viewableImpression=t}},{key:"$type",get:function(){return"Verification"}}]);return t}(),va=function(){function t(){this._id=null;this._viewables=[];this._notViewables=[];this._viewUndetermineds=[]}i(t,[{key:"id",get:function(){return this._id},set:function(t){this._id=t}},{key:"viewables",get:function(){return this._viewables}},{key:"notViewables",get:function(){return this._notViewables}},{key:"viewUndetermineds",get:function(){return this._viewUndetermineds}},{key:"$type",get:function(){return"ViewableImpression"}}]);return t}(),ma=function(){function t(){this._required=null;this._companions=[]}i(t,[{key:"required",get:function(){return this._required},set:function(t){this._required=t}},{key:"companions",get:function(){return this._companions}},{key:"$type",get:function(){return"CompanionAds"}}]);return t}(),ga=function(){function t(){this._id=null;this._width=null;this._height=null;this._assetWidth=null;this._assetHeight=null;this._expandedWidth=null;this._expandedHeight=null;this._apiFramework=null;this._adSlotID=null;this._pxratio=null;this._resource=null;this._adParameters=null;this._altText=null;this._clickThrough=null;this._clickTrackings=[];this._trackingEvents=null}i(t,[{key:"id",get:function(){return this._id},set:function(t){this._id=t}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"assetWidth",get:function(){return this._assetWidth},set:function(t){this._assetWidth=t}},{key:"assetHeight",get:function(){return this._assetHeight},set:function(t){this._assetHeight=t}},{key:"expandedWidth",get:function(){return this._expandedWidth},set:function(t){this._expandedWidth=t}},{key:"expandedHeight",get:function(){return this._expandedHeight},set:function(t){this._expandedHeight=t}},{key:"apiFramework",get:function(){return this._apiFramework},set:function(t){this._apiFramework=t}},{key:"adSlotID",get:function(){return this._adSlotID},set:function(t){this._adSlotID=t}},{key:"pxratio",get:function(){return this._pxratio},set:function(t){this._pxratio=t}},{key:"resource",get:function(){return this._resource},set:function(t){this._resource=t}},{key:"adParameters",get:function(){return this._adParameters},set:function(t){this._adParameters=t}},{key:"altText",get:function(){return this._altText},set:function(t){this._altText=t}},{key:"clickThrough",get:function(){return this._clickThrough},set:function(t){this._clickThrough=t}},{key:"clickTrackings",get:function(){return this._clickTrackings}},{key:"trackingEvents",get:function(){return this._trackingEvents},set:function(t){this._trackingEvents=t}},{key:"$type",get:function(){return"Companion"}}]);return t}(),ya=function(){function t(){this._skipoffset=null;this._duration=null;this._mezzanine=null;this._mediaFiles=[];this._interactiveCreativeFiles=[];this._adParameters=null;this._videoClicks=null;this._trackingEvents=null;this._icons=[]}i(t,[{key:"skipoffset",get:function(){return this._skipoffset},set:function(t){this._skipoffset=t}},{key:"duration",get:function(){return this._duration},set:function(t){this._duration=t}},{key:"mezzanine",get:function(){return this._mezzanine},set:function(t){this._mezzanine=t}},{key:"mediaFiles",get:function(){return this._mediaFiles}},{key:"interactiveCreativeFiles",get:function(){return this._interactiveCreativeFiles}},{key:"adParameters",get:function(){return this._adParameters},set:function(t){this._adParameters=t}},{key:"videoClicks",get:function(){return this._videoClicks},set:function(t){this._videoClicks=t}},{key:"trackingEvents",get:function(){return this._trackingEvents},set:function(t){this._trackingEvents=t}},{key:"icons",get:function(){return this._icons}},{key:"$type",get:function(){return"Linear"}}]);return t}(),_a=function(){function t(){this._nonLinears=[];this._trackingEvents=null}i(t,[{key:"nonLinears",get:function(){return this._nonLinears}},{key:"trackingEvents",get:function(){return this._trackingEvents},set:function(t){this._trackingEvents=t}},{key:"$type",get:function(){return"NonLinearAds"}}]);return t}(),ba=function(){function t(){this._id=null;this._width=null;this._height=null;this._expandedWidth=null;this._expandedHeight=null;this._scalable=!1;this._maintainAspectRatio=!1;this._minSuggestedDuration=null;this._apiFramework=null;this._resource=null;this._adParameters=null;this._clickThrough=null;this._clickTrackings=[]}i(t,[{key:"id",get:function(){return this._id},set:function(t){this._id=t}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"expandedWidth",get:function(){return this._expandedWidth},set:function(t){this._expandedWidth=t}},{key:"expandedHeight",get:function(){return this._expandedHeight},set:function(t){this._expandedHeight=t}},{key:"scalable",get:function(){return this._scalable},set:function(t){this._scalable=t}},{key:"maintainAspectRatio",get:function(){return this._maintainAspectRatio},set:function(t){this._maintainAspectRatio=t}},{key:"minSuggestedDuration",get:function(){return this._minSuggestedDuration},set:function(t){this._minSuggestedDuration=t}},{key:"apiFramework",get:function(){return this._apiFramework},set:function(t){this._apiFramework=t}},{key:"resource",get:function(){return this._resource},set:function(t){this._resource=t}},{key:"adParameters",get:function(){return this._adParameters},set:function(t){this._adParameters=t}},{key:"clickThrough",get:function(){return this._clickThrough},set:function(t){this._clickThrough=t}},{key:"clickTrackings",get:function(){return this._clickTrackings}},{key:"$type",get:function(){return"NonLinear"}}]);return t}(),wa=function(){function t(){this._type=null;this._xmlElement=null}i(t,[{key:"type",get:function(){return this._type},set:function(t){this._type=t}},{key:"xmlElement",get:function(){return this._xmlElement},set:function(t){this._xmlElement=t}}]);return t}(),ka=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);i(e,[{key:"$type",get:function(){return"CreativeExtension"}}]);return e}(wa),Aa=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);i(e,[{key:"$type",get:function(){return"Extension"}}]);return e}(wa),Sa=function(){function t(){this._uri=null}i(t,[{key:"uri",get:function(){return this._uri},set:function(t){this._uri=t}}]);return t}(),Pa=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);i(e,[{key:"$type",get:function(){return"HTMLResource"}}]);return e}(Sa),Ea=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);i(e,[{key:"$type",get:function(){return"IFrameResource"}}]);return e}(Sa),Ia=function(t){function e(){var e;(e=t.call(this)||this)._creativeType=null;return e}r(e,t);i(e,[{key:"creativeType",get:function(){return this._creativeType},set:function(t){this._creativeType=t}},{key:"$type",get:function(){return"StaticResource"}}]);return e}(Sa),Ta=function(t){function e(){var e;(e=t.call(this)||this)._apiFramework=null;return e}r(e,t);i(e,[{key:"apiFramework",get:function(){return this._apiFramework},set:function(t){this._apiFramework=t}}]);return e}(Sa),Oa=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);i(e,[{key:"$type",get:function(){return"FlashResource"}}]);return e}(Ta),Ca=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);i(e,[{key:"$type",get:function(){return"JavaScriptResource"}}]);return e}(Ta),xa=function(){function t(){this._value=null}i(t,[{key:"value",get:function(){return this._value},set:function(t){this._value=t}}]);return t}(),Da=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);i(e,[{key:"$type",get:function(){return"AbsoluteTimeOffset"}}]);return e}(xa),ja=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);i(e,[{key:"$type",get:function(){return"RelativeTimeOffset"}}]);return e}(xa),Na=function(){function t(){this._ads=new $u}i(t,[{key:"ads",get:function(){return this._ads}},{key:"$type",get:function(){return"AdPod"}}]);return t}(),Ra=function(t){var e=new ka;e.type=t.type;e.xmlElement=t._value;return e},Fa=function(t){var e=new ua;e.id=t.id;e.delivery=t.delivery;e.type=t.type;e.bitrate=t.bitrate;e.minBitrate=t.minBitrate;e.maxBitrate=t.maxBitrate;e.width=t.width;e.height=t.height;e.scalable=t.scalable;e.maintainAspectRatio=t.maintainAspectRatio;e.codec=t.codec;e.apiFramework=t.apiFramework;e.uri=t._value;return e},Ma=function(t){var e=new sa;e.type=t.type;e.apiFramework=t.apiFramework;e.uri=t._value;return e},Va=function(t){return null!=t.staticResource?function(t){var e=new Ia;e.creativeType=t.creativeType;e.uri=t._value;return e}(t.staticResource):null!=t.iFrameResource?function(t){var e=new Ea;e.uri=t._value;return e}(t.iFrameResource):null!=t.htmlResource?function(t){var e=new Pa;e.uri=t._value;return e}(t.htmlResource):null},La=function(t){var e=new na;e.id=t.id;e.uri=t._value;return e},Ua=function(t){return"string"==typeof t&&t.length>0},Ba=function(t){return null!=t&&Ua(t._value)},Wa=function(t){return Array.isArray(t)&&t.length>0},Ga=function(t,e){return null==t?t:e.indexOf(t)<0?parseInt(t,0):t},Ha=function(t){var e=new ra;e.program=t.program;e.width=t.width;e.height=t.height;e.xPosition=Ga(t.xPosition,["left","right"]);e.yPosition=Ga(t.yPosition,["top","bottom"]);e.duration=t.duration;e.offset=t.offset;e.apiFramework=t.apiFramework;e.pxratio=t.pxratio;e.resources=Va(t);null!=t.iconClicks&&(Ba(t.iconClicks.iconClickThrough)||Wa(t.iconClicks.iconClickTracking))&&(e.clicks=function(t){var e=new Yu;null!=t.iconClickThrough&&Ba(t.iconClickThrough)&&(e.clickThrough=La(t.iconClickThrough));if(null!=t.iconClickTracking){var n;(n=e.clickTrackings).push.apply(n,t.iconClickTracking.filter(Ba).map(La))}return e}(t.iconClicks));if(null!=t.iconViewTracking){var n;(n=e.viewTrackings).push.apply(n,t.iconViewTracking.filter(Ba).map(La))}return e},za=function(t,e,n){if("%"===t.charAt(t.length-1)){var i=new ja;i.value=parseFloat(t.substr(0,t.length-1));return i}var r=new Da;try{r.value=Uu(t)}catch(n){e.errorHandler(n)}return r},qa=function(t,e,n){if(null!=t&&Array.isArray(t.tracking)){var i=t.tracking,r=Array.isArray(i),o=0;for(i=r?i:i[Symbol.iterator]();;){var s;if(r){if(o>=i.length)break;s=i[o++]}else{if((o=i.next()).done)break;s=o.value}var u=s;if(Ua(u._value)){var a=new la;a.uri=u._value;if(Ua(u.offset))try{a.offset=za(u.offset)}catch(t){n.errorHandler(t)}e.add(u.event,a)}}}},$a=function(t){var e=new ba;e.id=t.id;e.width=t.width;e.height=t.height;e.expandedWidth=t.expandedWidth;e.expandedHeight=t.expandedHeight;e.scalable=t.scalable;e.maintainAspectRatio=t.maintainAspectRatio;e.minSuggestedDuration=t.minSuggestedDuration;e.apiFramework=t.apiFramework;e.resource=Va(t);null!=t.adParameters&&(e.adParameters=t.adParameters._value);null!=t.nonLinearClickThrough&&Ba(t.nonLinearClickThrough)&&(e.clickThrough=La(t.nonLinearClickThrough));if(null!=t.nonLinearClickTracking){var n;(n=e.clickTrackings).push.apply(n,t.nonLinearClickTracking.filter(Ba).map(La))}return e},Qa=function(t){var e=new ga;e.id=t.id;e.width=t.width;e.height=t.height;e.assetWidth=t.assetWidth;e.assetHeight=t.assetHeight;e.expandedWidth=t.expandedWidth;e.expandedHeight=t.expandedHeight;e.apiFramework=t.apiFramework;e.adSlotID=t.adSlotID;e.pxratio=t.pxratio;e.resource=Va(t);null!=t.adParameters&&Ba(t.adParameters)&&(e.adParameters=t.adParameters._value);null!=t.altText&&Ba(t.altText._value)&&(e.altText=t.altText._value);null!=t.companionClickThrough&&Ba(t.companionClickThrough)&&(e.clickThrough=La(t.companionClickThrough));if(null!=t.companionClickTracking){var n;(n=e.clickTrackings).push.apply(n,t.companionClickTracking.filter(Ba).map(La))}if(null!=t.trackingEvents&&Wa(t.trackingEvents.tracking)){e.trackingEvents=new fa;qa(t.trackingEvents,e.trackingEvents)}return e},Ka=function(t){var e=new Aa;e.type=t.type;e.xmlElement=t._value;return e},Ja=function(t){var e=new oa;e.id=t.id;e.uri=t._value;return e},Xa=function(t){var e=new Ca;e.apiFramework=t.apiFramework;e.uri=t._value;return e},Ya=function(t){var e=new Oa;e.apiFramework=t.apiFramework;e.uri=t._value;return e},Za=function(t){return null!=t&&Ua(t._value)},tc=function(t,e,n,i){n.id=t.id;n.conditionalAd=t.conditionalAd;n.sequence=t.sequence;null!=e.adSystem&&(n.adSystem=function(t){var e=new ta;e.version=t.version;e.name=t._value;return e}(e.adSystem));if(null!=e.impression){var r;(r=n.impressions).push.apply(r,e.impression.filter(Za).map(Ja))}null!=e.pricing&&(n.pricing=function(t){var e=new aa;e.model=t.model;e.currency=t.currency;e.value=t._value;return e}(e.pricing));if(null!=e.error){var o;(o=n.errors).push.apply(o,e.error.filter(Za).map(function(t){return t._value}))}null!=e.viewableImpression&&(n.viewableImpression=function(t){var e=new va;e.id=t.id;if(null!=t.viewable){var n;(n=e.viewables).push.apply(n,t.viewable.map(function(t){return t._value}))}if(null!=t.notViewable){var i;(i=e.notViewables).push.apply(i,t.notViewable.map(function(t){return t._value}))}if(null!=t.viewUndetermined){var r;(r=e.viewUndetermineds).push.apply(r,t.viewUndetermined.map(function(t){return t._value}))}return e}(e.viewableImpression));null!=e.adVerifications&&e.adVerifications.verification.forEach(function(t){try{var e=function(t){var e=new pa;e.vendor=t.vendor;if(null!=t.javaScriptResource){var n;(n=e.javaScriptResources).push.apply(n,t.javaScriptResource.map(Xa))}if(null!=t.flashResource){var i;(i=e.flashResources).push.apply(i,t.flashResource.map(Ya))}null!=t.viewableImpression&&(e.viewableImpression=t.viewableImpression._value);null!=t.verificationParameters&&(e.parameters=t.verificationParameters._value);null!=t.adSwapDecision&&(e.adSwapDecision="true"===t.adSwapDecision);return e}(t);n.verifications.push(e)}catch(t){i.errorHandler(t)}});if(null!=e.extensions){var s;(s=n.extensions).push.apply(s,e.extensions.extension.map(Ka))}null!=e.creatives&&e.creatives.creative.forEach(function(t){try{var e=function(t,e){var n=new ia;n.id=t.id;n.sequence=t.sequence;n.adID=t.AdID||t.adID||t.adId;n.apiFramework=t.apiFramework;null!=t.universalAdId&&(n.universalAdId=function(t){var e=new ha;null!=t.idRegistry&&(e.idRegistry=t.idRegistry);null!=t.idValue&&(e.idValue=t.idValue);e.creativeIdentifier=t._value;return e}(t.universalAdId));if(null!=t.creativeExtensions&&t.creativeExtensions.creativeExtension){var i;(i=n.extensions).push.apply(i,t.creativeExtensions.creativeExtension.map(Ra))}null!=t.linear?n.linear=function(t,e){var n=t.linear,i=new ya;Ua(n.skipoffset)&&(i.skipoffset=za(n.skipoffset,e));null!=n.duration&&(i.duration=n.duration._value);if(null!=n.mediaFiles){null!=n.mediaFiles.mezzanine&&(i.mezzanine=n.mediaFiles.mezzanine._value);if(null!=n.mediaFiles.mediaFile){var r;(r=i.mediaFiles).push.apply(r,n.mediaFiles.mediaFile.map(Fa))}if(null!=n.mediaFiles.interactiveCreativeFile){var o;(o=i.interactiveCreativeFiles).push.apply(o,n.mediaFiles.interactiveCreativeFile.map(Ma))}}null!=n.adParameters&&(i.adParameters=n.adParameters._value);if(null!=n.videoClicks){i.videoClicks=new Zu;!function(t,e){null!=t.clickThrough&&Ba(t.clickThrough)&&(e.clickThrough=La(t.clickThrough));if(null!=t.clickTracking){var n;(n=e.clickTrackings).push.apply(n,t.clickTracking.filter(Ba).map(La))}if(null!=t.customClick){var i;(i=e.customClicks).push.apply(i,t.customClick.filter(Ba).map(La))}}(n.videoClicks,i.videoClicks)}if(null!=n.trackingEvents&&Wa(n.trackingEvents.tracking)){i.trackingEvents=new fa;qa(n.trackingEvents,i.trackingEvents,e)}if(null!=n.icons&&n.icons.icon){var s;(s=i.icons).push.apply(s,n.icons.icon.map(Ha))}return i}(t,e):null!=t.nonLinearAds&&(n.nonLinearAds=function(t){var e=t.nonLinearAds,n=new _a;if(null!=e.nonLinear){var i;(i=n.nonLinears).push.apply(i,e.nonLinear.map($a))}if(null!=e.trackingEvents&&Wa(e.trackingEvents.tracking)){n.trackingEvents=new fa;qa(e.trackingEvents,n.trackingEvents)}return n}(t));null!=t.companionAds&&(n.companionAds=function(t){var e=t.companionAds,n=new ma;n.required=e.required;if(null!=e.companion){var i;(i=n.companions).push.apply(i,e.companion.map(Qa))}return n}(t));null==n.linear&&null==n.nonLinearAds&&null==n.companionAds&&e.errorHandler(new Error("Creative has no ads"));return n}(t,i);n.creatives.add(e)}catch(t){i.errorHandler(t)}});return n},ec=function(t){var e=new ea;e.authority=t.authority;e.code=t._value;return e},nc=function(t){var e=new ca;e.type=t.type;e.uri=t._value;return e},ic=function(t,e){if(null!=t.inLine)return function(t,e){var n=new Ku,i=t.inLine;tc(t,i,n,e);n.adTitle=null!=i.adTitle?i.adTitle._value:null;if(null!=i.category){var r;(r=n.categories).push.apply(r,i.category.filter(function(t){return null!=t.authority}).map(ec))}n.description=null!=i.description?i.description._value:null;n.advertiser=null!=i.advertiser?i.advertiser._value:null;if(null!=i.survey){var o;(o=n.surveys).push.apply(o,i.survey.filter(function(t){return t._value.length>0}).map(nc))}return n}(t,e);if(null!=t.wrapper)return function(t,e){var n=new Ju,i=t.wrapper;tc(t,i,n,e);null!=i.followAdditionalWrappers&&(n.followAdditionalWrappers=i.followAdditionalWrappers);null!=i.allowMultipleAds&&(n.allowMultipleAds=i.allowMultipleAds);n.fallbackOnNoAd=i.fallbackOnNoAd;n.vastAdTagURI=null!=i.vastAdTagURI?i.vastAdTagURI._value:null;return n}(t,e);throw new Error("Unrecognized ad type")},rc=function(t){throw t},oc=function(){},sc={strict:!1,noSingleAdPods:!1},uc={100:"XML parsing error.",101:"VAST schema validation error.",102:"VAST version of response not supported.",200:"Trafficking error. Video player received an ad type that it was not expecting and/or cannot display.",201:"Video player expecting different linearity.",202:"Video player expecting different duration.",203:"Video player expecting different size.",300:"General Wrapper error.",301:"Timeout of VAST URI provided in Wrapper element, or of VAST URI provided in a subsequent Wrapper element.",302:"Wrapper limit reached, as defined by the video player. Too many Wrapper responses have been received with no InLine response.",303:"No ads VAST response after one or more Wrappers. Also includes number of empty VAST responses from fallback.",400:"General linear error. Video player is unable to display the linear ad.",401:"File not found. Unable to find Linear/MediaFile from URI.",402:"Timeout of MediaFile URI.",403:"Could not find MediaFile that is supported by this video player, based on the attributes of the MediaFile element.",405:"Problem displaying MediaFile.",406:"Mezzanine was required but not provided. Ad not served.",407:"Mezzanine is in the process of being downloaded for the first time. Download may take several hours. Ad will not be served until mezzanine is downloaded and transcoded.",408:"Conditional ad rejected.",409:"Interactive unit in the InteractiveCreativeFile node was not executed",410:"Verification unit in the Verification node was not executed.",411:"Mezzanine was provided as required, but file did not meet required specification. Ad not served.",500:"General NonLinearAds error.",501:"Unable to display NonLinear Ad because creative dimensions do not align with creative display area.",502:"Unable to fetch NonLinearAds/NonLinear resource.",503:"Could not find NonLinearresource with supported type.",600:"General CompanionAds error.",601:"Unable to display companion because creative dimensions do not fit within Companion display area.",602:"Unable to display Required Companion.",603:"Unable to fetch CompanionAds/Companion resource.",604:"Could not find Companion resource with supported type.",900:"Undefined error.",901:"General VPAID error."},ac=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var n=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));Object.defineProperty(n,"message",{configurable:!0,enumerable:!1,value:t,writable:!0});Object.defineProperty(n,"name",{configurable:!0,enumerable:!1,value:n.constructor.name,writable:!0});if(Error.hasOwnProperty("captureStackTrace")){Error.captureStackTrace(n,n.constructor);return u(n)}Object.defineProperty(n,"stack",{configurable:!0,enumerable:!1,value:new Error(t).stack,writable:!0});return n}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,function(t){function e(){t.apply(this,arguments)}e.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t;return e}(Error));return e}(),cc=function(t){function e(e,n,i){var r;void 0===n&&(n=null);void 0===i&&(i=null);(r=t.call(this,e)||this).$type="VASTLoaderError";r.cause=n;r.uri=i;return r}r(e,t);return e}(function(t){function e(e){var n;void 0===e&&(e=900);(n=t.call(this,"VAST error "+e+(e in uc?": "+uc[e]:""))||this).code=e;n.$type="VASTError";return n}r(e,t);return e}(ac)),lc=function(t){function e(e,n){var i;(i=t.call(this,"HTTP "+e+(null!=n&&""!==n?": "+n:""))||this).status=e;i.statusText=n;i.$type="HTTPError";return i}r(e,t);return e}(ac),fc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",hc=/^data:(.*?)(;\s*base64)?,(.*)/,dc={maxDepth:10,credentials:"omit",timeout:1e4,noSingleAdPods:!1,fetch:Du},pc=function(t){function e(e,n,i){var r;(r=t.call(this)||this)._uri=e;if(null!=i){r._root=i._root;r._options=r._root._options;r._depth=i._depth+1}else{r._root=o(o(r));r._options=Object.assign({},dc,n);r._depth=1}return r}r(e,t);var n=e.prototype;n.load=function(){var t=this;return this._load(this._uri).catch(function(e){t._emit("error",{error:e});throw e})};n._load=function(t){var e=this;return Promise.resolve().then(function(){e._emit("willFetch",{uri:t});var n=hc.exec(t);return null==n?e._fetchUri(t):e._parseDataUri(n[3],n[1],null!=n[2])}).then(function(n){var i=n.headers,r=n.body;e._emit("didFetch",{uri:t,headers:i,body:r});e._emit("willParse",{uri:t,body:r});var o=function(t,e){void 0===e&&(e={});(e=Object.assign({},sc,e)).errorHandler=e.strict?rc:oc;var n=function(t,e){"string"==typeof t&&(t=(e.domParser||new DOMParser).parseFromString(t,"text/xml"));null!=t.documentElement&&(t=t.documentElement);return t}(t,e);return function(t,e){try{return function(t,e){var n,i=new da;i.version=t.version;(n=i.errors).push.apply(n,t.error.map(function(t){return t._value}).filter(function(t){return""!==t}));var r=function(t){for(var e=[],n=[],i=0;i<t.length;++i){var r=t[i];void 0!==r.sequence?e.push(r):n.push(r)}return[e,n]}(t.ad),o=r[0],s=r[1];if(o.length>0)if(e.noSingleAdPods&&1===t.ad.length&&1===o.length)s.push(o[0]);else{i.adPod=new Na;for(var u=0;u<o.length;u++)i.adPod.ads.add(ic(o[u],e))}for(var a=0;a<s.length;a++)i.ads.add(ic(s[a],e));return i}(t,e)}catch(t){e.errorHandler(t)}}(new Hu(zu).unmarshal(n),e)}(r,{noSingleAdPods:e._options.noSingleAdPods});o.uri=t;e._emit("didParse",{uri:t,body:r,vast:o});if(o.ads.length>0){var s=o.ads.get(0);if(s instanceof Ju||"Wrapper"===s.$type)return e._loadWrapped(s.vastAdTagURI,o)}else if(e._depth>1)throw new cc(303,null,t);return[o]})};n._parseDataUri=function(t,e,n){return{headers:new Headers({"Content-Type":e}),body:n?function(t){var e="",n=0;do{var i=fc.indexOf(t.charAt(n++)),r=fc.indexOf(t.charAt(n++)),o=fc.indexOf(t.charAt(n++)),s=(63&i)<<2|r>>4&3,u=(15&r)<<4|o>>2&15,a=(3&o)<<6|63&fc.indexOf(t.charAt(n++));e+=String.fromCharCode(s)+(u?String.fromCharCode(u):"")+(a?String.fromCharCode(a):"")}while(n<t.length);return e}(t):decodeURIComponent(t)}};n._loadWrapped=function(t,n){var i=this;return Promise.resolve().then(function(){var n=i._options.maxDepth;if(n>0&&i._depth+1>=n)throw new cc(302,null,t);return new e(t,null,i).load()}).then(function(t){return[n].concat(t)})};n._fetchUri=function(t){var e=this,n=this._fetchWithCredentials(t),i=this._createTimeouter(n,t);return Promise.race([n,i]).then(function(t){i.cancel();return t}).catch(function(n){i.cancel();throw e._depth>1?new cc(301,null,t):n})};n._fetchWithCredentials=function(t){var e=this,n=this._options.credentials;"function"==typeof n&&(n=n(t));Array.isArray(n)||(n=[n]);return n.reduce(function(n,i){return n.catch(function(){return e._tryFetch(t,i)})},Promise.reject(new Error))};n._tryFetch=function(t,e){var n,i=this;return(0,this._options.fetch)(t,{credentials:e}).then(function(e){if(e.ok){n=e.headers;return e.text()}var i=new lc(e.status,e.statusText);throw new cc(301,i,t)}).then(function(t){return{headers:n,body:t}}).catch(function(n){i._emit("fetchError",{uri:t,credentials:e,error:n});throw n})};n._createTimeouter=function(t,e){var n=this._options.timeout,i=null,r=new Promise(function(t,r){i=setTimeout(function(){r(new cc(301,null,e))},n)});r.cancel=function(){if(null!=i){clearTimeout(i);i=null}};return r};n._emit=function(){var t;(t=this._root).emit.apply(t,arguments)};return e}(Tu),vc=Symbol("url"),mc=Symbol("options"),gc=Symbol("pubSub"),yc=Symbol("skippable"),_c=Symbol("slot"),bc=Symbol("videoSlot"),wc=Symbol("clickSlot"),kc=Symbol("width"),Ac=Symbol("height"),Sc=Symbol("viewMode"),Pc=Symbol("volume"),Ec=Symbol("supportsVolume"),Ic=Symbol("prevDuration"),Tc=Symbol("paused"),Oc=Symbol("loaded"),Cc=Symbol("clicked"),xc=Symbol("requested"),Dc=Symbol("domListeners"),jc=Symbol("tickInterval"),Nc=Symbol("quartile"),Rc={noMutedAutoplayFallback:!1,skipOffset:null},Fc={position:"absolute",left:"0",top:"0",border:"0",margin:"0",padding:"0"},Mc=Object.assign({},Fc,{cursor:"pointer"}),Vc=function(){function t(t,e){this[vc]=t;this[mc]=Object.assign({},Rc,e);this[gc]=new Dr;this[yc]=null==this[mc].skipOffset;this[kc]=Gi;this[Ac]=Gi;this[Pc]=Gi;this[Ec]=!0;this[Ic]=Gi;this[_c]=null;this[bc]=null;this[Tc]=!0;this[Oc]=!1;this[Cc]=!1;this[Dc]=null;this[xc]={};this[jc]=null;this[Nc]=-1;this._onTick=this._onTick.bind(this);for(var n=0;n<Ji.length;++n){var i=Ji[n];this[i]=ar(this[i]).bind(this)}Ar({rel:"preconnect",href:t,pr:"1.0"})}var e=t.prototype;e.getAdLinear=function(){return!0};e.getAdWidth=function(){return this[kc]};e.getAdHeight=function(){return this[Ac]};e.getAdExpanded=function(){return!1};e.getAdSkippableState=function(){return this[yc]};e.getAdRemainingTime=function(){if(this[Oc]&&null!=this[bc]){var t=this[bc],e=t.currentTime,n=t.duration;if(isFinite(e)&&isFinite(n))return n-e}return Gi};e.getAdDuration=function(){if(this[Oc]&&null!=this[bc]){var t=this[bc].duration;if(isFinite(t)&&t>0)return t}return Gi};e.getAdVolume=function(){if(this[Oc]&&null!=this[bc]){var t=this[bc],e=t.volume,n=t.muted;if("boolean"==typeof n&&n)return 0;if(isFinite(e))return e}return this[Pc]};e.setAdVolume=function(t){this[Pc]=t;null!=this[bc]&&this._setVolume(t);this[Ec]||this._publish(Hi.AdVolumeChange)};e.getAdCompanions=function(){return""};e.getAdIcons=function(){return!1};e.handshakeVersion=function(){return"2.0"};e.initAd=function(t,e,n,i,r,o){var s=this,u=o||{},a=u.videoSlot,c=u.slot,l=null==c||null==c.ownerDocument;if(l){c=document.createElement("div");uo(c,Fc)}if(null==a){a=c.ownerDocument.createElement("video");uo(a,Fc);c.appendChild(a)}this[_c]=c;this[bc]=a;this[wc]=c.ownerDocument.createElement("div");uo(this[wc],Mc,!0);c.appendChild(this[wc]);this[Ec]="volume"in a&&"muted"in a;this._setDimensions(t,e,n);this._preloadSrc(this[vc]);var f=function(){s._publish(Hi.AdLoaded)};l?Wi(document).then(function(){document.body.appendChild(c);f()}):f()};e.resizeAd=function(t,e,n){this._setDimensions(t,e,n);this._publish(Hi.AdSizeChange)};e.startAd=function(){this._request(Hi.AdImpression);this._addDomListeners();this[bc].pause();this[Pc]>=0&&this._setVolume(this[Pc]);this._setSrc(this[vc]);this[Oc]=!0;this._publish(Hi.AdStarted);this[Tc]=!1;this._play()};e.stopAd=function(){this._stop()};e.skipAd=function(){this._request(Hi.AdSkipped);this._stop()};e.pauseAd=function(){this._pause()};e.resumeAd=function(){this._resume()};e.expandAd=function(){};e.collapseAd=function(){};e.subscribe=function(t,e,n){void 0===n&&(n=null);this[gc].subscribe(t,e,n)};e.unsubscribe=function(t,e){this[gc].unsubscribe(t,e)};e._publish=function(t,e){void 0===e&&(e=[]);this[gc].publish(t,e)};e._addDomListeners=function(){if(null==this[Dc]){this[Dc]=[];this._addDomListener(this[wc],"click",this._onClickSlotClick);this._addVideoSlotListener("durationchange",this._onVideoDurationchange);this._addVideoSlotListener("volumechange",this._onVideoVolumechange);this._addVideoSlotListener("playing",this._onVideoSlotPlaying);this._addVideoSlotListener("pause",this._onVideoSlotPause);this._addVideoSlotListener("seeked",this._onVideoSeeked);this._addVideoSlotListener("ended",this._onVideoEnded);this._addVideoSlotListener("error",this._onVideoSlotError)}};e._addSlotListener=function(t,e){this._addDomListener(this[_c],t,e)};e._addVideoSlotListener=function(t,e){this._addDomListener(this[bc],t,e)};e._addDomListener=function(t,e,n){var i=n.bind(this);t.addEventListener(e,i);this[Dc].push({target:t,type:e,listener:i})};e._removeDomListeners=function(){if(null!=this[Dc]){for(var t=0;t<this[Dc].length;++t){var e=this[Dc][t],n=e.target,i=e.type,r=e.listener;n.removeEventListener(i,r)}this[Dc]=null}};e._onClickSlotClick=function(){if(this[Cc]&&this[Tc]){if(this[Tc]){this[Cc]=!1;this._resume()}}else{this[Tc]||this._pause();this[Cc]=!0;this._publish(Hi.AdClickThru,[null,null,!0])}};e._onVideoDurationchange=function(){this._onDurationChange()};e._onVideoVolumechange=function(){(this[Ec]||this.getAdVolume()!==this[Pc])&&this._publish(Hi.AdVolumeChange)};e._onVideoSlotPlaying=function(){this._satisfy(Hi.AdImpression);this._satisfy(Hi.AdPlaying);this._startTicking()};e._onVideoSlotPause=function(){this._stopTicking();this._satisfy(Hi.AdPaused);this._satisfyStopRequest()};e._onVideoSeeked=function(){this._publish(Hi.AdRemainingTimeChange)};e._onVideoEnded=function(){this._onTick();this._stop()};e._onVideoSlotError=function(){var t=null!=this[bc].error?this[bc].error:new Error("Video error");this._onError(t)};e._onError=function(t){this._publish(Hi.AdError,[t.message]);this._stop()};e._onDurationChange=function(){this._publish(Hi.AdRemainingTimeChange);this._publish(Hi.AdDurationChange);this[Ic]=this[bc].duration};e._preloadSrc=function(t){var e=this[bc],n=e.src,i=e.currentSrc;null!=n&&""!==n||null!=i&&""!==i||this._setSrc(t)};e._setSrc=function(t){this[bc].src=t};e._setDimensions=function(t,e,n){this[kc]=t;this[Ac]=e;this[Sc]=n;var i={width:t+"px",height:e+"px"};uo(this[bc],i);uo(this[_c],i);uo(this[wc],i,!0)};e._setVolume=function(t){this[bc].volume=t;this[bc].muted=0===t};e._play=function(){var t=this,e=this[mc].noMutedAutoplayFallback,n=this[bc].muted,i=this[bc].play();null!=i&&"function"==typeof i.catch?i.catch(function(i){if(n)throw i;t._publish(Hi.AdLog,["Error trying to play unmuted: "+i]);if(t[Tc])t._publish(Hi.AdLog,["Ad paused, not falling back to muted autoplay"]);else{if(!e){t._publish(Hi.AdLog,["Attempting to perform muted autoplay"]);t[bc].muted=!0;return t[bc].play()}t._publish(Hi.AdLog,["Muted autoplay fallback disabled"])}}).catch(function(e){t._publish(Hi.AdLog,["Muted playback failed: "+e])}):this._publish(Hi.AdLog,["Video slot does not support muted autoplay"])};e._pause=function(){this[Tc]=!0;if(null==this[bc]||this[bc].paused)this._publish(Hi.AdPaused);else{this._request(Hi.AdPaused);this[bc].pause()}};e._resume=function(){this[Tc]=!1;if(null!=this[bc]&&this[bc].paused){this._request(Hi.AdPlaying);this._play()}else this._publish(Hi.AdPlaying)};e._stop=function(){this._stopTicking();this[Tc]=!0;this._request(Hi.AdStopped);null==this[bc]||this[bc].paused||this[bc].ended?this._satisfyStopRequest():this[bc].pause()};e._satisfyStopRequest=function(){if(this._requested(Hi.AdStopped)){this._removeDomListeners();null!=this[bc]&&this._resetMediaSrc();this._satisfy(Hi.AdSkipped);this._satisfy(Hi.AdStopped)}};e._resetMediaSrc=function(){var t=this[bc];if("function"==typeof t.removeAttribute){t.removeAttribute("src");t.load()}else t.src="";this[Oc]=!1};e._startTicking=function(){if(null==this[jc]){this[jc]=setInterval(this._onTick,250);this._onTick()}};e._stopTicking=function(){if(null!=this[jc]){this._onTick();clearInterval(this[jc]);this[jc]=null}};e._onTick=function(){if(!(!1===this[Oc]||null==this[bc]||this[bc].readyState<1||null!=this[bc].error)){var t=this[bc],e=t.currentTime,n=t.duration,i=t.ended;isFinite(n)&&n>0&&n!==this[Ic]&&this._onDurationChange();var r=this[mc].skipOffset;if(!this[yc]&&"number"==typeof r&&e>=r){this[yc]=!0;this._publish(Hi.AdSkippableStateChange)}var o,s=null!=this[bc].played?(o=this[bc].played,Array.apply(null,o).reduce(function(t,e,n){return t+o.end(n)-o.start(n)},0)):e;if(!(!isFinite(s)||s<0||!isFinite(n)||n<=0)){var u=this[Nc],a=i?.1:0;this[Nc]=Math.min(Math.max(u,Math.floor((s+a)/n*4)),4);for(var c=u+1;c<=this[Nc];++c)this._publish(Xi[c])}}};e._request=function(t){this[xc][t]=!0};e._requested=function(t){return!!this[xc][t]};e._satisfy=function(t){if(this._requested(t)){delete this[xc][t];this._publish(t)}};return t}(),Lc="event",Uc=function(t){function e(e){var n;(n=t.call(this,e)||this).setHitType(Lc);return n}r(e,t);var n=e.prototype;n.setEventCategory=function(t){return this.set("ec",t)};n.setEventAction=function(t){return this.set("ea",t)};n.setEventLabel=function(t){return this.set("el",t)};n.setEventValue=function(t){return this.set("ev",t)};return e}(function(){function t(t){this._options=Object.assign({},t);this._params={};this.setProtocolVersion(1)}var e=t.prototype;e.build=function(){return this._baseUrl+"?"+this.buildQueryString()};e.buildQueryString=function(){return zo.stringify(this._params)+"&z="+this.buildCacheBuster()};e.buildCacheBuster=function(){if(this._params.hasOwnProperty("z")){var t=this._params.z;delete this._params.z;return encodeURIComponent(t)}if(this._options.vast)return"[CACHEBUSTING]";var e=1e6+Math.floor(9e6*Math.random());return""+(new Date).getTime()+e};e.setBaseUrl=function(t){this._baseUrl=t;return this};e.set=function(t,e){null!=e&&(this._params[t]=e);return this};e.setProtocolVersion=function(t){return this.set("v",t)};e.setTrackingId=function(t){return this.set("tid",t)};e.setClientId=function(t){return this.set("cid",t)};e.setHitType=function(t){return this.set("t",t)};e.setDocumentReferrer=function(t){return this.set("dr",t)};e.setCampaignName=function(t){return this.set("cn",t)};e.setCampaignSource=function(t){return this.set("cs",t)};e.setCampaignMedium=function(t){return this.set("cm",t)};e.setCampaignKeyword=function(t){return this.set("ck",t)};e.setCampaignContent=function(t){return this.set("cc",t)};e.setCampaignId=function(t){return this.set("ci",t)};e.setCustomDimension=function(t,e){return this.set("cd"+t,e)};e.setCustomMetric=function(t,e){return this.set("cm"+t,e)};i(t,[{key:"options",get:function(){return this._options}}]);return t}()),Bc=10,Wc={timeout:2e3,postAllowed:!1,styles:{position:"absolute",top:0,left:0,width:0,height:0,border:0,pointerEvents:"none",visibility:"hidden"}},Gc=function(){},Hc=function(){function t(t,e){void 0===e&&(e={});this._url=t;this._options=Object.assign({},Wc,e);var n=window,i=0;try{for(;i<Bc&&n.parent!==n&&null!=n.parent.document.createElement("img");){n=n.parent;++i}}catch(t){}this._window=n}var e=t.prototype;e.load=function(){if(null!=this._deferred)return Promise.reject(new Error("Already loading"));this._deferred=Li();this._deferred.promise.catch(Gc);(this._options.postAllowed&&"function"==typeof navigator.sendBeacon?this._sendBeacon:this._loadPixel).call(this);return this._deferred.promise};e.dispose=function(){this._rejectWith("Disposed")};e._sendBeacon=function(){navigator.sendBeacon(this._url,"")?this._deferred.resolve():this._deferred.reject(new Error("Failed"))};e._loadPixel=function(){this._image=this._window.document.createElement("img");this._image.src=this._url;Object.assign(this._image.style,this._options.styles);this._image.onload=this._onImageLoad.bind(this);this._image.onerror=this._onImageError.bind(this);this._window.document.body.appendChild(this._image);setTimeout(this._onImageTimeout.bind(this),this._options.timeout)};e._onImageLoad=function(){this._deferred.resolve();this._remove()};e._onImageError=function(){this._rejectWith("Unknown error")};e._onImageTimeout=function(){this._rejectWith("Timed out")};e._rejectWith=function(t){this._deferred.reject(new Error(t));this._remove()};e._remove=function(){if(null!=this._image){null!=this._image.parentNode&&this._image.parentNode.removeChild(this._image);this._image=null}};i(t,[{key:"promise",get:function(){return null!=this._deferred?this._deferred.promise:null}}]);return t}(),zc=Symbol("tracking"),qc=function(){},$c=[],Qc=function(){function t(){this[zc]=[]}var e=t.prototype;e.complete=function(){return new Promise(function(t,e){function n(){if(this[zc].length>0){r=this[zc];this[zc]=[];return Promise.resolve(Promise.all(r)).then(function(t){try{return n}catch(t){return e(t)}},e)}return[1]}function i(){return t()}var r,o;return(o=function(t){for(;t;){if(t.then)return void t.then(o,e);try{if(t.pop){if(t.length)return t.pop()?i.call(this):t;t=n}else t=t.call(this)}catch(t){return e(t)}}}.bind(this))(n)}.bind(this))};e.track=function(t,e){void 0===e&&(e={});var n=new Hc(t,e),i=n.load().catch(qc);this[zc].push(i);$c.push(i);return n};return t}(),Kc=function(t){t.setBaseUrl("https://pxsrv.net/")},Jc=/^(?:(\w+):)?\/\/(.*)/,Xc=/[_%]/g,Yc=function(t){return"_"===t?"_5F":"_"},Zc=function(t){function e(e){var n;n=t.call(this,e)||this;Kc(o(o(n)));return n}r(e,t);var n=e.prototype;n.setRedirectUrl=function(t){this._redirectUrl=t;return this};n.build=function(){if(null==this._redirectUrl)return t.prototype.build.call(this);var e=Jc.exec(this._redirectUrl);if(null==e)throw new Error("Invalid redirect URL: "+this._redirectUrl);return this._baseUrl+"t/"+this._buildEmbeddedQueryString()+"/"+(e[1]||"https")+"/"+e[2]};n._buildEmbeddedQueryString=function(){return this.buildQueryString().replace(Xc,Yc)};return e}(Uc),tl={placement:"ZA-",embed:"ZO-",wrapper:"ZW-"},el=Object.keys(tl),nl=(Cu=function(t){function e(e){var n;void 0===e&&(e=null);n=t.call(this)||this;null!=e&&(n.config=e);return n}r(e,t);e.prototype.trackEvent=function(t,e,n,i){if(null==this._trackingId)throw new Error("Invalid pxsrv configuration");var r;r=null!=n&&"object"!=typeof n?Object.assign({},i,{label:n}):Object.assign({},n);var o=(new Zc).setTrackingId(this._trackingId).setClientId(this._clientId).setEventCategory(t).setEventAction(e);null!=r.label&&o.setEventLabel(r.label);null!=r.value&&o.setEventValue(r.value);Object.keys(r.customDimensions||{}).forEach(function(t){o.setCustomDimension(t,r.customDimensions[t])});Object.keys(r.customMetrics||{}).forEach(function(t){o.setCustomMetric(t,r.customMetrics[t])});null!=r.redirectUrl&&o.setRedirectUrl(r.redirectUrl);if(null!=this._baseUrl){var s="function"==typeof this._baseUrl?this._baseUrl(t,e,r):this._baseUrl;o.setBaseUrl(s)}var u=o.build();return this.track(u,{postAllowed:!0})};i(e,[{key:"config",set:function(t){this._trackingId=function(t){null!=t.placement&&null!=t.campaign&&(t={placement:t.campaign+"-"+t.placement});for(var e=0;e<el.length&&null==t[el[e]];)++e;if(e===el.length)throw new Error("Invalid pxsrv configuration");var n=el[e];return tl[n]+t[n]}(t);this._baseUrl=t.baseUrl;this._clientId=t.client||function(t,e){for(e=t="";t++<36;e+=51*t&52?(15^t?8^(new Date/1e9%1+Math.random())%1*(20^t?16:4):4).toString(16):"-");return e}()}}]);return e}(Qc),xu=null,function(){null===xu&&(xu=new Cu);return xu}),il=["initAd","startAd","stopAd","skipAd"],rl=co,ol=function(t,e,n){null==t[e]&&(t[e]=function(){var t=null;try{for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];t=this._phasedGuestCallSync(e,r)}catch(e){if(null==e||"GuestNotAvailableError"!==e.name)throw e;t=n}return t})},sl=function(t,e){null==t[e]&&(t[e]=function(){var t=this;il.indexOf(e)>=0&&this[rl].track(e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];this._phasedGuestCall(e,i).catch(function(n){t._onError(n,e)})})},ul=t(function(t,e){function n(t,e){var n=[],i=[];null==e&&(e=function(t,e){return n[0]===e?"[Circular ~]":"[Circular ~."+i.slice(0,n.indexOf(e)).join(".")+"]"});return function(r,o){if(n.length>0){var s=n.indexOf(this);~s?n.splice(s+1):n.push(this);~s?i.splice(s,1/0,r):i.push(r);~n.indexOf(o)&&(o=e.call(this,r,o))}else n.push(o);return null==t?o:t.call(this,r,o)}}(t.exports=function(t,e,i,r){return JSON.stringify(t,n(e,r),i)}).getSerialize=n}),al=(ul.getSerialize,function t(e,n){switch(typeof e){case"object":if(null==e)return e;if(null!=e.nodeType)return"[DOM "+function(t){if(null==t)return"null";if(1!==t.nodeType)return"node";try{var e=(t.nodeName||"unknown").toLowerCase();null!=t.id&&(e+="#"+t.id);t.classList&&t.classList.length>0&&(e+="."+Array.from(t.classList).join("."));return e}catch(t){return"err"}}(e)+"]";if(n.indexOf(e)>=0)return"[Circular]";n.push(e);var i=Array.isArray(e)?[]:{},r=function(t){for(var e=[],n=a(t);n;){e.push(n);n=a(n)}return e}(e).filter(function(t){return t!==Object.prototype});return function t(e){if(null==e)return e;var n=Object.keys(e);if(1!==n.length||"message"!==n[0])return e;var i=e.message;Array.isArray(i)&&1===i.length&&(i=i[0]);return t(i)}([e].concat(r).map(function(t){return Object.getOwnPropertyNames(t)}).reduce(function(i,r){r.forEach(function(r){try{e instanceof Error&&"stack"===r||(i[r]=t(e[r],n))}catch(t){i[r]="[Error: "+(t.message||t)+"]"}});return i},i));case"function":if(n.length>0)return;return"[Function "+(e.name||"anonymous")+"]";default:return e}}),cl=function(t){try{var e=al(t,[])||t;switch(typeof e){case"string":return e;case"number":return""+e;default:return ul(e)}}catch(t){return"[Error]"}},ll=function(t){if(null!=t){var e=t.error;return null!=e?e:{message:t.message,filename:t.filename,lineno:t.lineno,colno:t.colno}}return"[Unknown error]"},fl=function(){var t=window.navigator&&window.navigator.connection&&window.navigator.connection.downlink;return null!=t?1024*t:1/0},hl=Symbol("timings"),dl=Symbol("eventCount"),pl=Symbol("lastEventTime"),vl=Symbol("handlers"),ml=Symbol("configured"),gl=Symbol("configuring"),yl=co,_l=function(){return(new Date).getTime()},bl=["start","load","initAd","AdLoaded","startAd","AdStarted"],wl=_l(),kl=180,Al=Math.random()<.1,Sl=document,Pl=function(){var t=window,e=0;try{for(;e<10&&t.parent!==t&&null!=t.parent.location&&null!=t.parent.location.hostname;){t=t.parent;++e}}catch(t){}return t}().location.hostname,El=function(){function t(t){var e=this;this[hl]={start:wl};this[dl]=0;this[pl]=wl;this[vl]=[];this[ml]=!1;this[gl]=Li();var n=function(e){var n=t[yl].guestInfo.mediaFile;return null!=n?n[e]:void 0};this.addDimension(100,function(){return t[yl].hostInfo.viewMode});this.addDimension(101,function(){return n("type")});this.addDimension(103,function(){return n("uri")});this.addDimension(105,function(){return"vpaid-transformer@0.19.9+js"});this.addDimension(107,function(){return Sl.readyState});this.addDimension(171,function(){return Pl});this.addMetric(100,function(){return t.getAdWidth()});this.addMetric(101,function(){return t.getAdHeight()});this.addMetric(104,function(){return t.getAdVolume()});this.addMetric(105,function(){return n("width")});this.addMetric(106,function(){return n("height")});this.addMetric(107,function(){return n("bitrate")});this.addMetric(108,function(){return t[yl].hostInfo.desiredBitrate});this.addMetric(109,function(){var t=fl();return isFinite(t)?t:-1});this.addMetric(110,function(){return _l()-wl});this.addMetric(111,function(){var t=_l(),n=t-e[pl];e[pl]=t;return n});this.addMetric(112,function(){return t[yl].hostInfo.width});this.addMetric(113,function(){return t[yl].hostInfo.height});this.addMetric(167,function(){return t.getAdDuration()});for(var i=function(t){var n=kl+t,i=bl[t],r=bl[t+1];e.addMetric(n,function(){return e._getTimingInfo(i,r)})},r=0;r<bl.length-1;r++)i(r);window.addEventListener("unload",function(){return e.track("global-unload")});window.addEventListener("error",function(t){return e.trackError("global-error",ll(t))});var o=function(n){return t.subscribe(function(){return e.track(n)},n)};o(Hi.AdLoaded);o(Hi.AdStarted);o(Hi.AdImpression);o(Hi.AdStopped);t.subscribe(function(t){return e.trackError(Hi.AdError,t)},Hi.AdError);this.track("load")}var e=t.prototype;e.configure=function(t){var e=this,n=t.wrapperId,i=t.customDimensions,r=t.customMetrics,o=t.trackingHost,s=t.adServingId;if(!this[ml]&&null!=n){var u={wrapper:n};null!=o&&(u.baseUrl="https://"+o);null!=s&&(u.client=s);nl().config=u;null!=i&&Object.keys(i).forEach(function(t){e.addDimension(t,function(){return i[t]})});null!=r&&Object.keys(r).forEach(function(t){e.addMetric(t,function(){return r[t]})});this[ml]=!0;this[gl].resolve()}};e.track=function(t,e,n,i){void 0===e&&(e=null);void 0===n&&(n=null);void 0===i&&(i=!1);try{this._addTiming(t);if(!i&&(!Al||this[dl]>=100))return;this[dl]++;var r=t+(i?"":"/10"),o=this._getPixelInfo(e,n);this._pxsrvTrack("vpaid",r,o)}catch(t){}};e.trackError=function(t,e,n,i,r){void 0===n&&(n=null);void 0===i&&(i=null);void 0===r&&(r=!1);var o=cl(e=e||"[Unknown error]"),s=Object.assign({},n,{110:o.substring(0,1e3)});this.track(t,s,i,r)};e.addDimension=function(t,e){this._addField("customDimensions",t,e)};e.addMetric=function(t,e){this._addField("customMetrics",t,e)};e._addField=function(t,e,n){this[vl].push(function(i){i[t][""+e]=n()})};e._addTiming=function(t){null==this[hl][t]&&(this[hl][t]=_l())};e._pxsrvTrack=function(t,e,n){var i=this;this[ml]?nl().trackEvent(t,e,n):this[gl].promise.then(function(){n=i._mergeOptions(i._getPixelInfo(null,null),n);nl().trackEvent(t,e,n)})};e._mergeOptions=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return{customDimensions:Object.assign.apply(Object,[{}].concat(e.map(function(t){return t.customDimensions}))),customMetrics:Object.assign.apply(Object,[{}].concat(e.map(function(t){return t.customMetrics})))}};e._getPixelInfo=function(t,e){var n={customDimensions:{},customMetrics:{}};this[vl].forEach(function(t){try{t(n)}catch(t){}});Object.assign(n.customDimensions,t);Object.assign(n.customMetrics,e);return n};e._getTimingInfo=function(t,e){var n=this[hl][t],i=this[hl][e];return null!=n&&n>0&&null!=i&&i>0?i-n:void 0};i(t,[{key:"configured",get:function(){return this[ml]}}]);return t}(),Il={width:"100%",height:"100%",pointerEvents:"auto",position:"absolute",top:0,left:0},Tl=Symbol("host"),Ol=Symbol("guest"),Cl=Symbol("config"),xl=Symbol("tracking"),Dl=Symbol("hostInfo"),jl=Symbol("guestInfo"),Nl=Symbol("container"),Rl=Symbol("containerSelector"),Fl=go,Ml=mo,Vl=lo,Ll=fo,Ul=ho,Bl={wrapperId:null,duration:null,skipOffset:null,mediaFiles:[],adParameters:null,plugins:[],flags:0},Wl={timestamp:function(){return+new Date},cachebusting:er,errorcode:function(t){var e=t.errorcode;return null!=e?e:900}},Gl=new RegExp("\\[("+Object.keys(Wl).join("|")+")\\]","ig"),Hl=function(t,e){var n=(t.ownerDocument||document).createElement("div");n.id=e;Object.assign(n.style,Il);t.appendChild(n);return n},zl=function(t){function e(e){var n;(n=t.call(this)||this)[Tl]=e;return n}r(e,t);i(e,[{key:"publishedEvents",get:function(){return this[Tl][Fl].published}},{key:"width",get:function(){return this._get("width")}},{key:"height",get:function(){return this._get("height")}},{key:"viewMode",get:function(){return this._get("viewMode")}},{key:"desiredBitrate",get:function(){return this._get("desiredBitrate")}},{key:"environmentVariables",get:function(){return this._get("environmentVariables")}},{key:"slot",get:function(){return this._get("slot")}},{key:"videoSlot",get:function(){return this._get("videoSlot")}},{key:"vastChain",get:function(){return this._get("vastChain")}}]);return e}(Nr),ql=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);i(e,[{key:"mediaFile",get:function(){return this._get("mediaFile")}}]);return e}(Nr),$l=function(){function t(t){this[Tl]=t;this[Ol]=null;this[Dl]=new zl(t);this[jl]=new ql;this[Cl]=Object.assign({},Bl);this[xl]=new El(t);this[Nl]=null;this[Rl]=null;this[Ul]=ar(this[Ul])}var e=t.prototype;e.publish=function(t,e){void 0===e&&(e=[]);return this[Tl]._publish(t,e)};e.track=function(){var t;(t=this[xl]).track.apply(t,arguments)};e.trackPixel=function(t,e){t=function(t,e){return t.replace(Gl,function(t,n){return Wl[n.toLowerCase()](e)})}(t,e);return new Hc(t).load()};e.trackError=function(){var t;(t=this[xl]).trackError.apply(t,arguments)};e.isFlagEnabled=function(t){return 0!=(this[Cl].flags&t)};e[Vl]=function(t){this[Cl]=Object.assign({},Bl,t);this[xl].configure(t)};e[Ll]=function(t){this[Ol]=t};e[Ul]=function(){var t=this[Dl].slot,e=t.ownerDocument||document,n="vpaid-container-"+er(),i=n+"-0",r=e.createElement("style");r.textContent="#"+i+", #"+i+" :not(html) { \n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font: inherit;\n  vertical-align: baseline;\n  background: none;\n  opacity: 1;\n  border: none;\n  outline: none;\n  top: auto;\n  bottom: auto;\n  left: auto;\n  right: auto;\n }";t.appendChild(r);for(var o=Hl(t,i),s=o,u="#"+o.id,a=1;a<5;++a)u+=" #"+(s=Hl(s,n+"-"+a)).id;this[Nl]=s;this[Rl]=u};i(t,[{key:"host",get:function(){return this[Tl]}},{key:"guest",get:function(){return this[Ol]}},{key:"hostInfo",get:function(){return this[Dl]}},{key:"guestInfo",get:function(){return this[jl]}},{key:"config",get:function(){return this[Cl]}},{key:"plugins",get:function(){return this[Tl][Ml].plugins}},{key:"tracking",get:function(){return this[xl]}},{key:"container",get:function(){return this[Nl]}},{key:"containerSelector",get:function(){return this[Rl]}}]);return t}(),Ql=function(t){function e(){var e;(e=t.call(this,"Guest VPAID not available")||this).name="GuestNotAvailableError";return e}r(e,t);return e}(ac),Kl=Symbol("guest"),Jl=Symbol("guestVpaidVersion"),Xl=Symbol("guestIframe"),Yl=Symbol("guestSubscriptions"),Zl=Symbol("managingSlotSize"),tf=Symbol("hadError"),ef=mo,nf=go,rf=co,of=yo,sf=function(){function t(){this[ef]=new Or;this[nf]=new Dr;this[Kl]=null;this[Xl]=null;this[Yl]=[];this[Zl]=!1;this[tf]=!1;this[rf]=new $l(this)}var e=t.prototype;e.subscribe=function(t,e,n){var i=this;void 0===n&&(n=null);this[ef].runPhaseSync("subscribe",[t,e,n],function(){return i[nf].subscribe(t,e,n)},function(t){return i._onError(t,"subscribe")},!0)};e.unsubscribe=function(t,e){var n=this;this[ef].runPhaseSync("unsubscribe",[t,e],function(){return n[nf].unsubscribe(t,e)},function(t){return n._onError(t,"unsubscribe")},!0)};e.handshakeVersion=function(t){this[Jl]=t;return"2.0"};e.initAd=function(t,e,n,i,r,o){this[rf].track("initAd");this._initAdAsync(t,e,n,i,r,o)};e.resizeAd=function(t,e,n){var i=this,r=this[rf].hostInfo;try{r._putAll({width:t,height:e,viewMode:n});this._phasedGuestCall("resizeAd",[t,e,n]).catch(function(t){i._onError(t,"resizeAd")})}catch(t){this._onError(t,"resizeAd")}};e._createGuest=function(t){return new Promise(function(t,e){return e(new Error("Method is abstract"))})};e._initAdAsync=function(t,e,n,i,r,o){return new Promise(function(s,u){var a,c,l,f,h,d,p,v,m;c=(a=this[rf]).hostInfo;var g=function(){try{return s()}catch(t){return u(t)}},y=function(t){try{this._onError(t,"initAd");return g()}catch(t){return u(t)}}.bind(this);try{c._putAll({width:t,height:e,viewMode:n,desiredBitrate:i,environmentVariables:o});if(null==o)a.track("no-envvars");else{l=o.slot,f=o.videoSlot;c._putAll({slot:l,videoSlot:f});if(null==l)a.track("no-slot");else{this[Zl]=null!=l.style&&(0===l.clientWidth||0===l.clientHeight);this._maybeResizeSlot(t,e)}null==f&&a.track("no-video-slot")}return Promise.resolve(this._createGuest({width:t,height:e,viewMode:n,desiredBitrate:i,creativeData:r,envVars:o})).then(function(r){try{d=(h=r).iframe,p=h.vpaid,v=h.adParameters;this[Kl]=p;this[Xl]=d;this._guestSubscribeAll();return Promise.resolve(this._phasedGuestCall("handshakeVersion",[this[Jl]],!0)).then(function(r){try{m={AdParameters:v};return Promise.resolve(this._phasedGuestCall("initAd",[t,e,n,i,m,o])).then(function(t){try{return g()}catch(t){return y(t)}},y)}catch(t){return y(t)}}.bind(this),y)}catch(t){return y(t)}}.bind(this),y)}catch(t){y(t)}}.bind(this))};e._maybeResizeSlot=function(t,e){if(this[Zl]){var n=this[rf].hostInfo.slot;Object.assign(n.style,{width:t+"px",height:e+"px"})}};e._publish=function(t,e,n){void 0===e&&(e=[]);void 0===n&&(n=null);switch(t){case Hi.AdError:if(!this._shouldPublishError(e[0],n))return Promise.resolve();"guest"!==n&&(e[0]=cl(e[0]));break;case Hi.AdClickThru:"string"!=typeof e[0]&&(e[0]=this[of])}return this._phasedGuestEvent(t,e)};e._guestSubscribeAll=function(){for(var t=this,e=Object.keys(Hi).map(function(t){return Hi[t]}),n=function(n){var i=e[n],r=[function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t._onGuestEvent(i,n)},i];t._guestCall("subscribe",r);t[Yl].push(r)},i=0;i<e.length;++i)n(i)};e._guestUnsubscribeAll=function(){if(null!=this[Kl])for(var t=this[Yl].splice(0),e=0;e<t.length;++e)try{this._guestCall("unsubscribe",t[e])}catch(t){}};e._onGuestEvent=function(t,e){this._publish(t,e,"guest")};e._guestCall=function(t,e){var n;if(null==this[Kl])throw new Ql;"resizeAd"===t&&this._maybeResizeSlot.apply(this,e);return(n=this[Kl])[t].apply(n,e)};e._phasedGuestCallSync=function(t,e){var n=this;return this[ef].runPhaseSync(t,e,function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return n._guestCall(t,i)},function(e){return n._onError(e,t)})};e._phasedGuestCall=function(t,e,n){return new Promise(function(i,r){var o;o=this;void 0===n&&(n=!1);return Promise.resolve(this._runPhase(t,e,function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return o._guestCall(t,n)},!n)).then(function(t){try{return i()}catch(t){return r(t)}},r)}.bind(this))};e._phasedGuestEvent=function(t,e){return new Promise(function(n,i){var r;r=this;return Promise.resolve(this._runPhase(t,e,function(){var e=arguments;return new Promise(function(n,i){function o(){for(s=e.length,u=new Array(s),a=0;a<s;a++)u[a]=e[a];r[nf].publish(t,u);return n()}var s,u,a;if(Zi.indexOf(t)>=0){var c=function(){try{var t=function(){try{return o.call(this)}catch(t){return i(t)}}.bind(this),e=function(e){try{return t()}catch(t){return i(t)}};try{return Promise.resolve(new Promise(function(t,e){function n(){if($c.length>0){r=$c;$c=[];return Promise.resolve(Promise.all(r)).then(function(t){try{return n}catch(t){return e(t)}},e)}return[1]}function i(){return t()}var r,o;return(o=function(t){for(;t;){if(t.then)return void t.then(o,e);try{if(t.pop){if(t.length)return t.pop()?i.call(this):t;t=n}else t=t.call(this)}catch(t){return e(t)}}}.bind(this))(n)})).then(function(n){try{return t()}catch(t){return e()}},e)}catch(t){e()}}catch(t){return i(t)}}.bind(this),l=function(t){try{return c()}catch(t){return i(t)}};try{return Promise.resolve(r[ef].dispose()).then(function(t){try{return c()}catch(t){return l()}},l)}catch(t){l()}}return o.call(this)})},!0)).then(function(t){try{return n()}catch(t){return i(t)}},i)}.bind(this))};e._runPhase=function(t,e,n,i){return new Promise(function(r,o){void 0===i&&(i=!1);var s=function(){try{if(t===Hi.AdStopped&&null!=this[Xl]){try{this[Xl].parentNode.removeChild(this[Xl])}catch(t){}this[Xl]=null}return r()}catch(t){return o(t)}}.bind(this),u=function(e){try{this._onError(e,t);return s()}catch(t){return o(t)}}.bind(this);try{return Promise.resolve(this[ef].runPhase(t,e,n,i)).then(function(t){try{return s()}catch(t){return u(t)}},u)}catch(t){u(t)}}.bind(this))};e._addPlugin=function(t){this[ef].addPlugin(t)};e._shouldPublishError=function(t,e){if(null!=t&&"GuestNotAvailableError"===t.name)return!1;if(this[tf])return!1;this[tf]=!0;this._guestUnsubscribeAll();return!0};e._onError=function(t,e){this._shouldPublishError(t,e)&&this._phasedGuestEvent(Hi.AdError,[t.message])};return t}();!function(t){!function(t){for(var e=Object.keys(zi),n=0;n<e.length;n++){var i=e[n],r=zi[i],o=r.defaultValue,s=r.writable,u=Pr(i);ol(t,"get"+u,o);s&&sl(t,"set"+u)}}(t);!function(t){for(var e=Object.keys(qi).map(function(t){return qi[t]}),n=0;n<e.length;++n){var i=e[n];sl(t,i)}}(t)}(sf.prototype);var uf={visibility:"hidden",position:"absolute",left:0,top:0,width:0,height:0,margin:0,padding:0,border:0},af=/^https?:\/\//,cf=function(t){var e=null;try{e=t.document.baseURI}catch(t){}return null!=e&&af.test(e)?e:null},lf=/\/js\/vpaid-transformer\/[^\/]+\/[a-z0-9-]+\.js#/,ff=document.currentScript||function(){for(var t=document.querySelectorAll("script"),e=t.length-1;e>=0;--e){var n=t[e],i=n.src;if(null!=i&&lf.test(i))return n}return null}(),hf=co,df=lo,pf=fo,vf=co,mf=yo,gf=mo,yf=co,_f=yo,bf=function(t){return t.creatives.toArray().map(function(t){return t.linear}).find(Boolean)},wf=new(function(t){function e(){return t.apply(this,arguments)||this}r(e,t);var n=e.prototype;n._getSupportedMediaTypes=function(){return[Mr.vast].concat(t.prototype._getSupportedMediaTypes.call(this))};n._loadGuest=function(e,n,i,r){return new Promise(function(o,s){return o(e===Mr.vast?this._loadVast(n,i,r):t.prototype._loadGuest.call(this,e,n,i,r))}.bind(this))};n._loadVast=function(e,n,i){return new Promise(function(n,r){var o,s,u,a,c,l,f,h,d,p,v,m;o=this;s=new pc(e.uri);return Promise.resolve(this[gf]._runStage("beforeLoadVasts",{uri:e.uri})).then(function(g){try{s.on("willFetch",function(t){o[gf]._runStage("beforeLoadVast",t)});s.on("didFetch",function(t){o[gf]._runStage("afterLoadVast",t)});return Promise.resolve(s.load()).then(function(o){try{u=o;this[yf].hostInfo._put("vastChain",u);return Promise.resolve(this[gf]._runStage("afterLoadVasts",{chain:u,uri:e.uri})).then(function(e){try{if(0===(a=u[u.length-1].ads.get(0)).creatives.length)return r(new Error("VAST does not contain creative"));if(null==(c=bf(a)))return r(new Error("VAST does not contain linear creative"));for(l=0;l<u.length;l++){f=u[l].ads.get(0);this._addVastTrackingPlugin(f)}null==this[_f]&&(this[_f]=function(t,e){for(var n=c,i=0;null!=n&&i<e.length;){n=n[e[i]];++i}return n}(0,["videoClicks","clickThrough","uri"]));h=c.skipoffset,d=c.mediaFiles,p=c.adParameters;null!=h&&this._addVpaidSkipPlugin(h);v=t.prototype._loadMediaFile.call(this,d,i);m=Hr(v);return n(this._loadGuest(m,v,p,i))}catch(t){return r(t)}}.bind(this),r)}catch(t){return r(t)}}.bind(this),r)}catch(t){return r(t)}}.bind(this),r)}.bind(this))};n._addVastTrackingPlugin=function(t){var e=this._generateTrackingConfig(t);this._createAndAddPlugin("vast-tracking",e)};n._generateTrackingConfig=function(t){var e={},n=t.impressions,i=t.errors;n.length>0&&(e.impression=n.map(function(t){return{uri:t.uri}}));i.length>0&&(e.error=i.map(function(t){return{uri:t}}));var r=bf(t);if(null!=r&&null!=r.trackingEvents){var o=r.trackingEvents;Object.assign.apply(Object,[e].concat(o.types.map(function(t){var e;return(e={})[t]=o.get(t).map(function(t){return{uri:t.uri,offset:t.offset}}),e})))}return e};n._addVpaidSkipPlugin=function(t){this._createAndAddPlugin("skip",{skipOffset:t})};return e}(function(t){function e(){return t.apply(this,arguments)||this}r(e,t);var n=e.prototype;n._getSupportedMediaTypes=function(){return[Mr.video].concat(t.prototype._getSupportedMediaTypes.call(this))};n._loadGuest=function(e,n,i,r){return new Promise(function(o,s){return o(e===Mr.video?this._loadVideo(n,i,r):t.prototype._loadGuest.call(this,e,n,i,r))}.bind(this))};n._loadVideo=function(t,e,n){return new Promise(function(n,i){return n({iframe:null,vpaid:this._createVideoVpaidAd(t.uri),adParameters:e})}.bind(this))};n._createVideoVpaidAd=function(t){var e=this[vf].config,n=e.clickThroughUrl,i=e.skipOffset;null==this[mf]&&(this[mf]=n);var r=this[vf].isFlagEnabled(1);return new Vc(t,{skipOffset:i,noMutedAutoplayFallback:r})};return e}(function(t){function e(){var e;(e=t.call(this)||this)._preprocessHashConfig();return e}r(e,t);var n=e.prototype;n._preprocessHashConfig=function(){var t=function(){if(null!=ff&&null!=ff.src){var t=ff.src,e=t.indexOf("#");if(!(e<0))return t.substr(e+1)}}();this._loadConfig(decodeURIComponent(t))};n._createGuest=function(t){return new Promise(function(e,n){var i,r,o,s,u,a,c;i=function(e){var n=function(t){return null==t||"string"==typeof t?t:t.AdParameters}(t.creativeData);try{return JSON.parse(n)}catch(t){throw new Error('Failed to parse AdParameters "'+n+'"')}}();this._loadConfig(i);if(!this[hf].tracking.configured)return n(new Error("Invalid configuration"));r=this._loadMediaFile(i.mediaFiles,t);o=Hr(r);return Promise.resolve(this._loadGuest(o,r,i.adParameters,t)).then(function(t){try{u=(s=t).iframe,a=s.vpaid,c=s.adParameters;this[hf][pf](a);return e({iframe:u,vpaid:a,adParameters:c})}catch(t){return n(t)}}.bind(this),n)}.bind(this))};n._loadMediaFile=function(t,e){var n=e.width,i=e.height,r=e.desiredBitrate,o=e.envVars.videoSlot,s=this[hf].isFlagEnabled(2),u=function(t,e,n,i,r,o,s){void 0===o&&(o=io);void 0===s&&(s={});var u=function(t,e){for(var n={},i=0;i<t.length;++i){var r=t[i],o=Hr(r);if(e.indexOf(o)>=0){null==n[o]&&(n[o]=[]);n[o].push(r)}}return n}(t,o);s.noImaVpaid&&function(t){if((function(){var t=null;try{t=window.parent.google.ima.VERSION}catch(t){}return"string"==typeof t}()||zr.test(window.location.href))&&null!=t[Mr.vpaid]){var e=t[Mr.vpaid].filter(function(t){return e=t.uri,!qr.test(e);var e});e.length>0?t[Mr.vpaid]=e:Object.keys(t).length>1&&delete t[Mr.vpaid]}}(u);for(var a=Object.keys(u).sort(eo),c=null,l=0;null==c&&l<a.length;){var f=a[l],h=u[f];c=(0,no[f])(h,e,n,i,r);++l}return c}(t,n,i,r,o,this._getSupportedMediaTypes(),{noImaVpaid:s});if(null==u)throw new Error("No valid media files");this[hf].guestInfo._put("mediaFile",u);return u};n._loadConfig=function(t){if(null!=t){this[hf][df](t);this._addPlugins(t.plugins)}};n._addPlugins=function(t){if(!(null==t||this[hf].plugins.length>0)&&0!==t.length)for(var e={},n=0;n<t.length;++n){var i=t[n],r=i.id,o=i.config,s=void 0,u=r.indexOf(".");if(u<0)s=e[r]=o||{};else{var a=r.substr(0,u);s=Object.assign({},e[a],o)}try{this._createAndAddPlugin(r,s)}catch(t){console.warn('Error creating plugin "'+r+'": '+t)}}};n._createAndAddPlugin=function(t,e){var n=Eo.create(t,e,this[hf]);this._addPlugin(n);return n};n._getSupportedMediaTypes=function(){return[Mr.vpaid]};n._loadGuest=function(t,e,n,i){return new Promise(function(r,o){return t!==Mr.vpaid?o(new Error("Unsupported media file")):r(this._loadVpaid(e,n,i))}.bind(this))};n._loadVpaid=function(t,e,n){return new Promise(function(i,r){var o,s,u,a,c;return Promise.resolve((a=t.uri,c=n.envVars.slot,new Promise(function(t,e){var n,i,r,o,s;return Promise.resolve(function(t,e,n,i){return new Promise(function(r,o){void 0===n&&(n=!1);void 0===i&&(i="about:blank");return Promise.resolve(Wi(t.ownerDocument)).then(function(s){try{return r(function(t,e,n,i){return new Promise(function(r,o){var s,u;s=t.ownerDocument.createElement("iframe");u=Ui(s,"load");s.frameBorder="0";s.scrolling="no";uo(s,e,n);s.src=i;t.appendChild(s);return Promise.resolve(Promise.race([u,function(t){return new Promise(function(e,n){function i(){return null==t.contentWindow||null==t.contentWindow.document?Promise.resolve(dr(100)).then(function(t){try{return i}catch(t){return n(t)}},n):[1]}function r(){return e()}var o;return(o=function(t){for(;t;){if(t.then)return void t.then(o,n);try{if(t.pop){if(t.length)return t.pop()?r.call(this):t;t=i}else t=t.call(this)}catch(t){return n(t)}}}.bind(this))(i)})}(s)])).then(function(t){try{return r(s)}catch(t){return o(t)}},o)})}(t,e,n,i))}catch(t){return o(t)}},o)})}(c,uf,!0)).then(function(u){try{i=(n=u).contentWindow;r=i.document;o=function(t){return function(t,e,n){for(var i=0,r=e(t);null==r&&t!==t.parent&&i<10;){r=e(t=t.parent);++i}return r}(t,cf)}(i);r.write("<html><head>"+(null!=o?'<base href="'+function(t){var e=document.createElement("span");e.textContent=t;return e.innerHTML}(o)+'">':"")+"</head><body></body></html>");r.close();return Promise.resolve(tr(a,null,r)).then(function(r){try{s=i.getVPAIDAd();return t({iframe:n,vpaid:s})}catch(t){return e(t)}},e)}catch(t){return e(t)}},e)}))).then(function(t){try{s=(o=t).iframe,u=o.vpaid;return i({iframe:s,vpaid:u,adParameters:e})}catch(t){return r(t)}},r)})};n._getPropertyWithDefault=function(e,n){var i=t.prototype["get"+Pr(e)].call(this);return i===zi[e].defaultValue&&null!=n?n:i};n.getAdDuration=function(){return this._getPropertyWithDefault("adDuration",this[hf].config.duration)};n.getAdWidth=function(){return this._getPropertyWithDefault("adWidth",this[hf].hostInfo.width)};n.getAdHeight=function(){return this._getPropertyWithDefault("adHeight",this[hf].hostInfo.height)};return e}(sf))));window.getVPAIDAd=function(){return wf}}();
