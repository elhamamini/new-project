var zeusBaseUrl=window.zeusBaseUrl,client=window.client,PWBM=window.BENCHMARK;PWBM.end("bolt_bootCall_to_iframeScriptLoaded"),PWBM.start("bolt_iframeScriptLoaded_to_coreJSLoaded"),require(["core-8657ea0249.js?noext"],function(e){PWBM.end("bolt_iframeScriptLoaded_to_coreJSLoaded"),PWBM.start("bolt_coreJSLoaded_to_zeusAvailable"),PWBM.start("bolt_coreJSLoaded_to_renderPlayerCall"),PWBM.start("bolt_coreJSLoaded_to_initCall"),PWBM.start("bolt_coreJSLoaded_to_initAdsCall"),PWBM.start("bolt_coreJSLoaded_to_manifestRequested"),PWBM.start("bolt_coreJSLoaded_to_manifestLoaded"),PWBM.start("bolt_coreJSLoaded_to_manifestParsed"),PWBM.start("bolt_coreJSLoaded_to_controllerStartUp"),PWBM.start("bolt_coreJSLoaded_to_skinRequested"),require(["zeus_constants","zeus_utils","zeus_ad_manager","zeus_controller","zeus_view","playerstate","stapes","ad_session","ad_request","ad_blocked","ss_tracker","kinesis"],function(e,t,i,n,a,o,s,r,d,l,u,c){window.PlayerState=new o,window.Stapes=s,LOG.debug("CLIENT IS MOBILE ",client.isMobile);var h=n,p=!1,g=!1,f=zeusBaseUrl,_=f+"/swf/zeusplayer-9298ef2f7b.swf",v=zeusBaseUrl+"/skins/default-be2ebb9b32.html",E=zeusBaseUrl+"/skins/ad_skin-cd3b376065.html",y=zeusBaseUrl+"/skins/default-702fe5b934.css",m=function(t){f=t,e.Player.SWFROOT=f+"/swf",_=f+"/swf/zeusplayer-9298ef2f7b.swf",v=f+"/skins/default-be2ebb9b32.html",E=f+"/skins/ad_skin-cd3b376065.html",y=f+"/skins/default-702fe5b934.css"},w=function(){return f};try{window.kinesis=new c({playerUUID:window.containerUUID}),window.onerror=function(){window.kinesis.send("bolt_errors",{playerId:window.id,message:arguments[0]},"boltErrors")}}catch(e){LOG.error("[Zeus Iframe] - kinesis failed to load",e)}var b=function(){function e(e){if(void 0===e.disabled)A();else{var t=document.body;if(void 0!==e.disabled.image&&(t.style.backgroundImage="url('"+e.disabled.image+"')"),void 0!==e.disabled.message){var i=document.createElement("div");i.innerHTML=e.disabled.message,i.style.fontSize="24px",i.style.backgroundColor="#ffffff",i.style.border="1px solid #000000",i.style.padding="5px",i.style.position="relative",i.style.top="40%",i.style.marginLeft="auto",i.style.marginRight="auto",i.style.textAlign="center",t.appendChild(i)}}}if(!g)if(PWBM.end("bolt_coreJSLoaded_to_renderPlayerCall"),g=!0,"pregame"===PlayerSettings.playerType&&(PlayerSettings.autoplay=!0),CurrentVideoConfig.settings=t.mergeSettings(CurrentVideoConfig.settings,PlayerSettings),LOG.info("Player settings",PlayerSettings),client.isMobile)e(window.CurrentVideoConfig);else if(null===client.hasFlash){var i=client.browser.ie>0;if("amp"===window.site.hostapp||"pregame"===PlayerSettings.playerType&&i)return client.hasFlash=!1,J("flashdetection",null),void e(window.CurrentVideoConfig);var n=t.getCurrentVideoOwnerId();n&&"1020945"===n.toString()?(PWBM.start("bolt_legacyFlashDetection"),require(["flash_detector_legacy"],function(t){LOG.info("[Zeus Iframe] - Using flash_detector_legacy (Overwolf)"),t.detectFlash(function(t){DebugMode.noFlash&&(t=null),PWBM.end("bolt_legacyFlashDetection"),client.hasFlash=!!t,J("flashdetection",{version:t}),e(window.CurrentVideoConfig)})})):(PWBM.start("bolt_flashDetection"),require(["flash_detector"],function(t){LOG.info("[Zeus Iframe] - Using standard flash_detector"),t.detectFlash(function(t){DebugMode.noFlash&&(t=null),PWBM.end("bolt_flashDetection"),client.hasFlash=!!t,J("flashdetection",{version:t}),e(window.CurrentVideoConfig)})}))}else e(window.CurrentVideoConfig)},A=function(){PWBM.end("bolt_coreJSLoaded_to_initCall");var i=window.PlayerSettings,n="pregame"!==PlayerSettings.playerType?i.skin||v:E;LOG.info("[Bolt3 iframe] skin: ",n);var a=i.css||y,o=i.cssClass;!client.isMobile&&client.hasFlash&&i.forceFlash&&client.supportedVideoTypes.indexOf("m3u8")>-1&&client.supportedVideoTypes.splice(client.supportedVideoTypes.indexOf("m3u8"),1);var s=e.Player.ID_PREFIX+window.id;t.processMediaConfig(window.CurrentVideoConfig.content.media,function(e){PWBM.end("bolt_coreJSLoaded_to_manifestParsed"),void 0!==window.CurrentVideoConfig.content.media.f4m?(LOG.debug("processed media",e),e&&(window.CurrentVideoConfig.content.media=e)):window.CurrentVideoConfig.content.media=e,LOG.debug("media data",window.CurrentVideoConfig.content.media),T(s,n,a,o)},client.supportedVideoTypes)},T=function(e,i,n,a){LOG.info("renderVideo",arguments);var o,s=CurrentVideoConfig.settings.defaultHd,r=document.body;if(!0===s?(window.CurrentVideoConfig.content.media.hd&&(o=t.selectSourceFile(window.CurrentVideoConfig.content.media.hd)),o||(delete window.CurrentVideoConfig.content.media.hd,s=!1,o=t.selectSourceFile(window.CurrentVideoConfig.content.media.sd))):(window.CurrentVideoConfig.content.media.sd&&(o=t.selectSourceFile(window.CurrentVideoConfig.content.media.sd)),o||(delete window.CurrentVideoConfig.content.media.sd,s=!0,o=t.selectSourceFile(window.CurrentVideoConfig.content.media.hd))),PlayerSettings.defaultHd=s,LOG.debug("DEFAULT HD",PlayerSettings.defaultHd,"default src",o),o){if((PlayerSettings.forceFlash||o.indexOf(".mp4")>-1&&client.browser.firefoxWithoutMp4)&&!client.hasFlash)return void C();r.setAttribute("data-default-src",o),"pregame"===PlayerSettings.playerType?N(e,i):(PWBM.start("bolt_loadCSS_to_CSSLoaded"),require(["css!"+n],function(){PWBM.end("bolt_loadCSS_to_CSSLoaded"),LOG.info("CSS Loaded",n),N(e,i,a)}))}else{var d=document.createElement("p");d.style.color="red",d.style.position="absolute",t.css.hasClass(r,"flash_required")?d.textContent='Flash Player 11 or newer is required. Get it <a href="http://get.adobe.com/flashplayer/" title="Adobe" style="color:inherit">here</a>.':d.textContent="Media not supported",r.appendChild(d)}},C=function(){LOG.error("Flash is required but not detected");for(var e=document.body;e.firstChild;)e.removeChild(e.firstChild);throw J(ZeusConstants.Player.Event.FATAL_ERROR,"Flash is required"),new Error("Flash is required")},L=function(e){J("boltAdQueued",e.data)},I=function(e){var t=window.CurrentVideoConfig.content.videoId||0,i="[videoId="+t+"]";k("boltRequestAdSpot "+BoltAdManager.timing,"ad",i),J("boltAdRequestStart",e.data)},S=function(t){window.BoltAdManager=new i(DebugMode.dcOverride,t),window.BoltAdManager.addEventListener(e.Ad.Event.QUEUED,L),window.BoltAdManager.addEventListener(e.Ad.Event.REQUESTED,I),window.BoltAdManager.addEventListener(e.Ad.Event.CLICKED,M),window.AdSession=new r,window.AdSession.on(e.Ad.Event.SESSION_START,M),window.AdSession.on(e.Ad.Event.SESSION_ABORT,M),window.AdSession.on(e.Ad.Event.SESSION_END,M),window.AdSession.on(e.Ad.Event.SESSION_FAIL,M),window.AdSession.on(e.Ad.Event.SESSION_AD_LOADED,M),window.AdRequest=new d,window.AdRequest.on(e.Ad.Event.REQUEST_START,M),window.AdRequest.on(e.Ad.Event.REQUEST_ABORT,M),window.AdRequest.on(e.Ad.Event.REQUEST_SUCCESS,M),window.AdRequest.on(e.Ad.Event.REQUEST_FAIL,M),window.SSTracker=new u},O=function(e,t){return"mobile"===t?PlayerSettings.adTag=PlayerSettings.vmapAdTag||PlayerSettings.mobileAdTag||PlayerSettings.adTag:"flash"===t?PlayerSettings.adTag=PlayerSettings.vmapAdTag||PlayerSettings.desktopAdTag||PlayerSettings.adTag:"desktop"===t&&(PlayerSettings.adTag=PlayerSettings.vmapAdTag||PlayerSettings.html5AdTag||PlayerSettings.adTag),DebugMode.on&&LOG.info("[Zeus Iframe] - Embed "+t+" ad tag",PlayerSettings.adTag),PlayerSettings.vmapAdTag?{vmap:PlayerSettings.adTag}:{preroll:PlayerSettings.adTag,midroll:PlayerSettings.adTag}},P=function(i){PWBM.end("bolt_coreJSLoaded_to_initAdsCall"),LOG.info("[ZeusIframe] initAds");var n="ad_"+window.id,a=t.dom.getUI(e.UI.AD_CONTAINER);if(a&&(window.ZeusConstants.AD_CONTAINER=e.UI.AD_CONTAINER=n,a.setAttribute("id",n)),LOG.info("[ZeusIframe initAds]"),S(n),client.isMobile&&(!window.google||!window.google.ima)){var o=("https:"===document.location.protocol?"https:":"http:")+"//imasdk.googleapis.com/js/sdkloader/ima3.js",s=document.createElement("script");s.onload=function(){LOG.debug("ima script attached"),e.Ad.IMA_ENABLED=!0,require(["googleAdsPlayer"],function(e){window.MobileIMAPlayer=new e(BoltAdManager),LOG.debug("MobileIMAPlayer",window.MobileIMAPlayer)})},s.src=o,LOG.debug(document.getElementsByTagName("head")[0]),LOG.debug(s),document.getElementsByTagName("head")[0].appendChild(s)}if(PlayerSettings.adTag||PlayerSettings.desktopAdTag||PlayerSettings.html5AdTag||PlayerSettings.mobileAdTag||PlayerSettings.vmapAdTag){PlayerSettings.embedAds={servers:[{type:null,tags:{default:{standard:{},html5:{}}}}]};var r=PlayerSettings.embedAds.servers[0];client.isMobile?r.tags.default.html5.mobile=O(0,"mobile"):client.hasFlash?r.tags.default.standard=O(0,"flash"):r.tags.default.html5.desktop=O(0,"desktop"),r.type=function(e){return/g.doubleclick/.test(e)?"generic-google":"generic-vast"}(PlayerSettings.adTag),LOG.info("Embed ad settings",PlayerSettings.embedAds)}window.BoltAdManager.init(function(){LOG.info("[ZeusIframe _initAds] BoltAdManager initialized. Selected server: ",BoltAdManager.selectedServer),i()})},M=function(e){J(e.type,e.data)},D=function(t){function i(){if(window.PlayerView.addEventListener(e.Media.Event.TIME_UPDATE,G),window.PlayerView.addEventListener(e.Media.Event.METADATA,G),window.PlayerView.addEventListener(e.Media.Event.PLAY,G),window.PlayerView.addEventListener(e.Media.Event.PLAYING,G),window.PlayerView.addEventListener(e.Media.Event.STOPPED,G),window.PlayerView.addEventListener(e.Media.Event.PAUSED,G),window.PlayerView.addEventListener(e.Media.Event.RESUME,G),window.PlayerView.addEventListener(e.Media.Event.ENDED,G),window.PlayerView.addEventListener(e.Media.Event.FIRSTQUARTILE,G),window.PlayerView.addEventListener(e.Media.Event.MIDPOINT,G),window.PlayerView.addEventListener(e.Media.Event.THIRDQUARTILE,G),window.PlayerView.addEventListener(e.Media.Event.VOLUME_CHANGED,G),window.PlayerView.addEventListener(e.Ad.Event.CUEPOINT,G),window.PlayerView.addEventListener(e.Ad.Event.FAILED,G),window.PlayerView.addEventListener(e.Media.Event.NOT_FOUND,G),window.PlayerView.addEventListener(e.Player.Event.CONFIG_NOT_FOUND,G),window.PlayerView.addEventListener(e.UI.Event.REQUEST_FULLSCREEN_CHANGE,G),window.PlayerView.addEventListener(e.UI.Event.AGE_GATE_PASSED,G),window.PlayerView.addEventListener(e.UI.Event.AGE_GATE_FAILED,G),window.PlayerView.addEventListener(e.Player.Event.CONFIG_CHANGED,G),window.PlayerView.addEventListener(e.Player.Event.LOADED,G),window.PlayerView.addEventListener(e.Media.Event.PLAY,M),window.PlayerView.addEventListener(e.UI.Event.APPEARANCE_SETTINGS_CHANGED,G),window.PlayerView.addEventListener(e.UI.Event.INITIAL_APPEARANCE_SETTINGS_LOADED,G),!window.fullscreenEnabled&&client.hasTouch&&window.addEventListener("touchmove",function(e){p&&(e.preventDefault(),LOG.debug(window.id,"touchmove prevented"))}),window.CurrentVideoConfig.settings.googleAnalytics,!0){var t=window.CurrentVideoConfig.settings.googleAnalytics;LOG.debug("Publisher GA Tracking Id",t),J("start_google_analytics",{pubTrackingId:t,universal:window.CurrentVideoConfig.settings.googleUniversal})}h.startUp()}return void 0===window.ContentPlayer?(LOG.debug("Unable to create player "+t),null):(window.ContentPlayer.show(!1),window.AdBlockDetected&&(LOG.info("[ZeusIframe] Tracking blocked ad session"),window.AdSession=new r,window.AdSession.on(e.Ad.Event.SESSION_START,M),window.AdSession.start(!1),window.AdBlocked=new l,window.AdBlocked.on(e.Ad.Event.SESSION_BLOCKED,M)),"off"===PlayerSettings.advertising?(LOG.debug("Advertising is disabled via embed setting"),window.postLogMessage("Advertising is disabled via embed setting","warn"),i()):P(i),window.id)},k=function(e,t,i,n){i&&J("analyticsEvent",{action:e,category:t,label:i,value:n})},G=function(i){var n,a,o=i.target,s=zeus_ga.category,r=zeus_ga.label,d=window.CurrentVideoConfig.content.videoId||0,l=t.getCurrentVideoOwnerId(),u="[videoId="+d+"]";switch(o&&"function"==typeof o.isAd&&(n=o.isAd()?r.ad+" "+u:r.content+" "+u),i.type!==e.Media.Event.TIME_UPDATE&&LOG.info("Zeus::handleViewEvents",i.type,"current player",o?o.containerId:null),i.type){case e.Player.Event.LOADED:J("playerLoaded",i.data);break;case e.Media.Event.METADATA:J(Zeus.BOLT_CONTENT_STATE_CHANGED,{state:"ready"});break;case e.Media.Event.PLAY:if(o.isAd()){LOG.info("AD STARTED",window.id),window.postLogMessage("Ad starts"),"pregame"===PlayerSettings.playerType&&J(Zeus.SET_IFRAME_VISIBILITY,{visibilityVal:"visible"});var c,h,p;try{p=BoltAdManager.ad.linear,h=p.tracking.events.click,c=t.substituteMacros(p.clickThrough)}catch(e){}J(Zeus.BOLT_AD_STARTED,{videoId:d,publisherId:l,linear:BoltAdManager.isLinear(),click_url:c,click_trackers:h}),k(Zeus.BOLT_AD_STARTED,s.state,n),BoltAdManager.selectedVMAPBreak&&setTimeout(function(){BoltAdManager.trackVMAPEvent("breakStart")},100)}else J(Zeus.BOLT_CONTENT_STARTED,{videoId:d,publisherId:l,title:window.CurrentVideoConfig.settings.title,duration:window.CurrentVideoConfig.duration}),window.postLogMessage("Content starts"),k(Zeus.BOLT_CONTENT_STARTED,s.state,n);break;case e.Media.Event.PLAYING:window.videoConfigChanged=!1,o.isAd()||J(Zeus.BOLT_CONTENT_STATE_CHANGED,{state:"playing"}),k("playing",s.state,n);break;case e.Media.Event.STOPPED:o.isAd()||(J(Zeus.BOLT_CONTENT_STATE_CHANGED,{state:"stopped"}),k("stopped",s.state,n));break;case e.Media.Event.PAUSED:o.isAd()||(window.postLogMessage("Content is paused"),J(Zeus.BOLT_CONTENT_STATE_CHANGED,{state:"paused"}),k("paused",s.state,n));break;case e.Media.Event.RESUME:LOG.debug("Zeus::RESUME"),o.isAd()||(window.postLogMessage("Content is resumed"),J(Zeus.BOLT_CONTENT_STATE_CHANGED,{state:"resume"}),k("resume",s.state,n));break;case e.Media.Event.ENDED:o.isAd()?(window.postLogMessage("Ad ends"),J(Zeus.BOLT_AD_COMPLETE,{videoId:d,publisherId:l}),k(Zeus.BOLT_AD_COMPLETE,s.state,n)):(window.postLogMessage("Content ends"),J(Zeus.BOLT_CONTENT_COMPLETE,{videoId:d,publisherId:l}),k(Zeus.BOLT_CONTENT_COMPLETE,s.state,n));break;case e.Ad.Event.CUEPOINT:window.postLogMessage("Cuepoint at "+i.data+" seconds is hit"),J(Zeus.BOLT_AD_CUEPOINT,{cuepoint:i.data}),k(Zeus.BOLT_AD_CUEPOINT,s.state,n,i.data);break;case e.Ad.Event.FAILED:window.postLogMessage(i.data.timing+" Ad error","error");var g=window.CurrentVideoConfig.settings.hiddenContainer||window.CurrentVideoConfig.settings.postAdContainer;g&&(J(Zeus.PRE_CONTENT_AD_ERROR,{state:"noAdsAvailable"}),Zeus.dispatchEvent("showHiddenContainer",{hcId:g})),J(Zeus.BOLT_AD_ERROR,{videoId:d,publisherId:l}),k("boltAdRequestFailed",zeus_ga.category.state,"zeus "+i.data.timing);break;case e.Media.Event.FIRSTQUARTILE:a=o.isAd()?"Ad":"Content",window.postLogMessage(a+" reached first quartile"),o.isAd()&&J(Zeus.BOLT_FIRST_QUARTILE,{videoId:d,publisherId:l}),k(Zeus.BOLT_FIRST_QUARTILE,s.state,n);break;case e.Media.Event.MIDPOINT:a=o.isAd()?"Ad":"Content",window.postLogMessage(a+" reached midpoint"),o.isAd()&&J(Zeus.BOLT_MIDPOINT,{videoId:d,publisherId:l}),k(Zeus.BOLT_MIDPOINT,s.state,n);break;case e.Media.Event.THIRDQUARTILE:J(Zeus.BOLT_THIRD_QUARTILE,{videoId:d,publisherId:l}),a=o.isAd()?"Ad":"Content",window.postLogMessage(a+" reached third quartile"),k(Zeus.BOLT_THIRD_QUARTILE,s.state,n);break;case e.Media.Event.NOT_FOUND:J(Zeus.BOLT_CONTENT_ERROR),k("boltContentNotFound",s.state,n);break;case e.Player.Event.CONFIG_NOT_FOUND:J(Zeus.BOLT_CONTENT_ERROR),k("boltConfigNotFound",s.state,n);break;case e.UI.Event.REQUEST_FULLSCREEN_CHANGE:J(i.type,i.data);break;case e.UI.Event.AGE_GATE_PASSED:LOG.info("age gate",i),CurrentVideoConfig.settings.minAge>0&&(LOG.info("age gate",i),J(Zeus.BOLT_AGE_GATE_PASSED,i.data));break;case e.UI.Event.AGE_GATE_FAILED:LOG.info("age gate failed",i),J(Zeus.BOLT_AGE_GATE_FAILED);break;case e.UI.Event.APPEARANCE_SETTINGS_CHANGED:case e.UI.Event.INITIAL_APPEARANCE_SETTINGS_LOADED:J(i.type,i.data);break;case e.Media.Event.VOLUME_CHANGED:LOG.info("volume changed",i);break;case e.Media.Event.TIME_UPDATE:J(Zeus.BOLT_TIME_CHANGED,i.data);break;case e.Player.Event.CONFIG_CHANGED:J("videoConfigChanged",window.CurrentVideoConfig)}},R=function(e){LOG.debug("[Bolt::iframe ] removing ios 10 safari autoplay attributes"),e.removeAttribute("muted"),e.removeAttribute("playsinline"),e.muted=!1},V=function(i,n,o){PWBM.end("bolt_loadSkin_to_skinLoaded");var s=window.PlayerSettings,r=document.body,d=r.getAttribute("data-default-src");if(i){LOG.info("SKIN LOADED"),r.insertAdjacentHTML("beforeend",i);var l=document.body.getElementsByClassName("bolt-poster")[0];if(l){var u=window.CurrentVideoConfig.content.posterLow||window.CurrentVideoConfig.content.thumb||window.CurrentVideoConfig.content.poster,c=window.CurrentVideoConfig.content.posterVersions;c&&(client.browser.chrome&&c.webp?u=c.webp:c.optimized&&(u=c.optimized)),u&&(u=t.normalizeProtocol(u),l.style.backgroundImage="url("+u+")",l.style.backgroundPosition="center center",l.style.backgroundSize="contain",l.style.backgroundRepeat="no-repeat")}var h=document.body.getElementsByClassName("bolt-container")[0];window.Skin=h,client.browser.ie>0?(t.dom.getUI(e.UI.CONTROLBAR).style.visibility="hidden",t.dom.getUI(e.UI.TITLE_BAR).style.visibility="hidden"):h.style.visibility="hidden";var p=t.dom.getUI(e.UI.MAIN_VIDEO_CONTAINER),g=p.firstElementChild;if(g.setAttribute("id",n),client.system.ios?(window.parseInt(client.system.ios,10)<10||!s.autoplay)&&R(g):R(g),d.indexOf(".mp4")>-1&&client.browser.firefoxWithoutMp4&&!client.isMobile&&(s.forceFlash=!0),s.forceFlash)client.hasFlash?(LOG.info("Using Flash for playing video"),require(["zeus_flashshim"],function(e){Zeus.FlashShim=e,window.ContentPlayer=new e(window.id,n,"window.ContentPlayer"),window.ContentPlayer.muted=!0===s.automute,window.ContentPlayer.volume=s.volume,0===window.ContentPlayer.volume&&(window.ContentPlayer.muted=!0),window.ContentPlayer.currentQuality=s.defaultHd?"hd":"sd",window.PlayerView=new a(o);var t=setInterval(function(){if(window.ContentPlayer.playerReady)return LOG.info(window.ContentPlayer.containerId,"is ready"),clearInterval(t),D(n)},100)})):C();else if(client.isMobile){var f=function(e){return Zeus.Video=e,window.ContentPlayer=new e(window.id,n),window.ContentPlayer.muted=!!s.autoplay,window.ContentPlayer.currentQuality=s.defaultHd?"hd":"sd",window.PlayerView=new a(o),D(n)};client.system.ios?require(["ios_video"],f):require(["zeus_mobile_video"],f)}else require(["zeus_video"],function(e){return Zeus.Video=e,window.ContentPlayer=new e(window.id,n),window.ContentPlayer.muted=!0===s.automute,window.ContentPlayer.volume=s.volume,0===window.ContentPlayer.volume&&(window.ContentPlayer.muted=!0),window.ContentPlayer.currentQuality=s.defaultHd?"hd":"sd",window.PlayerView=new a(o),D(n)})}},N=function(e,i,n){PWBM.end("bolt_coreJSLoaded_to_skinRequested"),PWBM.start("bolt_loadSkin_to_skinLoaded"),t.xhr(i,"get",null,function(t){V(t,e,n)},function(){throw new Error("Cannot load skin: "+i)},"text",Date.now())},U=function(){h.play()},B=function(){h.stop()},F=function(){h.replay()},H=function(){h.pause()},x=function(){h.mute(!0)},q=function(){h.mute(!1)},W=function(){h.togglePlayPause()},z=function(e){h.seek(e)},Q=function(e){e>1?e=1:e<0&&(e=0),h.setVolume(e)},j=function(){if(PlayerView.currentPlayer)return PlayerView.currentPlayer.volume},Z=function(){return y},Y=function(){return _},J=function(t,i){var n=!1;window.id,window.containerUUID;try{n=PlayerView.currentPlayer.isAd()}catch(e){}var a={type:"zeus_event",name:t,id:window.id,isAd:n,data:i};switch(a.name!==window.Zeus.BOLT_TIME_CHANGED&&LOG.info("posting message",a),window.parent.postMessage(JSON.stringify(a),"*"),t){case e.Media.Event.PLAY:break;case e.Player.Event.LOADED:window.kinesis.send("bolt_players",i,"boltAds");break;case e.Ad.Event.SESSION_START:LOG.info("[ZeusIframe] tracking",t),window.kinesis.send("bolt_ad_sessions",i,"boltAds"),window.AdBlockDetected&&window.AdSession&&(window.AdSession.off(e.Ad.Event.SESSION_START),delete window.AdSession);break;case e.Ad.Event.SESSION_AD_LOADED:i.resultType="succeeded",window.kinesis.send("bolt_ad_sessions_results",i,"boltAds");break;case e.Ad.Event.SESSION_FAIL:i.resultType="failed",window.kinesis.send("bolt_ad_sessions_results",i,"boltAds");break;case e.Ad.Event.SESSION_ABORT:i.resultType="aborted",window.kinesis.send("bolt_ad_sessions_results",i,"boltAds");break;case e.Ad.Event.SESSION_END:i.resultType="complete",window.kinesis.send("bolt_ad_sessions_results",i,"boltAds");break;case e.Ad.Event.SESSION_BLOCKED:i.resultType="blocked",window.kinesis.send("bolt_ad_sessions_results",i,"boltAds");break;case e.Ad.Event.REQUEST_START:window.kinesis.send("bolt_ad_requests",i,"boltAds");break;case e.Ad.Event.REQUEST_SUCCESS:i.resultType="succeeded",window.kinesis.send("bolt_ad_request_results",i,"boltAds");break;case e.Ad.Event.REQUEST_FAIL:i.resultType="failed",window.kinesis.send("bolt_ad_request_results",i,"boltAds");break;case e.Ad.Event.REQUEST_ABORT:i.resultType="aborted",window.kinesis.send("bolt_ad_request_results",i,"boltAds");break;case Zeus.BOLT_AD_STARTED:i.milestone="started",window.kinesis.send("bolt_ad_playback_milestones",i,"boltAds");break;case Zeus.BOLT_FIRST_QUARTILE:i.milestone="q1",window.kinesis.send("bolt_ad_playback_milestones",i,"boltAds");break;case Zeus.BOLT_MIDPOINT:i.milestone="q2",window.kinesis.send("bolt_ad_playback_milestones",i,"boltAds");break;case Zeus.BOLT_THIRD_QUARTILE:i.milestone="q3",window.kinesis.send("bolt_ad_playback_milestones",i,"boltAds");break;case Zeus.BOLT_AD_COMPLETE:i.milestone="complete",window.kinesis.send("bolt_ad_playback_milestones",i,"boltAds");break;case Zeus.BOLT_AD_ERROR:i.milestone="error",window.kinesis.send("bolt_ad_playback_milestones",i,"boltAds");break;case e.Ad.Event.CLICKED:window.kinesis.send("bolt_ad_clicks",{clickUrl:i},"boltAds")}},K=function(e){h.updateViewabilityMetrics(e)};return window.Zeus={embeds:{},FlashShim:null,Video:null,dispatchEvent:J,setBaseUrl:m,getBaseUrl:w,getCSSUrl:Z,getSWFUrl:Y,renderPlayer:b,playMedia:U,replayMedia:F,pauseMedia:H,togglePlay:W,stopMedia:B,setVolume:Q,getVolume:j,muteMedia:x,unmuteMedia:q,seek:z,dispatchAnalyticsEvent:k,updateViewabilityMetrics:K,BOLT_CONTENT_STARTED:"boltContentStarted",BOLT_CONTENT_COMPLETE:"boltContentComplete",BOLT_CONTENT_ERROR:"boltContentError",BOLT_CONTENT_STATE_CHANGED:"boltContentStateChanged",BOLT_TOGGLE_FULLSCREEN:"boltToggleFullscreen",BOLT_FIRST_QUARTILE:"boltFirstQuartile",BOLT_MIDPOINT:"boltMidPoint",BOLT_THIRD_QUARTILE:"boltThirdQuartile",BOLT_AD_STARTED:"boltAdStarted",BOLT_AD_COMPLETE:"boltAdComplete",BOLT_AD_ERROR:"boltAdError",BOLT_ADLMCODESESSION:"boltAdlmcodesession",BOLT_AD_DURATION_CHANGED:"boltAdDurationChanged",BOLT_AD_TIME_CHANGED:"boltAdTimeChanged",BOLT_AGE_GATE_PASSED:"boltAgeGatePassed",BOLT_AGE_GATE_FAILED:"boltAgeGateFailed",BOLT_VOLUME_CHANGED:"boltVolumeChanged",BOLT_AD_CUEPOINT:"boltAdCuepoint",BOLT_TIME_CHANGED:"boltTimeChanged",SET_IFRAME_VISIBILITY:"boltSetIframeVisibility",PRE_CONTENT_AD_ERROR:"noAdsAvailable"},window.Bolt=window.Zeus,PWBM.end("bolt_coreJSLoaded_to_zeusAvailable"),window.Zeus},function(e){var t=e.requireModules&&e.requireModules[0];console.error("error loading module",t)})}),define("zeus_iframe",function(){}),define("swfobject",[],function(){var e=function(){function t(){if(!H){try{var e=G.getElementsByTagName("body")[0].appendChild(v("span"));e.parentNode.removeChild(e)}catch(e){return}H=!0;for(var t=N.length,i=0;i<t;i++)N[i]()}}function i(e){H?e():N[N.length]=e}function n(e){if(typeof k.addEventListener!=O)k.addEventListener("load",e,!1);else if(typeof G.addEventListener!=O)G.addEventListener("load",e,!1);else if(typeof k.attachEvent!=O)E(k,"onload",e);else if("function"==typeof k.onload){var t=k.onload;k.onload=function(){t(),e()}}else k.onload=e}function a(){V?o():s()}function o(){var e=G.getElementsByTagName("body")[0],t=v(P);t.setAttribute("type",M);var i=e.appendChild(t);if(i){var n=0;!function(){if(typeof i.GetVariable!=O){var a=i.GetVariable("$version");a&&(a=a.split(" ")[1].split(","),W.pv=[parseInt(a[0],10),parseInt(a[1],10),parseInt(a[2],10)])}else if(n<10)return n++,void setTimeout(arguments.callee,10);e.removeChild(t),i=null,s()}()}else s()}function s(){var e=U.length;if(e>0)for(var t=0;t<e;t++){var i=U[t].id,n=U[t].callbackFn,a={success:!1,id:i};if(W.pv[0]>0){var o=_(i);if(o)if(!y(U[t].swfVersion)||W.wk&&W.wk<312)if(U[t].expressInstall&&d()){var s={};s.data=U[t].expressInstall,s.width=o.getAttribute("width")||"0",s.height=o.getAttribute("height")||"0",o.getAttribute("class")&&(s.styleclass=o.getAttribute("class")),o.getAttribute("align")&&(s.align=o.getAttribute("align"));for(var c={},h=o.getElementsByTagName("param"),p=h.length,g=0;g<p;g++)"movie"!=h[g].getAttribute("name").toLowerCase()&&(c[h[g].getAttribute("name")]=h[g].getAttribute("value"));l(s,c,i,n)}else u(o),n&&n(a);else w(i,!0),n&&(a.success=!0,a.ref=r(i),n(a))}else if(w(i,!0),n){var f=r(i);f&&typeof f.SetVariable!=O&&(a.success=!0,a.ref=f),n(a)}}}function r(e){var t=null,i=_(e);if(i&&"OBJECT"==i.nodeName)if(typeof i.SetVariable!=O)t=i;else{var n=i.getElementsByTagName(P)[0];n&&(t=n)}return t}function d(){return!x&&y("6.0.65")&&(W.win||W.mac)&&!(W.wk&&W.wk<312)}function l(e,t,i,n){x=!0,C=n||null,L={success:!1,id:i};var a=_(i);if(a){"OBJECT"==a.nodeName?(A=c(a),T=null):(A=a,T=i),e.id=D,(typeof e.width==O||!/%$/.test(e.width)&&parseInt(e.width,10)<310)&&(e.width="310"),(typeof e.height==O||!/%$/.test(e.height)&&parseInt(e.height,10)<137)&&(e.height="137"),G.title=G.title.slice(0,47)+" - Flash Player Installation";var o=W.ie&&W.win?"ActiveX":"PlugIn",s="MMredirectURL="+k.location.toString().replace(/&/g,"%26")+"&MMplayerType="+o+"&MMdoctitle="+G.title;if(typeof t.flashvars!=O?t.flashvars+="&"+s:t.flashvars=s,W.ie&&W.win&&4!=a.readyState){var r=v("div");i+="SWFObjectNew",r.setAttribute("id",i),a.parentNode.insertBefore(r,a),a.style.display="none",function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)}()}h(e,t,i)}}function u(e){if(W.ie&&W.win&&4!=e.readyState){var t=v("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(c(e),t),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}else e.parentNode.replaceChild(c(e),e)}function c(e){var t=v("div");if(W.win&&W.ie)t.innerHTML=e.innerHTML;else{var i=e.getElementsByTagName(P)[0];if(i){var n=i.childNodes;if(n)for(var a=n.length,o=0;o<a;o++)1==n[o].nodeType&&"PARAM"==n[o].nodeName||8==n[o].nodeType||t.appendChild(n[o].cloneNode(!0))}}return t}function h(e,t,i){var n,a=_(i);if(W.wk&&W.wk<312)return n;if(a)if(typeof e.id==O&&(e.id=i),W.ie&&W.win){var o="";for(var s in e)e[s]!=Object.prototype[s]&&("data"==s.toLowerCase()?t.movie=e[s]:"styleclass"==s.toLowerCase()?o+=' class="'+e[s]+'"':"classid"!=s.toLowerCase()&&(o+=" "+s+'="'+e[s]+'"'));var r="";for(var d in t)t[d]!=Object.prototype[d]&&(r+='<param name="'+d+'" value="'+t[d]+'" />');a.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+o+">"+r+"</object>",B[B.length]=e.id,n=_(e.id)}else{var l=v(P);l.setAttribute("type",M);for(var u in e)e[u]!=Object.prototype[u]&&("styleclass"==u.toLowerCase()?l.setAttribute("class",e[u]):"classid"!=u.toLowerCase()&&l.setAttribute(u,e[u]));for(var c in t)t[c]!=Object.prototype[c]&&"movie"!=c.toLowerCase()&&p(l,c,t[c]);a.parentNode.replaceChild(l,a),n=l}return n}function p(e,t,i){var n=v("param");n.setAttribute("name",t),n.setAttribute("value",i),e.appendChild(n)}function g(e){var t=_(e);t&&"OBJECT"==t.nodeName&&(W.ie&&W.win?(t.style.display="none",function(){4==t.readyState?f(e):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))}function f(e){var t=_(e);if(t){for(var i in t)"function"==typeof t[i]&&(t[i]=null);t.parentNode.removeChild(t)}}function _(e){var t=null;try{t=G.getElementById(e)}catch(e){}return t}function v(e){return G.createElement(e)}function E(e,t,i){e.attachEvent(t,i),F[F.length]=[e,t,i]}function y(e){var t=W.pv,i=e.split(".");return i[0]=parseInt(i[0],10),i[1]=parseInt(i[1],10)||0,i[2]=parseInt(i[2],10)||0,t[0]>i[0]||t[0]==i[0]&&t[1]>i[1]||t[0]==i[0]&&t[1]==i[1]&&t[2]>=i[2]}function m(e,t,i,n){if(!W.ie||!W.mac){var a=G.getElementsByTagName("head")[0];if(a){var o=i&&"string"==typeof i?i:"screen";if(n&&(I=null,S=null),!I||S!=o){var s=v("style");s.setAttribute("type","text/css"),s.setAttribute("media",o),I=a.appendChild(s),W.ie&&W.win&&typeof G.styleSheets!=O&&G.styleSheets.length>0&&(I=G.styleSheets[G.styleSheets.length-1]),S=o}W.ie&&W.win?I&&typeof I.addRule==P&&I.addRule(e,t):I&&typeof G.createTextNode!=O&&I.appendChild(G.createTextNode(e+" {"+t+"}"))}}}function w(e,t){if(q){var i=t?"visible":"hidden";H&&_(e)?_(e).style.visibility=i:m("#"+e,"visibility:"+i)}}function b(e){return null!=/[\\\"<>\.;]/.exec(e)&&typeof encodeURIComponent!=O?encodeURIComponent(e):e}var A,T,C,L,I,S,O="undefined",P="object",M="application/x-shockwave-flash",D="SWFObjectExprInst",k=window,G=document,R=navigator,V=!1,N=[a],U=[],B=[],F=[],H=!1,x=!1,q=!0,W=function(){var e=typeof G.getElementById!=O&&typeof G.getElementsByTagName!=O&&typeof G.createElement!=O,t=R.userAgent.toLowerCase(),i=R.platform.toLowerCase(),n=/win/.test(i?i:t),a=/mac/.test(i?i:t),o=!!/webkit/.test(t)&&parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),s=!1,r=[0,0,0],d=null;if(typeof R.plugins!=O&&typeof R.plugins["Shockwave Flash"]==P)!(d=R.plugins["Shockwave Flash"].description)||typeof R.mimeTypes!=O&&R.mimeTypes[M]&&!R.mimeTypes[M].enabledPlugin||(V=!0,s=!1,d=d.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),r[0]=parseInt(d.replace(/^(.*)\..*$/,"$1"),10),r[1]=parseInt(d.replace(/^.*\.(.*)\s.*$/,"$1"),10),r[2]=/[a-zA-Z]/.test(d)?parseInt(d.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof k.ActiveXObject!=O)try{var l=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");l&&(d=l.GetVariable("$version"))&&(s=!0,d=d.split(" ")[1].split(","),r=[parseInt(d[0],10),parseInt(d[1],10),parseInt(d[2],10)])}catch(e){}return{w3:e,pv:r,wk:o,ie:s,win:n,mac:a}}();(function(){W.w3&&((typeof G.readyState!=O&&"complete"==G.readyState||typeof G.readyState==O&&(G.getElementsByTagName("body")[0]||G.body))&&t(),H||(typeof G.addEventListener!=O&&G.addEventListener("DOMContentLoaded",t,!1),W.ie&&W.win&&(G.attachEvent("onreadystatechange",function(){"complete"==G.readyState&&(G.detachEvent("onreadystatechange",arguments.callee),t())}),k==top&&function(){if(!H){try{G.documentElement.doScroll("left")}catch(e){return void setTimeout(arguments.callee,0)}t()}}()),W.wk&&function(){if(!H)/loaded|complete/.test(G.readyState)?t():setTimeout(arguments.callee,0)}(),n(t)))})(),function(){W.ie&&W.win&&window.attachEvent("onunload",function(){for(var t=F.length,i=0;i<t;i++)F[i][0].detachEvent(F[i][1],F[i][2]);for(var n=B.length,a=0;a<n;a++)g(B[a]);for(var o in W)W[o]=null;W=null;for(var s in e)e[s]=null;e=null})}();return{registerObject:function(e,t,i,n){if(W.w3&&e&&t){var a={};a.id=e,a.swfVersion=t,a.expressInstall=i,a.callbackFn=n,U[U.length]=a,w(e,!1)}else n&&n({success:!1,id:e})},getObjectById:function(e){if(W.w3)return r(e)},embedSWF:function(e,t,n,a,o,s,r,u,c,p){var g={success:!1,id:t};W.w3&&!(W.wk&&W.wk<312)&&e&&t&&n&&a&&o?(w(t,!1),i(function(){n+="",a+="";var i={};if(c&&typeof c===P)for(var f in c)i[f]=c[f];i.data=e,i.width=n,i.height=a;var _={};if(u&&typeof u===P)for(var v in u)_[v]=u[v];if(r&&typeof r===P)for(var E in r)typeof _.flashvars!=O?_.flashvars+="&"+E+"="+r[E]:_.flashvars=E+"="+r[E];if(y(o)){var m=h(i,_,t);i.id==t&&w(t,!0),g.success=!0,g.ref=m}else{if(s&&d())return i.data=s,void l(i,_,t,p);w(t,!0)}p&&p(g)})):p&&p(g)},switchOffAutoHideShow:function(){q=!1},ua:W,getFlashPlayerVersion:function(){return{major:W.pv[0],minor:W.pv[1],release:W.pv[2]}},hasFlashPlayerVersion:y,createSWF:function(e,t,i){return W.w3?h(e,t,i):void 0},showExpressInstall:function(e,t,i,n){W.w3&&d()&&l(e,t,i,n)},removeSWF:function(e){W.w3&&g(e)},createCSS:function(e,t,i,n){W.w3&&m(e,t,i,n)},addDomLoadEvent:i,addLoadEvent:n,getQueryParamValue:function(e){var t=G.location.search||G.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),null==e)return b(t);for(var i=t.split("&"),n=0;n<i.length;n++)if(i[n].substring(0,i[n].indexOf("="))==e)return b(i[n].substring(i[n].indexOf("=")+1))}return""},
expressInstallCallback:function(){if(x){var e=_(D);e&&A&&(e.parentNode.replaceChild(A,e),T&&(w(T,!0),W.ie&&W.win&&(A.style.display="block")),C&&C(L)),x=!1}}}}();return window.swfobject=e,e}),define("zeus_cors_shim",["swfobject"],function(){function e(e){this._swf=null,this._swfId=null,this._requests=[],this._queuedRequests=[],this.ready=!1,this.callback=e,this.init()}var t=window.ZeusConstants;return e.prototype={},e.prototype.init=function(){this._swfId="cors_"+window.id;var e=document.createElement("div");e.style.display="none",e.id=this._swfId+"_",document.body.appendChild(e);var i={onSWFReady:this._getPath()+".onSWFReady"},n={allowscriptaccess:"always",wmode:"transparent"},a={id:this._swfId,name:this._swfId,style:"position:absolute"},o=t.Player.CORS_SHIM;LOG.debug("LOAD CORS SHIM",o),swfobject.embedSWF(o,e.id,"1px","1px",t.FLASHVERSION,null,i,n,a)},e.prototype.onSWFReady=function(){if(!this._swf)for(this.ready=!0,LOG.debug("CORS SWF READY has queued requests?",this._queuedRequests.length),this._swf=document.getElementById(this._swfId),this.callback.call();this._queuedRequests.length>0;){var e=this._queuedRequests.shift();this.send(e.url,e.method,e.data,e.success,e.error,e.dataFormat)}},e.prototype.handleResponse=function(e,t,i){for(var n=0;n<this._requests.length;n++){var a=this._requests[n];if(a.id===parseInt(e)){LOG.info("found a matching request by id "+e+"\n"+a.url),a.success&&(LOG.info("CORS SHIM success",i),a.success.call(null,t)),this._requests.splice(n,1);break}}LOG.info("request success "+i),LOG.info("awaiting responses ",this._requests)},e.prototype.handleError=function(e,t,i){for(var n=0;n<this._requests.length;n++){var a=this._requests[n];if(a.id===parseInt(e)){LOG.error("CORS SHIM response error url",t,"message",i),a.error&&a.error.call(null),this._requests.splice(n,1);break}}LOG.info("response error "+t),LOG.info("pending requests ",this._requests)},e.prototype._getPath=function(){return"window.Cors"},e.prototype.send=function(e,t,i,n,a,o){var s={id:Date.now(),method:t,url:e,data:i,success:n,error:a,dataFormat:o||"text"};this._swf?(this._requests.push(s),"post"===t.toLowerCase()?this._swf.sendPost(s.id,s.url,s.data,this._getPath()+".handleResponse",this._getPath()+".handleError",s.dataFormat):this._swf.sendGet(s.id,s.url,this._getPath()+".handleResponse",this._getPath()+".handleError",s.dataFormat)):this._queuedRequests.push(s)},e}),define("flash_detector",["zeus_utils","zeus_constants","swfobject"],function(e,t){function i(){try{document.body.removeChild(document.getElementById(s)),delete window.flashversion}catch(e){}}var n,a,o=window.FlashDetectorSWF||zeusBaseUrl+"/swf/flashdetector-9570fe9101.swf",s="pwFlashDetector";return window.flashversion=function(t){e.log.info("window flash version",t),a=t,n(t),i()},{detectFlash:function(a){if(e.log.info("DETECTING FLASH"),n=a,client.browser.ie>0)if(client.hasFlash=swfobject.hasFlashPlayerVersion(t.FLASHVERSION),client.hasFlash){var r=swfobject.getFlashPlayerVersion();window.flashversion(r.major+"."+r.minor+"."+r.release)}else n(null),i();else{var d='<object data="'+o+'" type="application/x-shockwave-flash" width="1" height="1" id="'+s+'" name="'+s+'"><param name="movie" value="'+o+'"/><param name="wmode" value="opaque"/><param name="allowScriptAccess" value="always"/></object>';if("undefined"!=typeof MutationObserver){var l=new MutationObserver(function(e){for(var t=0;t<e.length;t++)if(e[t].addedNodes.length&&e[t].addedNodes[0].id===s){var a="Pan"in e[t].addedNodes[0];return l.disconnect(),LOG.info("[Flash Detector] - Flash is "+a),n(a),void i()}return n(!1)});l.observe(document.body,{childList:!0,subtree:!0}),document.body.insertAdjacentHTML("afterBegin",d)}}}}}),define("flash_detector_legacy",["zeus_utils","zeus_constants","swfobject"],function(e,t){function i(){try{document.body.removeChild(document.getElementById(l)),delete window.flashversion}catch(e){}}function n(){o=setTimeout(function(){s||(r=!0,e.log.warn("cannot detect flash within the time limit"),i(),a(null))},2e3)}var a,o,s,r,d=window.FlashDetectorSWF||zeusBaseUrl+"/swf/flashdetector-9570fe9101.swf",l="fd";return window.flashversion=function(t){r||(e.log.info("window flash version",t),s=t,o&&clearTimeout(o),a(t),i())},{detectFlash:function(o){if(e.log.info("DETECTING FLASH"),a=o,client.browser.ie>0)if(client.hasFlash=swfobject.hasFlashPlayerVersion(t.FLASHVERSION),client.hasFlash){var s=swfobject.getFlashPlayerVersion();window.flashversion(s.major+"."+s.minor+"."+s.release)}else a(null),i();else{var r='<object data="'+d+'" type="application/x-shockwave-flash" width="1" height="1" id="'+l+'" name="'+l+'"><param name="movie" value="'+d+'"/><param name="wmode" value="opaque"/><param name="allowScriptAccess" value="always"/></object>';document.body.insertAdjacentHTML("afterBegin",r),n()}}}}),define("content_helper",["zeus_constants","zeus_controller","zeus_utils"],function(e,t,i){var n=i.dom,a=window;return new(Stapes.subclass({constructor:function(){},loadVideoWithQuality:function(e,t,n,a){if(e===ContentPlayer.currentQuality&&!n)return void LOG.debug("seleting the same video");var o=ContentPlayer.getSource(),s=i.getPlayableMediaWithQuality(t,o,e);if(s){var r=s.quality,d=s.source;ContentPlayer.fastSeekEnabled=i.fastSeekEnabled(d),LOG.debug("old src= ",o," new=",d," quality=",r,"autoplay",a,"fast seek enabled",ContentPlayer.fastSeekEnabled),ContentPlayer.autoplay=a,!0===n?(LOG.debug("[Bolt3 ContentHelper] loadVideoQuality","new video",r),ContentPlayer.currentQuality=r,ContentPlayer.setSource(d),a&&"flash"!==ContentPlayer.type&&(ContentPlayer.preload(),PlayerState.delayedWaitingState(500))):(LOG.debug("[Bolt3 ContentHelper] loadVideoQuality","same video",r),ContentPlayer.setQuality(r,d),PlayerState.delayedWaitingState(500)),PlayerSettings.defaultHd="hd"===e,PlayerView.isHD("hd"===e),PlayerView.enableControls(!0)}},loadNewVideo:function(o,s){function r(){if(a.CurrentVideoConfig.settings=i.mergeSettings(a.CurrentVideoConfig.settings,PlayerSettings),i.css.setFeatureClass(),a.CurrentVideoConfig.advertising.on&&a.CurrentVideoConfig.advertising.cuepoints&&(a.CurrentVideoConfig.advertising.cuepoints=i.data.sortNumericArray(a.CurrentVideoConfig.advertising.cuepoints)),a.Playlist)for(var r=0;r<a.Playlist.length;r++){var l=a.Playlist[r];if(l.videoId===o.content.videoId){a.CurrentPlaylistIndex=r,LOG.debug("current playlist index",a.CurrentPlaylistIndex);break}}LOG.info("load new video",o),i.processMediaConfig(o.content.media,function(i){void 0!==o.content.media.f4m?(LOG.debug("processed media",i),i&&(o.content.media=i)):(o.content.media=i,LOG.debug("Transformed media ",o.content.media)),LOG.debug("media data",o.content.media),a.CurrentVideoConfig.settings.minAge>0?(n.hideElement(e.UI.POSTER),PlayerView.addOnceEventListener(e.UI.Event.AGE_GATE_PASSED,function(){s?(LOG.debug("Controller::age gate passed"),t.play(function(){d.loadVideoWithQuality(ContentPlayer.currentQuality,o.content.media,!0,s)})):(PlayerState.state=PlayerState.START,LOG.debug("Controller::age gate passed"),d.loadVideoWithQuality(ContentPlayer.currentQuality,o.content.media,!0,s))}),PlayerView.addOnceEventListener(e.UI.Event.AGE_GATE_FAILED,function(){PlayerState.state=PlayerState.AGE_GATE})):s?(LOG.info("no age-gate","auto play preroll"),t.play(function(){d.loadVideoWithQuality(ContentPlayer.currentQuality,o.content.media,!0,s)})):(PlayerState.state=PlayerState.START,d.loadVideoWithQuality(ContentPlayer.currentQuality,o.content.media,!0,s)),ContentPlayer.onVideoConfigChanged()})}var d=this;a.CurrentVideoConfig=o,BoltAdManager?BoltAdManager.init(r):r()},loadNewVideoConfig:function(e,t){LOG.debug("loading config",e);var n=this;i.loadVideoConfig(e,function(e){window.videoConfigChanged=!0,n.loadNewVideo(e,t)},function(){LOG.error("Failed to load video config",e)})}}))}),define("related_videos_helper",["zeus_constants","zeus_utils","content_helper"],function(e,t,i){var n=window,a=window.PlayerView;return new(Stapes.subclass({constructor:function(){},fetch:function(e){var i=function(){n.RelatedVideos.length>0?(a.setRelatedVideosFetched(!0),a.setRelatedVideos(n.RelatedVideos),LOG.debug("ZeusController:: related videos",n.RelatedVideos)):(o(),LOG.debug("[ZeusController] No related videos found"))},o=function(){a.setRelatedVideosFetched(!0),a.setRelatedVideos(null)};n.CurrentVideoConfig.related?a.isRelatedVideoListFetched()||PlayerState.state!==PlayerState.PLAYING||(LOG.info("[RelatedVideosHelper] fetching related videos"),a.setRelatedVideosFetched(!0),t.xhr(n.CurrentVideoConfig.related,"get",null,function(e){if(e){var t="string"==typeof e?JSON.parse(e):e;n.RelatedVideos=t,i()}else o()},function(){LOG.debug("ZeusController:: failed to load related videos"),o()},"json")):o()},shouldAttemptPrefetch:function(){var t=a.currentPlayer;if(!n.CurrentVideoConfig.related)return!1;var i=!a.isRelatedVideoListFetched()&&0!==t.duration&&t.currentTime>t.duration-e.UI.RELATED_FETCH_TIME_BEFORE_VID_ENDS;return LOG.info("[RelatedVideosHelper shouldAttemptPrefetch] ",i),i},showRelatedVideosMenu:function(){return!!a.isRelatedVideoListFetched()&&(Array.isArray(n.RelatedVideos)&&n.RelatedVideos.length>0?(LOG.debug("ZeusController:: show related videos"),a.showRelatedVideosMenu(),PlayerState.state=PlayerState.RELATED_VIDEOS):(LOG.debug("ZeusController:: no related videos"),PlayerState.state=PlayerState.START),!0)},loadSelectedRelatedVideo:function(e){var t;a.setRelatedVideosFetched(!1),PlayerState.delayedWaitingState(500);for(var o=0;o<n.RelatedVideos.length&&(t=n.RelatedVideos[o],t.videoId!=e);o++);LOG.debug("related video to load",t),i.loadNewVideoConfig(t.config,!0)}}))}),define("playlist_helper",["zeus_controller","content_helper"],function(e,t){var i=window;return new(Stapes.subclass({constructor:function(){},processPlaylist:function(){var e=i.Playlist,t=this;if(i.CurrentPlaylistIndex<e.length-1){var n=e[i.CurrentPlaylistIndex+1],a=!!PlayerSettings.playlistPlaythrough;LOG.debug("process playlist",PlayerSettings,i.CurrentVideoConfig.settings),t.loadPlaylistVideo(n,a)}else PlayerState.state=PlayerState.ENDED},loadPlaylistVideo:function(e,i){PlayerState.delayedWaitingState(500),LOG.debug("[Bolt3 ContentHelper]load playlist video",e,"autoplay",i),PlayerView.enableControls(!1),BoltAdManager&&BoltAdManager.abort(),ContentPlayer.unload(),t.loadNewVideoConfig(e.config,i)}}))}),define("base_playlist",["hammer","zeus_utils","zeus_constants","base_ui_module"],function(e,t,i,n){var i=window.ZeusConstants,a=t.css,o=t.dom;return n.subclass({constructor:function(e){n.prototype.constructor.call(this,e);var t=this;t._container=o.getUI(i.UI.PLAYLIST),t.playlistBtn=o.getUI(i.UI.PLAYLIST_BTN),PlayerView.addEventListener(i.UI.Event.MOUSE_OUT,function(e){e.target!==t.playlistBtn&&e.target!==window.Skin||t.close()})},toggle:function(){var e=this;e.isOpen?e.close():e.open()},init:function(){var t=this;if(t.playlistBtn)if(client.isMobile)if(client.system.android)t.playlistBtn.addEventListener("click",function(e){e.stopPropagation(),e.preventDefault(),t.toggle()});else{var i=new e(t.playlistBtn);i.on("tap",function(e){t.toggle()})}else{t.playlistBtn.addEventListener("mouseenter",function(e){o.isEnabled(t.playlistBtn)&&("8"!==client.system.win&&"8.1"!==client.system.win||!client.browser.chrome&&!client.browser.ie?PlayerView.onMouseOver(t.playlistBtn):t._mouseEnterTimeout=setTimeout(function(){PlayerView.mouseInput.isTouched||PlayerView.onMouseOver(t.playlistBtn)},100))}),t.playlistBtn.addEventListener("mouseleave",function(e){o.isEnabled(t.playlistBtn)&&(e.stopPropagation(),PlayerView.mouseInput.isTouched||PlayerView.onMouseOut(t.playlistBtn))});var i=new e(t.playlistBtn);"8"!==client.system.win&&"8.1"!==client.system.win||!client.browser.chrome&&!client.browser.ie?i.on("tap",function(e){o.isEnabled(t.playlistBtn)&&t.toggle()}):i.on("hammer.input",function(e){o.isEnabled(t.playlistBtn)&&"touch"===e.pointerType&&("touchstart"===e.srcEvent.type||"pointerdown"===e.srcEvent.type?(PlayerView.mouseInput.isTouched=!0,t._mouseEnterTimeout&&(clearTimeout(t._mouseEnterTimeout),t._mouseEnterTimeout=null)):"touchend"!==e.srcEvent.type&&"pointerup"!==e.srcEvent.type||e.isFinal&&t.toggle())})}},_selectElement:function(e){this._selectedItem&&(a.addClass(this._selectedItem,"bolt-hover-highlight"),a.removeClass(this._selectedItem,"bolt-selected")),a.removeClass(e,"bolt-hover-highlight"),a.addClass(e,"bolt-selected"),this._selectedItem=e}})}),define("titlebar",["base_ui_module","zeus_utils","zeus_constants"],function(e,t,i){var n=t.css,a=t.dom;return e.subclass({constructor:function(t){e.prototype.constructor.call(this,t),this._container=a.getUI(i.UI.TITLE_BAR),this.text=null,this._keepOpen=!1},init:function(){PlayerState.on(PlayerState.STATE_CHANGED,function(){switch(PlayerState.state){case PlayerState.START:case PlayerState.PAUSED:case PlayerState.ENDED:this.open();break;case PlayerState.RELATED_VIDEOS:this.close()}},this),this.setTitle(CurrentVideoConfig.settings.title),PlayerView.addEventListener(i.Player.Event.CONFIG_CHANGED,function(){this.setTitle(CurrentVideoConfig.settings.title)},this),PlayerView.addEventListener(i.UI.Event.PLAYER_CHANGED,function(){this.setTitle(CurrentVideoConfig.settings.title),PlayerView.currentPlayer.isAd()?this.close():this.open()},this),PlayerView.addEventListener(i.UI.Event.MOUSE_OUT,function(e){e.target===window.Skin&&this.close()},this),PlayerView.addEventListener(i.UI.Event.MOUSE_OVER,function(e){PlayerView.currentPlayer.isAd()||this.open()},this)},setTitle:function(e){this.text=e;var t=a.getUI(i.UI.TITLE_TEXT);t&&(t.textContent=e)},allowAutoHide:function(e){var t=this;e?n.hasClass(t._container,"_hide-mouseout")&&(n.removeClass(t._container,"_hide-mouseout"),n.addClass(t._container,"bolt-hide-mouseout")):n.hasClass(t._container,"bolt-hide-mouseout")&&(n.removeClass(t._container,"bolt-hide-mouseout"),n.addClass(t._container,"_hide-mouseout")),t._keepOpen=!e,t._keepOpen&&t.open()},updateAppearance:function(){var e=window.PlayerSettings.appearance,t=e.controlbar.corner;"rounded"===t?n.inject(".bolt-top-bar{ border-radius:5px !important; }"):"sharp"===t&&n.inject(".bolt-top-bar { border-radius:0 !important; }");var i=e.controlbar.position;if("floating"===i){var a=100-2*parseFloat("3%")+"%";n.inject(".bolt-top-bar{ top:3% !important;left:3%;right:3%;width:"+a+"; }")}else"docked"===i&&n.inject(".bolt-top-bar{ top:0 !important; left:0;right:0; width:100% }")},close:function(){this._keepOpen||e.prototype.close.call(this)}})}),define("playlist",["zeus_constants","zeus_utils","base_playlist","dragdealer","hammer"],function(e,t,i,n,a){var o=(t.css,t.dom);return i.subclass({constructor:function(e){i.prototype.constructor.call(this,e);var t=this;t._html='<div class="bolt-playlist-header bolt-foreground">Playlist</div><div class="bolt-playlist-mask"><div class="bolt-playlist-menu"></div></div><div class="bolt-playlist-slider dragdealer bolt-block-highlight"><div class="bolt-playlist-handle"></div></div>',t._container.insertAdjacentHTML("beforeend",t._html),t._data=null,t._playlistMenu=t._container.querySelector(".bolt-playlist-menu"),t._mask=t._container.querySelector(".bolt-playlist-mask"),t._slider=t._container.querySelector(".bolt-playlist-slider"),t._handle=t._container.querySelector(".bolt-playlist-handle"),t._header=t._container.querySelector(".bolt-playlist-header"),t._playlistScroller=null,t._selectedItem=null,t._sliderWidth=10,t._initialLayerHeight=0,t._itemRenderers=[],t._autocloseTimeout=null},init:function(t){i.prototype.init.call(this);var n=this;if(t===this._data)return void this._invalidateMenu();if(LOG.info("PLAYLIST DATA",t),this._data=t,this._container){if(t&&t.length>0){for(;this._playlistMenu.children.length>0;)this._playlistMenu.removeChild(this._playlistMenu.firstChild);for(var o=this._onItemClicked.bind(this),s=0;s<t.length;s++){var r,d,l,u=t[s];r=u.title,d=u.videoId,l=u.thumb;var c=document.createElement("div");c.setAttribute("class"," bolt-menu-option bolt-playlist-row bolt-hover-highlight"),c.setAttribute("data-video-id",d),new a(c).on("tap",o);var h=document.createElement("div");h.setAttribute("class","bolt-playlist-thumbnail"),h.style.background="url("+l+")",h.style.backgroundPosition="center center",h.style.backgroundSize="cover";var p=document.createElement("div");p.setAttribute("class","bolt-playlist-title"),p.textContent=r,c.appendChild(h),c.appendChild(p),s===t.length-1&&(c.style.borderBottom="none"),this._playlistMenu.appendChild(c),this._itemRenderers.push(c)}this._initialLayerHeight=this._container.clientHeight,this.invalidate()}PlayerView.addEventListener(e.UI.Event.MOUSE_OVER,function(e){e.target===n.playlistBtn&&n.open()})}},_invalidateMenu:function(){var t=this;if(!PlayerView.currentPlayer.isAd()){var i=t._playlistScroller,a=t._playlistMenu,s=o.getUI(e.UI.CONTROLBAR),r=t._container,d=t._mask,l=t._slider;t._handle;0==t._initialLayerHeight&&(t._initialLayerHeight=r.clientHeight);var u=Math.floor(.8*(window.Skin.offsetHeight-s.offsetHeight));d.style.height=u-t._header.clientHeight+"px";if(t._initialLayerHeight>u){var c=a.offsetHeight-d.offsetHeight;c>0?(l.style.display="inline",l.style.width=t._sliderWidth+"px",l.style.height=d.clientHeight+"px",i?i.reflow():(i=new n(l,{horizontal:!1,vertical:!0,yPrecision:c,handleClass:"bolt-playlist-handle",animationCallback:function(e,t){a.style.marginTop=-t*c+"px"}}),t._playlistScroller=i),d.style.width=r.clientWidth-2*l.clientWidth+"px",d.style.height=u-t._header.clientHeight+"px"):(l.style.display="none",d.style.width="100%",d.style.height="auto")}else l.style.display="none",d.style.width="100%",d.style.height="auto"}},_onItemClicked:function(t){var i=this,n=t.target;for(t.srcEvent.stopPropagation(),t.srcEvent.preventDefault();!n.hasAttribute("data-video-id");)n=n.parentNode;var a=n.getAttribute("data-video-id");i._selectElement(n);var o=function(e,t){for(var i in e){var n=e[i];if(n.videoId==t)return n}}(i._data,a);i._dispatchEvent(e.UI.Event.PLAYLIST_ITEM_SELECTED,o)},invalidate:function(){for(var e=window.CurrentVideoConfig,t=0;t<this._itemRenderers.length;t++){var i=this._itemRenderers[t];if(i.getAttribute("data-video-id")===e.content.videoId){this._selectElement(i);break}}setTimeout(this._invalidateMenu.bind(this),50)},open:function(){var e=this;if(!e.isOpen){if(i.prototype.open.call(this),window.client.isMobile&&(clearTimeout(e._autocloseTimeout),e._autocloseTimeout=setTimeout(function(){e.close()},1e4)),this._playlistBtn){var n=window.Skin,a=t.getScreenPosition(n),o=t.getScreenPosition(this._playlistBtn),s=o.x-a.x,r=(n.clientWidth-this._container.clientWidth)/2;this._container.clientWidth/n.clientWidth>=.5&&(this._container.style.left=r-s+"px")}this.invalidate()}},close:function(){this.isOpen&&(window.client.isMobile&&clearTimeout(this._autocloseTimeout),i.prototype.close.call(this))}})}),define("sharing",["base_ui_module","hammer","zeus_utils","zeus_constants"],function(e,t,i,n){var a=window.PlayerView,o=i.dom;return e.subclass({constructor:function(t){e.prototype.constructor.call(this,t);var i=this;i.isOpen=!1,i._closeBtn=null,i._container=o.getUI(n.UI.SHARING_MENU),i.sharingBtn=o.getUI(n.UI.SHARING_BTN)},toggle:function(){var e=this;e.isOpen?e.close():e.open()},init:function(){LOG.debug("SharingUI init");var e=this;if(e.sharingBtn)if(client.isMobile)if(client.system.android)e.sharingBtn.addEventListener("click",function(t){t.stopPropagation(),t.preventDefault(),e.toggle()});else{var i=new t(e.sharingBtn);i.on("tap",function(t){t.srcEvent.stopPropagation(),t.srcEvent.preventDefault(),e.toggle()})}else{e.sharingBtn.addEventListener("mouseenter",function(t){o.isEnabled(e.sharingBtn)&&("8"!==client.system.win&&"8.1"!==client.system.win||!client.browser.chrome&&!client.browser.ie?a.onMouseOver(e.sharingBtn):e._mouseEnterTimeout=setTimeout(function(){a.mouseInput.isTouched||a.onMouseOver(e.sharingBtn)},100))}),e.sharingBtn.addEventListener("mouseleave",function(t){o.isEnabled(e.sharingBtn)&&(t.stopPropagation(),a.onMouseOut(e.sharingBtn),a.mouseInput.isTouched=!1)});var i=new t(e.sharingBtn);i.on("tap",function(t){o.isEnabled(e.sharingBtn)&&(LOG.info("sharing on tap"),e.toggle())})}e._closeBtn=e._container.querySelector(".bolt-sharing-close"),e._closeBtn.addEventListener("click",e.close.bind(this));var s=o.getUI(n.UI.SHARING_CODE_INPUT),r=o.getUI(n.UI.EMBED_CODE_INPUT);s.value=window.site.href,r.value=window.embedCode;var d=window.site.href,l=e._container.querySelector(".bolt-share-fb");l&&l.addEventListener("click",function(){window.open("http://www.facebook.com/sharer/sharer.php?u="+d)});var u=e._container.querySelector(".bolt-share-twitter");u&&u.addEventListener("click",function(){window.open("http://twitter.com/share?url="+d)});var c=e._container.querySelector(".bolt-share-gplus");c&&c.addEventListener("click",function(){window.open("https://plus.google.com/share?url="+d)});var h=e._container.querySelector(".bolt-share-email");h&&h.addEventListener("click",function(){window.location.href="mailto:?body="+d})},open:function(){this.isOpen||(e.prototype.open.call(this),this._container&&(this._container.style.visibility="visible",o.showElement(this._container),this.isOpen=!0),!1===window.CurrentVideoConfig.settings.showEmbed?o.hideElement(n.UI.EMBED_CODE_CONTAINER):!0===window.CurrentVideoConfig.settings.showEmbed&&o.showElement(n.UI.EMBED_CODE_CONTAINER),this.invalidate())},close:function(){this.isOpen&&e.prototype.close.call(this)}})}),define("agegate",["base_ui_module","zeus_utils","zeus_constants"],function(e,t,i){var n=window.client,a=(window.PlayerView,t.dom),o=t.css;return e.subclass({constructor:function(t){e.prototype.constructor.call(this,t),this._cookieName="playwireViewerBirthDate",this._cookieExpiryHours=24,this._container=a.getUI(i.UI.AGE_GATE_LAYER),this._form=a.getUI(i.UI.AGE_GATE_FORM),this._dayInput=a.getUI(i.UI.AGE_GATE_DAY_INPUT),this._monthInput=a.getUI(i.UI.AGE_GATE_MONTH_INPUT),this._yearInput=a.getUI(i.UI.AGE_GATE_YEAR_INPUT),this._submitBtn=a.getUI(i.UI.AGE_GATE_FORM_SUBMIT),this._failedMessage=a.getUI(i.UI.AGE_GATE_FAILED_MESSAGE),this._inputErrorMessage=a.getUI(i.UI.AGE_GATE_INPUT_ERROR),this._submitBtn.addEventListener("mouseup",this._validateInput.bind(this)),this._submitBtn.addEventListener("keypress",this._validateInput.bind(this)),this._dayInput.addEventListener("keyup",this._handleInputKey.bind(this)),this._monthInput.addEventListener("keyup",this._handleInputKey.bind(this)),this._yearInput.addEventListener("keyup",this._handleInputKey.bind(this)),n.hasTouch&&this._submitBtn.addEventListener("touchend",this._validateInput.bind(this)),this._inputs=[this._dayInput,this._monthInput,this._yearInput,this._submitBtn],this._inputs.sort(function(e,t){return parseInt(e.getAttribute("tabindex"))-parseInt(t.getAttribute("tabindex"))})},init:function(){a.hideElement(this._container)},invalidateCookie:function(){var e=window.bdateInUTCMilliSeconds;LOG.debug("agegate cookie",e);var t=!1;if("number"==typeof e){var i=new Date,n=window.CurrentVideoConfig.settings.minAge,a=new Date(i.getFullYear()-n,i.getMonth(),i.getDate());t=e<=Date.parse(a.toString())}this._gateViewer(t,!0,e)},_validateInput:function(e){if("touchend"===e.type&&e.preventDefault(),"keypress"!==e.type||e.keyCode&&"13"==e.keyCode){var t=parseInt(this._dayInput.value),i=parseInt(this._monthInput.value),n=parseInt(this._yearInput.value),s=new Date,r=!1,d=!1;if(!i||i>12||i<1?(o.addClass(this._monthInput,"bolt-input-error"),r=!0):o.removeClass(this._monthInput,"bolt-input-error"),!n||n>s.getFullYear()?(o.addClass(this._yearInput,"bolt-input-error"),r=!0):o.removeClass(this._yearInput,"bolt-input-error"),(!t||t>31)&&(d=r=!0),!r&&!d&&!d)if(2!=i)d=i<8?i%2==0&&t>30:i%2!=0&&t>30;else if(!(d=t>29)){var l=n%4==0;l&&n%100==0&&(l=n%400==0),d=!l&&t>28}d?(o.addClass(this._dayInput,"bolt-input-error"),r=!0):o.removeClass(this._dayInput,"bolt-input-error"),r?(a.showElement(this._inputErrorMessage),this._inputErrorMessage.textContent="Please enter a valid date."):this._testAgeInputs(i,t,n,s)}},_testAgeInputs:function(e,t,i,n){var a=window.CurrentVideoConfig.settings.minAge||0,o=e-1,s=new Date(n.getFullYear()-a,n.getMonth(),n.getDate()),r=Date.parse(s.toString()),d=new Date(i,o,t),l=Date.parse(d.toString()),u=l<=r;this._gateViewer(u,!1,l)},_gateViewer:function(e,t,n){e?(a.hideElement(this._container),LOG.info("gate viewer",e),this._dispatchEvent(i.UI.Event.AGE_GATE_PASSED,{bd:n,expiry:this._cookieExpiryHours})):(t?(a.showElement(this._form),a.hideElement(this._failedMessage)):(a.hideElement(this._form),a.showElement(this._failedMessage)),this._dispatchEvent(i.UI.Event.AGE_GATE_FAILED),this.open())},_handleInputKey:function(e){var t=this._inputs.indexOf(e.target);if(!n.system.ios&&e.target.value.length===parseInt(e.target.getAttribute("maxlength"))){var i=this._inputs[t+1];i&&i.focus()}},open:function(){e.prototype.open.call(this),this._container&&(this._container.style.visibility="visible"),LOG.debug("agegate open")},close:function(){LOG.debug("agegate close"),e.prototype.close.call(this),this._container&&(this._container.style.visibility="hidden"),this._inputTimer&&(clearInterval(this._inputTimer),this._inputTimer=null)}})}),define("tooltip_manager",["base_ui_module","zeus_utils","zeus_constants"],function(e,t,i){var n,a=null,o=[],s=t.css;return e.subclass({constructor:function(t){e.prototype.constructor.call(this,t),n=this},init:function(){for(var e=this,t=document.getElementsByClassName("bolt-tooltip"),i=0;i<t.length;i++){var n=t[i],a=n.parentNode,s={tooltip:n,target:a,pointer:e._createTooltipPointer(n),isOpen:!1};n.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation()}),a.addEventListener("mouseenter",e.open.bind(a)),a.addEventListener("mouseleave",e.close.bind(a)),o.push(s)}this.invalidate()},_createTooltipPointer:function(e){e.style.display="none",e.style.visibility="visible";var t=document.createElement("div");return t.style.position="absolute",t.style.width=0,t.style.height=0,t.style.borderWidth="5px",t.style.borderStyle="solid",t.style.borderColor=getComputedStyle(e).backgroundColor+" transparent transparent",s.hasClass(e,"bolt-tooltip-bottom")&&(t.style.borderColor="transparent transparent "+getComputedStyle(e).backgroundColor+" transparent"),e.appendChild(t),t},invalidate:function(){for(var e in o){var t=o[e];if(t.isOpen){var i=t.tooltip,n=parseFloat(getComputedStyle(i).width),a=parseFloat(getComputedStyle(i).height),r=t.pointer,d=r.offsetWidth,l=r.offsetHeight,u=t.target,c=u.offsetWidth,h=u.offsetHeight;s.hasClass(i,"bolt-tooltip-bottom")&&(i.style.top=h+"px",r.style.top=-(a-l)+"px"),s.hasClass(i,"bolt-tooltip-right")?(i.style.left="auto",i.style.right=0,r.style.right="auto",r.style.left=n-d/2-c/2+"px"):s.hasClass(i,"bolt-tooltip-left")?(i.style.left=0,i.style.right="auto",r.style.right="auto",r.style.left=(c-d)/2+"px"):(i.style.left=-(n-c)/2+"px",r.style.right="auto",r.style.left=(n-d)/2+"px")}}},open:function(){a&&clearTimeout(a);var e=this,t=null;for(var s in o){var r=o[s];if(r.target===e){t=r.tooltip,a=setTimeout(function(){clearTimeout(a),a=null,t.style.display="block",r.isOpen=!0,n.invalidate(),a=setTimeout(function(){clearTimeout(a),t.style.display="none"},1e3)},i.UI.TOOLTIP_DELAY);break}}},close:function(){a&&(clearTimeout(a),a=null);var e=this,t=null;for(var i in o){var n=o[i];n.target===e&&(t=n.tooltip,t.style.display="none",n.isOpen=!1)}},_getTooltipOfElement:function(e,t){var i=e.querySelector('*[class*="bolt-tooltip"]');return i&&t?i.firstElementChild:i},setLabel:function(e,t){if(e){this._getTooltipOfElement(e,!0).textContent=t}}})}),define("related_videos",["base_ui_module","zeus_utils","zeus_constants"],function(e,t,i){var n=(window.client,t.dom),a=t.css,o=t.log,s=function(e,t){this.id=e.videoId,this.title=e.title,this.thumbnailUrl=e.thumb,this._onClick=t,this.element=this._buildElement(),this.titleElement=this._buildTitleElement(),this.container=this._buildContainer()};return s.prototype._buildContainer=function(){var e=document.createElement("div");return e.setAttribute("class","bolt-related-video-container"),e.setAttribute("style","min-width: 128px;"),e.appendChild(this.element),e.appendChild(this.titleElement),e},s.prototype._buildElement=function(){var e=document.createElement("div");return e.setAttribute("class","bolt-related-video bolt-border-hover-highlight"),e.setAttribute("data-video-id",this.id),e.addEventListener("click",this._onClick),e.style.backgroundImage="url("+this.thumbnailUrl+")",e},s.prototype._buildTitleElement=function(){var e=document.createElement("div");return e.setAttribute("class","bolt-related-title bolt-foreground bolt-custom-font bolt-custom-text-color"),e.setAttribute("data-video-id",this.id),e.textContent=this.title,e},e.subclass({constructor:function(t){e.prototype.constructor.call(this,t),this._layer=n.getUI(i.UI.RELATED_VIDEOS),this._container=n.getUI(i.UI.RELATED_CONTAINER),this._autoplayerPane=n.getUI(i.UI.RELATED_AUTOPLAYER_PANE),this._autoplayer=n.getUI(i.UI.RELATED_AUTOPLAYER),this._firstGridPane=n.getUI(i.UI.RELATED_FIRST_GRID_PANE),this._firstGrid=n.getUI(i.UI.RELATED_FIRST_GRID),this._secondGridPane=n.getUI(i.UI.RELATED_SECOND_GRID_PANE),this._secondGrid=n.getUI(i.UI.RELATED_SECOND_GRID),this._cancelLink=n.getUI(i.UI.RELATED_CANCEL_LINK),this._playNextButton=n.getUI(i.UI.RELATED_PLAY_NEXT_BUTTON),this._videos=[],this._firstGridVideos=[],this._nextVideo=null,this._timeoutId=null,this._autoplayState=null,this._cancelLink.addEventListener("click",this._cancelAutoplay.bind(this))},init:function(e){this._videos=this._buildVideos(e),this._nextVideo=this._videos[0],this._firstGridVideos=[],this._autoplayState="inactive",PlayerState.on(PlayerState.STATE_CHANGED,function(){switch(PlayerState.state){case PlayerState.PLAY:case PlayerState.PLAYING:this._clearAutoplayTimer(),this.close()}},this)},_buildVideos:function(e){var t,i,n,a=[],o=e.length;if(e)for(t=0;t<o;t++)i=new s(e[t],this._onRelatedVideoClicked.bind(this)),a.push(i),n=new Image,n.src=e[t].thumb;return a},_invalidateAutoplayer:function(){var e=this._cancelLink.previousSibling;e&&this._autoplayer.removeChild(e),this._autoplayer.insertBefore(this._nextVideo.container,this._cancelLink)},_activateAutoplay:function(){this._autoplayState="active",this._timeoutId=setTimeout(this._playNext.bind(this),1e4),a.addClass(this._autoplayer,"bolt-related-autoplayer-active"),this._nextVideo.element.appendChild(this._playNextButton),this.invalidate(),o.info("playing next related video in",1e4,"ms")},_cancelAutoplay:function(){this._autoplayState="cancelled",this._clearAutoplayTimer(),a.removeClass(this._autoplayer,"bolt-related-autoplayer-active"),this._nextVideo.element.removeChild(this._playNextButton),this.invalidate(),o.info("cancelled autoplay")},_clearAutoplayTimer:function(){clearTimeout(this._timeoutId),this._timeoutId=null,o.info("cleared autoplay timer")},_updateGrid:function(e,t){for(var i,n,a,o,s=this._gridColumnsCount(e),r=this._gridRowsCount(e),d=s*r,l=this._videos.slice(t,t+d),u=l.length;e.firstChild;)e.removeChild(e.firstChild);for(o=0;o<u;o++)a=l[o],o%s==0&&(i=document.createElement("div"),i.setAttribute("class","row"),e.appendChild(i)),n=document.createElement("div"),n.setAttribute("class","cell"),n.appendChild(a.container),i.appendChild(n);return l},_gridColumnsCount:function(e){for(var t=e.clientWidth,i=.02*t,n=1,a=t-128,o=128+i;a>=o;)n++,a-=o;return Math.min(n,2)},_gridRowsCount:function(e){for(var t=e.clientHeight,i=.02*t,n=1,a=t-72,o=72+i;a>=o;)n++,a-=o;return Math.min(n,3)},_play:function(e){o.info("playing related video",e),this._dispatchEvent(i.UI.Event.RELATED_VIDEO_SELECTED,e),this.close()},_playNext:function(){this._play(this._nextVideo.id)},_onRelatedVideoClicked:function(e){e.stopPropagation();var t=e.currentTarget,i=t.getAttribute("data-video-id");o.info("clicked related video",i),this._clearAutoplayTimer(),this._play(i),PlayerView.setRelatedVideosFetched(!1)},_invalidateAutoplayerPane:function(){"inactive"===this._autoplayState?(n.showElement(this._autoplayerPane),
this._invalidateAutoplayer()):"active"===this._autoplayState||"cancelled"===this._autoplayState&&n.hideElement(this._autoplayerPane)},_invalidateFirstGridPane:function(){"cancelled"!==this._autoplayState?this._canDisplayTwoPanes()?(n.showElement(this._firstGridPane),this._firstGridVideos=this._updateGrid(this._firstGrid,1)):n.hideElement(this._firstGridPane):(n.showElement(this._firstGridPane),this._firstGridVideos=this._updateGrid(this._firstGrid,0))},_invalidateSecondGridPane:function(){"cancelled"===this._autoplayState&&this._canDisplayTwoPanes()?(n.showElement(this._secondGridPane),this._updateGrid(this._secondGrid,this._firstGridVideos.length)):n.hideElement(this._secondGridPane)},_canDisplayTwoPanes:function(){return this._layer.clientWidth>=600&&this._layer.clientHeight>=337},open:function(){this.isOpen||(this.isOpen=!0,o.info("related video::open"),n.showElement(this._layer),PlayerView._prerollScreen&&PlayerView._prerollScreen.close(),this.invalidate(),this._activateAutoplay())},close:function(){this.isOpen&&(this.isOpen=!1,n.hideElement(this._layer))},invalidate:function(){this._canDisplayTwoPanes()?a.removeClass(this._container,"bolt-related-one-pane-layout"):a.addClass(this._container,"bolt-related-one-pane-layout"),this._invalidateAutoplayerPane(),this._invalidateFirstGridPane(),this._invalidateSecondGridPane()}})}),define("subtitles",["hammer","base_ui_module","zeus_utils","zeus_constants"],function(e,t,i,n){var a=i.css,o=i.dom;return t.subclass({constructor:function(e){t.prototype.constructor.call(this,e);var i=this;i._currentCues=[],i._language="None",i._container=o.getUI(n.UI.SUBTITLE_MENU),i._selectedElement=null,i._onItemClicked=function(e){e.preventDefault();var t=e.currentTarget;i._language=t.textContent,i._loadCaption()},i.subtitleBtn=o.getUI(n.UI.SUBTITLE_BTN),PlayerView.addEventListener(n.UI.Event.MOUSE_OVER,function(e){e.target===o.getUI(n.UI.SUBTITLE_BTN)&&i.open()}),PlayerView.addEventListener(n.UI.Event.MOUSE_OUT,function(e){e.target===o.getUI(n.UI.SUBTITLE_BTN)&&i.close()}),PlayerView.on(n.Media.Event.TIME_UPDATE,function(){PlayerView.currentPlayer.isAd()||i.syncCaption()})},toggle:function(){var e=this;e.isOpen?e.close():e.open()},init:function(){var t=this;if(t.subtitleBtn)if(client.isMobile)if(client.system.android)t.subtitleBtn.addEventListener("click",function(e){e.stopPropagation(),e.preventDefault(),t.toggle()});else{var i=new e(t.subtitleBtn);i.on("tap",function(e){e.srcEvent.stopPropagation(),e.srcEvent.preventDefault(),t.toggle()})}else{t.subtitleBtn.addEventListener("mouseenter",function(e){o.isEnabled(this)&&("8"!==client.system.win&&"8.1"!==client.system.win||!client.browser.chrome&&!client.browser.ie?PlayerView.onMouseOver(t.subtitleBtn):t._touchTimeout=setTimeout(function(){PlayerView.mouseInput.isTouched||PlayerView.onMouseOver(t.subtitleBtn)},100))}),t.subtitleBtn.addEventListener("mouseleave",function(e){o.isEnabled(t.subtitleBtn)&&(e.stopPropagation(),PlayerView.mouseInput.isTouched||PlayerView.onMouseOut(t.subtitleBtn))});var i=new e(t.subtitleBtn);"8"!==client.system.win&&"8.1"!==client.system.win||!client.browser.chrome&&!client.browser.ie||i.on("hammer.input",function(e){o.isEnabled(t.subtitleBtn)&&"touch"===e.pointerType&&("touchstart"===e.srcEvent.type||"pointerdown"===e.srcEvent.type?(PlayerView.mouseInput.isTouched=!0,t._touchTimeout&&(clearTimeout(t._touchTimeout),t._touchTimeout=null)):"touchend"!==e.srcEvent.type&&"pointerup"!==e.srcEvent.type||e.isFinal&&t.toggle())})}},_loadCaption:function(){var e=this,t=e._language;if(LOG.debug("LOAD CAPTION",t),"None"===t)return void(e._currentCues=null);var n,a=CurrentVideoConfig.content.captions;for(var o in a){var s=a[o];if(s.language===t){n=s;break}}void 0!==n&&i.xhr(n.href,"get",null,function(i){i&&(LOG.debug("caption loaded",t),"webvtt"==n.type&&require(["webvttparser"],function(t){var n=new t,a=n.parse(i);e._currentCues=a.cues,e.syncCaption()}))},function(){LOG.warn("Failed to load caption",n.href)})},syncCaption:function(){var e=this,t=n.UI,i=window.ContentPlayer,a=i.currentTime;if(e._currentCues&&0!==e._currentCues.length){var s=o.getUI(t.SUBTITLE_TEXT);if(s.textContent="",o.hideElement(t.SUBTITLE_TEXT),e._currentCues.length>0)for(var r=0;r<e._currentCues.length;r++){var d=e._currentCues[r],l=d.startTime,u=d.endTime,c=d.text;if(a>=l&&a<=u){s.textContent=c,o.isVisible(s)||o.showElement(t.SUBTITLE_TEXT);break}}}},init:function(e){for(;this._container.firstChild;)this._container.removeChild(this._container.firstChild);if(Array.isArray(e)){var t=document.createElement("div");t.setAttribute("class","bolt-menu-option bolt-hover-highlight bolt-background-color"),t.textContent="None",this._container.appendChild(t),t.addEventListener("click",this._onItemClicked.bind(this));for(var i=0;i<e.length;i++){var n=e[i],a=document.createElement("div");a.setAttribute("class","bolt-menu-option bolt-hover-highlight bolt-background-color"),a.textContent=n.language,this._container.appendChild(a),a.addEventListener("click",this._onItemClicked.bind(this))}}},invalidate:function(){var e=this;if(PlayerView.currentPlayer.isAd())o.hideElement(e.subtitleBtn),o.hideElement(e._subtitleMenu);else if(e._language)for(var t=0;t<this._container.children.length;t++){var i=this._container.children[t];if(i.textContent.toLowerCase()==e._language.toLowerCase()){this._selectElement(i);break}}else this._selectElement(null)},_selectElement:function(e){this._selectedElement&&a.removeClass(this._selectedElement,"bolt-selected"),e&&a.addClass(e,"bolt-selected"),this._selectedElement=e},open:function(){PlayerView.currentPlayer.isAd()||(t.prototype.open.call(this),this.invalidate())}})}),define("unmute_overlay",["hammer","base_ui_module","zeus_utils","zeus_constants"],function(e,t,i,n){var a=i.dom;return t.subclass({constructor:function(e){t.prototype.constructor.call(this,e);var i=this;i._controlbarTrackerInterval=null,i._container=a.getUI(n.UI.UNMUTE_BTN_OVERLAY),i._isMouseOver=!1,i._onClick=i._onClick.bind(this),i._onMediaUnmuted=i._onMediaUnmuted.bind(i),i.invalidate=i.invalidate.bind(i),i._onViewMouseEvents=i._onViewMouseEvents.bind(this)},_onViewMouseEvents:function(e){var t=this;t.isDisabled||("mouseover"===e.type?t.disabled||(t._stopTimer(),t._isMouseOver=!0,t.invalidate()):(t._isMouseOver=!1,t._startTimer()))},_onClick:function(e){e.preventDefault(),e.stopPropagation(),PlayerView._dispatchEvent(n.UI.Event.TOGGLE_MUTE)},_onMediaUnmuted:function(){var e=this;e.disabled=!0,e._stopTimer(),e._stopControlbarTracker(),e._container.removeEventListener("click",e._onClick),e.player.removeEventListener(n.Media.Event.UNMUTED,e._onMediaUnmuted),PlayerState.off(PlayerState.STATE_CHANGED,e.invalidate),window.Skin.removeEventListener("mouseleave",e._onViewMouseEvents),window.Skin.removeEventListener("mouseover",e._onViewMouseEvents),e.hide()},init:function(){var e=this;e._container.addEventListener("click",e._onClick),e.player.addEventListener(n.Media.Event.UNMUTED,e._onMediaUnmuted),PlayerState.on(PlayerState.STATE_CHANGED,e.invalidate),window.Skin.addEventListener("mouseleave",e._onViewMouseEvents),window.Skin.addEventListener("mouseover",e._onViewMouseEvents),e.invalidate()},_startControlbarTracker:function(){var e=this,t=a.getUI(n.UI.CONTROLBAR);e._controlbarTrackerInterval=setInterval(function(){var i=0;if(window.themeConfig&&"orion"===window.themeConfig.name){var n=t.getBoundingClientRect();i=window.Skin.clientHeight-n.top+20}else{i="visible"===getComputedStyle(t).visibility?t.clientHeight+8:10}e._container.setAttribute("style","bottom:"+i+"px")},50)},_stopControlbarTracker:function(){clearInterval(this._controlbarTrackerInterval)},invalidate:function(){var e=this;e.disabled||(!PlayerView.currentPlayer.isAd()&&PlayerState.state===PlayerState.PLAYING&&PlayerSettings.automute&&window.ContentPlayer.muted?e.show():e.hide())},show:function(){var e=this;i.css.addClass(e._container,"show"),e._startControlbarTracker(),e._isMouseOver||window.client.isMobile||e._startTimer()},hide:function(){var e=this;i.css.removeClass(e._container,"show"),e._stopControlbarTracker(),e._stopTimer()},_startTimer:function(){var e=this;e._hideDelay=setTimeout(function(){e.hide()},PlayerSettings.unmuteOverlayDuration||3e3)},_stopTimer:function(){clearTimeout(this._hideDelay)},open:function(){this.disabled||PlayerView.currentPlayer.isAd()||this.invalidate()},disable:function(){var e=this;e.disabled=!0;try{e.hide(),e._container.parentNode.removeChild(e._container)}catch(e){}}})}),define("zeus_flashshim",["zeus_eventdispatcher","swfobject"],function(e){function t(t,n,a,o){LOG.debug(t,"flash shim instance",a),e.mixin(this),this._container=document.body,this._targetEl=document.getElementById(n),this._pastFirstQuartile=!1,this._pastMidpoint=!1,this._pastThirdQuartile=!1,this._poster=null,this._targetIsVideo=void 0!==this._targetEl.canPlayType,this._source=null,this._originalSource=null,this.fastSeekEnabled=!1,this._swf=null,this._swfId=null,this._isAd=o,this.type="flash",this.containerId=t,this.cors=null,this.videoPlayCount=0,this._isPreloading=!1,this.waiting=!1,this.currentTime=0,this.duration=0,this.paused=!1,this.muted=!1,this.fullscreen=!1,this.videoWidth=NaN,this.videoHeight=NaN,this.metadata=null,this.startTime=0,this.width=this._targetEl.clientWidth,this.height=this._targetEl.clientHeight,this.buffered=0,this.volume=1,this.canplay=!1,this.canplaythrough=!1,this.loop=null,this.stopped=!1,this.ended=!1,this.playing=!1,this.waiting=!1,this.hasStarted=!1,this.sourceChanged=!1,this.qualityChanged=!1,this.seekTime=null,this.adsCuepoints=[],this.previousCuepointIndex=-1,this.currentQuality=o?void 0:CurrentVideoConfig.settings.defaultHd?"hd":"sd",this.relatedVideos=[],this.playerReady=!1,this.autoplay=!1,this._preload=null,this._bufferedTime=0,this._flashEventCallbacks={target:null,onMetadataLoaded:function(e){var t=this.target,n=e.data;t._isPreloading=!1,t.metadata||(LOG.debug(t.containerId,"onMetadataLoaded",e.data),t.metadata=n,t.videoWidth=n.width,t.videoHeight=n.height,t._dispatchEvent(i.Media.Event.METADATA,t.metadata))},onCanPlay:function(e){var t=this.target;t.canplay=!0,t._wait(!1),t._dispatchEvent(i.Player.Event.CANPLAY)},onDurationChanged:function(e){var t=this.target;LOG.debug(t.containerId,"onDurationChanged",t._swf,"autoplay",t.autoplay,"sourcechanged",t.sourceChanged,"quality changed",t.qualityChanged),t.sourceChanged?(t.duration=e.data,LOG.debug(t.containerId,"new source duration",t.duration,"autoplay",t.autoplay),t._dispatchEvent(i.Media.Event.DURATION_CHANGE,t.duration),t.startTime=0,t._dispatchEvent(i.Media.Event.START_TIME_CHANGED,0),t.sourceChanged=!1,t.autoplay&&(LOG.info(t.containerId,"autoplay"),t.play())):t.qualityChanged?(t.qualityChanged=!1,t.fastSeekEnabled?(t.startTime=t.currentTime,t._dispatchEvent(i.Media.Event.START_TIME_CHANGED,t.currentTime),t.autoplay&&t.play()):t.seek(t.currentTime)):t.seekTime?t.fastSeekEnabled&&(t.seekTime=null,t.play()):t.autoplay&&t.play(),t._dispatchEvent(i.Media.Event.LOADED)},onCanPlayThrough:function(e){var t=this.target;t.canplaythrough=!0,t._dispatchEvent(i.Player.Event.CANPLAYTHROUGH)},onEnded:function(e){var t=this.target;t.playing=!1,t.ended=!0,t.stopped=!1,t.hasStarted=!1,t.autoplay=!1,t._dispatchEvent(i.Media.Event.ENDED)},onIOError:function(e){var t=this.target;LOG.error(t.containerId,"IO ERROR "+e.data)},onProgress:function(e){var t=this.target;t._bufferedTime=t.fastSeekEnabled?e.data+t.startTime:e.data,t.buffered=Math.round(100*t._bufferedTime/t.duration),t.buffered>100&&(t.buffered=100),t._dispatchEvent(i.Media.Event.LOAD_PROGRESS,t.buffered)},onPlaying:function(e){this.target._wait(!1)},onTimeUpdate:function(e){var t=this.target;t._wait(!1),e.data!=t.currentTime&&(t.currentTime=e.data+t.startTime,t.currentTime>t.duration&&(t.currentTime=t.duration),t.ended||t.paused||t.stopped||t.playing||(t.playing=!0,t._dispatchEvent(i.Media.Event.PLAYING)),t._dispatchEvent(i.Media.Event.TIME_UPDATE,t.currentTime),t._checkQuartiles())},onVolumeChanged:function(e){LOG.info("onVolumeChanged",e.data),this.target.volume=e.data},onMuted:function(e){LOG.info("onMuted"),this.target.muted=!0},onUnmuted:function(e){LOG.info("onUnmuted"),this.target.muted=!1},onStop:function(e){var t=this.target;t.playing=!1,t.currentTime=0,t._dispatchEvent(i.Media.Event.STOPPED)},onSeekStart:function(e){var t=this.target;LOG.debug(t.containerId,"seek start",e.data),t.fastSeekEnabled?t._wait(!0):e.data>t._bufferedTime&&t._wait(!0),t._dispatchEvent(i.Media.Event.SEEKING)},onSeeked:function(e){var t=this.target,n=e.data;LOG.debug(t.containerId,"seeked",n),t.currentTime=t.fastSeekEnabled?n+t.startTime:n,t._dispatchEvent(i.Media.Event.TIME_UPDATE,t.currentTime),t._dispatchEvent(i.Media.Event.SEEKED),t.seekTime=null,t.play()},onSizeChanged:function(e){var t=this.target;t.width=e.data.width,t.height=e.data.height,t._dispatchEvent(i.Player.Event.SIZE_CHANGED,{width:t.width,height:t.height})},onContentChanged:function(e){var t=this.target;t.seekTime||(LOG.debug(t.containerId,"content changed"),t._dispatchEvent(i.Player.Event.CONTENT_CHANGED),t.autoplay&&t.play())},onSWFRemoved:function(e){var t=this.target;LOG.debug(t.containerId,"swf removed"),t._swf=null,t.playerReady=!1},onClick:function(e){var t=this.target;t._isAd||(t.playing?t.pause():t.hasStarted?t.resume():t.play())},onMediaNotFound:function(e){LOG.info("MEDIA NOT FOUND");var t=this.target;t._dispatchEvent(i.Media.Event.NOT_FOUND),t._wait(!1)}},this._init(),this._createFlashObject(n,a,Skin)}var i=window.ZeusConstants,n=window.client;return t.prototype={},t.prototype._flashEventCallbacks=null,t.prototype.stop=function(){this.stopped||(this.stopped=!0,this.paused=!1,this.playing=!1,this.pause())},t.prototype.play=function(){var e=this;e.paused=!1,e.stopped=!1,e.autoplay=!0,LOG.debug(e.containerId,"play player ready",e.playerReady,"metadata ",e.metadata,"hasStarted",e.hasStarted),e.playerReady&&(null===e.metadata?(LOG.info("metadata is null, preload the video"),e.preload()):(e.hasStarted||(LOG.debug(e.containerId,"PLAY",e.startTime),e._dispatchEvent(i.Media.Event.PLAY),e.hasStarted=!0),e.ended?e.replay():(e._swf.play(),(0==e._bufferedTime||e._bufferedTime<e.startTime)&&e._wait(!0))))},t.prototype.replay=function(){var e=this;LOG.debug(e.containerId,"replay"),e.ended=!1,e.autoplay=!0,e.fastSeekEnabled?(LOG.debug(e.containerId,"pseudostream replay"),LOG.debug(e.containerId,"startTime is ",e.startTime),e.startTime>0?e.seek(0):(e.stop(),e.play())):(e.stop(),e.play())},t.prototype.pause=function(){var e=this;e.paused=!0,e.playing=!1,e._dispatchEvent(i.Media.Event.PAUSED),1==e.playerReady&&(LOG.debug(e.containerId,"pause"),e._swf.pause(),this.stopped&&this._swf.stop())},t.prototype.resume=function(){var e=this;this.playing||(e.hasStarted?(LOG.debug(e.containerId,"RESUME"),!0===e.playerReady&&(e.paused=!1,e._dispatchEvent(i.Media.Event.RESUME),e.stopped?e.play():e._swf.resume())):(e.paused=!1,e.play()))},t.prototype.show=function(e){var t=this;t._swf&&(t._swf.style.height=e?0:"100%")},t.prototype.unload=function(){this.pause()},t.prototype.remove=function(){this._swf&&(this._swf.removeAllEventCallbacks(),swfobject.removeSWF(this._swfId),LOG.debug(this.containerId,"swf removed"),this._dispatchEvent(i.Player.Event.REMOVED)),this._swf=null,this.playerReady=!1,this._flashEventCallbacks=null,this.removeAllListeners()},t.prototype.seek=function(e){function t(){n.startTime=e,n._dispatchEvent(i.Media.Event.START_TIME_CHANGED,n.startTime);var t=-1===n._originalSource.indexOf("?")?"?":"&",a=e>0?n._originalSource+t+"ec_seek="+n.startTime+"&start="+n.startTime:n._source;n._swf.setSource(a),n.preload()}var n=this;LOG.debug(n.containerId,"seek",e,"buffered",n._bufferedTime),n.seekTime=e;var a=e/n.duration*100;n._pastThirdQuartile=a>=75,n._pastMidpoint=a>=50||n._pastThirdQuartile,n._pastFirstQuartile=a>=25||n._pastMidpoint,n._pastFirstQuartile&&LOG.info("[Bolt:player] seeking past first quartile"),n._pastMidpoint&&LOG.info("[Bolt:player] seeking past midpoint"),n._pastThirdQuartile&&LOG.info("[Bolt:player] seeking past third quartile"),!0===n.playerReady?n.fastSeekEnabled?n.startTime>0?t():e<=n._bufferedTime?n._swf.seek(e):t():n._swf.seek(e):LOG.error("CANNOT SEEK BEFORE PLAYER READY")},t.prototype.setVolume=function(e){var t=this;t.volume=e,LOG.info("setVolume",e),t._dispatchEvent(i.Media.Event.VOLUME_CHANGED,t.volume),!0===t.playerReady&&t._swf.setVolume(e)},t.prototype.mute=function(e){var t=this;t.muted=e,1==t.playerReady&&(LOG.debug(t.containerId,"mute",e),t._swf.mute(e)),1==t.muted?t._dispatchEvent(i.Media.Event.MUTED):t._dispatchEvent(i.Media.Event.UNMUTED)},t.prototype.onVideoConfigChanged=function(){var e=this;e.playing=!1,e.ended=!1,e.stopped=!1,e.hasStarted=!1,e.duration=e.currentTime=0,e.buffered=0;var t=window.CurrentVideoConfig;null==e.loop&&void 0===window.Playlist&&(e.loop=t?t.settings.loop:e.loop,LOG.debug(e.containerId,"loop via config",e.loop)),this.adsCuepoints=void 0!==t.advertising.cuepoints?t.advertising.cuepoints.concat():[],LOG.info(this.containerId,"ads cuepoints",this.adsCuepoints),e._dispatchEvent(i.Player.Event.CONFIG_CHANGED)},t.prototype.preload=function(){var e=this;e._isPreloading||(e._wait(!0),e.metadata=null,!0===e.playerReady?(LOG.debug(e.containerId,"FLASH preload"),e._isPreloading=!0,e._swf.preload()):(LOG.debug(e.containerId,"preload player is not ready"),e._preload=!0))},t.prototype.setQuality=function(e,t){var n=this;if(e!=n.currentQuality){if(n._originalSource=t,n.currentQuality=e,n.qualityChanged=!0,n._dispatchEvent(i.Player.Event.QUALITY_CHANGED,n.currentQuality),LOG.debug(n.containerId,"PSEUDO STREAM ENABLED",n.fastSeekEnabled),n.playing=!1,n.fastSeekEnabled){var a=-1===t.indexOf("?")?"?":"&";n._source=n.currentTime>0?t+a+"ec_seek="+n.currentTime+"&start="+n.currentTime:t}else n._source=t;LOG.debug(n.containerId,"setQuality","autoplay",n.autoplay,"_preload",n._preload,"playerReady",n.playerReady,"source",n._source),n.playerReady?(n._swf.setSource(n._source),n.preload()):(n._preload=!0,n._swf.setSource(n._source))}},t.prototype.resetQuartiles=function(){this._pastFirstQuartile=!1,this._pastMidpoint=!1,this._pastThirdQuartile=!1},t.prototype.setSource=function(e){LOG.debug(this.containerId,"setSource",e),this._source=e,this._originalSource=e,this.resetQuartiles(),this.metadata=null,this.playing=!1,this.hasStarted=!1,this.currentTime=0,this.ended=!1,this.sourceChanged=!0,this.fastSeekEnabled=ZeusUtils.fastSeekEnabled(e),LOG.debug(this.containerId,"PSEUDO STREAM ENABLED",this.fastSeekEnabled),n.browser.safari>0&&(this._source=this._source+"?"+Date.now()),this._swf&&(LOG.debug(this.containerId,"set swf source",this._source,"autoplay",this.autoplay),this._swf.setSource(this._source)),this.preload()},t.prototype.getSource=function(){return this._source},t.prototype.hitAdCuepoint=function(e){var t=e;this.previousCuepointIndex=this.currentVideoConfig.advertising.cuepoints.indexOf(t),this._dispatchEvent(i.Ad.Event.CUEPOINT,e)},t.prototype._init=function(){var e=this,t=e.config;if(t&&(e._poster=t.settings.poster,e._poster||t.video.content&&(e._poster=t.video.content.poster),e.loop=t.settings.loop,LOG.debug(e.containerId,"embed loop",e.loop),e.currentQuality=t.settings.defaultHd?"hd":"sd",e.onVideoConfigChanged()),e._targetIsVideo){for(e._source=e._originalSource=e._targetEl.getAttribute("src")||document.body.getAttribute("data-default-src"),e._poster||(e._poster=e._targetEl.poster);e._targetEl.children.length>0;)e._targetEl.removeChild(e._targetEl.firstChild);e._targetEl.src=""}LOG.debug(e.containerId,"POSTER",e._poster),e.sourceChanged=!!e._source,LOG.debug(e.containerId,"PSEUDO STREAM ENABLED",e.fastSeekEnabled)},t.prototype._createFlashObject=function(e,t,n){var a=i.Player.SWFROOT,o=i.Player.FLASH_SHIM,s=this,r={shimInstance:t,src:s._source,swfLocation:a,videoPlayer:i.Player.VIDEO_SHIM,swfPlayer:i.Player.SWF_PLAYER},d={allowscriptaccess:"always",wmode:"opaque",allowfullscreen:!0,quality:"high",bgcolor:"#000000"},l={id:e,name:e};if(void 0!==n){s._targetEl.id="";var u=document.createElement("div");u.style.position="absolute",u.id="dummy",u.style.top=0,u.style.left=0,u.style.bottom=0,u.style.right=0,u.style.width="100%",u.style.height="100%",u.style.backgroundColor="#000",u.style.display="block",s._targetEl.parentNode.appendChild(u),swfobject.embedSWF(o,u.id,"100%","100%","11",null,r,d,l)}else swfobject.embedSWF(o,s._targetEl.id,"100%","100%","11",null,r,d,l);s._swfId=l.id},t.prototype.isAd=function(e){var t=this;if(void 0===e)return t._isAd;t._isAd=e},t.prototype._registerEventCallback=function(e,t){var i=this;i._flashEventCallbacks.target=this,"function"==typeof i._flashEventCallbacks[t]?i._swf.addEventCallback(e,"_flashEventCallbacks."+t):console.warn(t,"is undefined")},t.prototype.swfLoaded=function(){LOG.debug(this.containerId,"swf loaded "),this._swf=swfobject.getObjectById(this._swfId),this._registerEventCallback("IOError","onIOError"),this._source&&this._swf.setSource(this._source)},t.prototype.onPlayerReady=function(){var e=this;LOG.debug(e.containerId,"player component is ready for",e._swf),e.playerReady=!0,e._registerEventCallback("loadedmetadata","onMetadataLoaded"),e._registerEventCallback("durationchange","onDurationChanged"),e._registerEventCallback("progress","onProgress"),e._registerEventCallback("playing","onPlaying"),e._registerEventCallback("canplay","onCanPlay"),e._registerEventCallback("canplaythrough","onCanPlayThrough"),e._registerEventCallback("timeupdate","onTimeUpdate"),e._registerEventCallback("volumechange","onVolumeChanged"),e._registerEventCallback("muted","onMuted"),e._registerEventCallback("unmuted","onUnmuted"),e._registerEventCallback("ended","onEnded"),e._registerEventCallback("stop","onStop"),e._registerEventCallback("seekstart","onSeekStart"),e._registerEventCallback("seeked","onSeeked"),e._registerEventCallback("sizechanged","onSizeChanged"),e._registerEventCallback("contentchanged","onContentChanged"),e._registerEventCallback("removedFromStage","onSWFRemoved"),e._registerEventCallback("click","onClick"),e._registerEventCallback("mediaNotFound","onMediaNotFound"),e._dispatchEvent(i.Player.Event.READY),e._swf.setVolume(e.volume),e._swf.mute(e.muted),(e.autoplay||e._preload)&&e.preload()},t.prototype._checkQuartiles=function(){var e=this;if(e.currentTime&&e.duration){var t=e.currentTime/e.duration*100;!e._pastFirstQuartile&&t>=25?(e._pastFirstQuartile=!0,e._dispatchEvent(i.Media.Event.FIRSTQUARTILE)):!e._pastMidpoint&&t>=50?(e._pastMidpoint=!0,e._dispatchEvent(i.Media.Event.MIDPOINT)):!e._pastThirdQuartile&&t>=75&&(e._pastThirdQuartile=!0,e._dispatchEvent(i.Media.Event.THIRDQUARTILE))}},t.prototype._wait=function(e){var t=this;if(-1==t._source.indexOf("rtmp")){if(e==t.waiting)return;1==e&&t._dispatchEvent(i.Media.Event.WAITING)}t.waiting=e},t.prototype.setFullscreen=function(e){e!==this.fullscreen&&(this.fullscreen=e)},t}),define("zeus_video",["zeus_video_base"],function(e){var t=window.client,i=window.ZeusConstants,n=e.subclass({constructor:function(t,i,n,a){e.prototype.constructor.call(this),this._init(t,i,n,a)}});return n.prototype._init=function(t,i,n){e.prototype._init.call(this,t,i,n),this.video.oncontextmenu=function(){return!1},this._source&&(this.setSource(this._source),LOG.debug("PSEUDO STREAMING ENABLED",this.fastSeekEnabled)),this._enableVideoListeners()},n.prototype.isAd=function(e){if(void 0===e)return this._isAd;this._isAd=e},n.prototype.mute=function(e){LOG.info("mute",e),this.muted=this.video.muted=e,this.muted?this._dispatchEvent(i.Media.Event.MUTED):this._dispatchEvent(i.Media.Event.UNMUTED)},n.prototype.setVolume=function(e){var t=void 0===e?1:parseFloat(e);LOG.info("set volume",t),this.volume=this.video.volume=t},n.prototype._updateVideoSource=function(e){if(LOG.debug(this.containerId,"VIDEO::updateSource",e,"autoplay",this.autoplay,"currentTime",this.currentTime),this._source=e,this.qualityChanged){if(this.fastSeekEnabled&&this.currentTime>0){var t=-1===e.indexOf("?")?"?":"&";this._source=e+t+"ec_seek="+this.currentTime+"&start="+this.currentTime}this.hasStarted&&this.preload()}},n.prototype._onDurationChanged=function(e){var t=this;t.sourceChanged?(t.duration=t.video.duration,t._dispatchEvent(i.Media.Event.DURATION_CHANGE,t.duration),LOG.debug(t.containerId,"duration changed sourcechanged"),t.sourceChanged=!1,t.autoplay&&t.play()):t.qualityChanged?(LOG.debug(t.containerId,"duration changed, quality changed"),t.fastSeekEnabled?(t.startTime=t.currentTime,t._dispatchEvent(i.Media.Event.START_TIME_CHANGED,t.currentTime),t.play()):t.seek(t.currentTime),t.qualityChanged=!1):t.seekTime?(LOG.debug(t.containerId,"duration changed, seektime",t.seekTime),t.fastSeekEnabled&&(t.seekTime=null,t.play())):(LOG.debug(t.containerId,"duration changed, seek time",t.seekTime,"current source",t.video.currentSrc,"autoplay",t.autoplay),t.autoplay&&t.play())},n.prototype.seek=function(n){function a(){o.startTime=n,o._dispatchEvent(i.Media.Event.START_TIME_CHANGED,n);var e=-1===o._originalSource.indexOf("?")?"?":"&";if(t.browser.firefox>0){o._disableVideoListeners();var a=function(){LOG.info("FF video reset"),o.video.removeEventListener("emptied",a),o.video.src=n>0?o._originalSource+e+"ec_seek="+n+"&start="+n:o._source,o._enableVideoListeners(),o.video.load()};o.video.addEventListener("emptied",a),o.video.src=""}else o.video.src=n>0?o._originalSource+e+"ec_seek="+n+"&start="+n:o._source,o.video.load()}LOG.debug("seek",n),e.prototype.seek.call(this,n);var o=this;o.seekTime=n,o.fastSeekEnabled?o.startTime>0?a():n<=o._bufferedTime?(LOG.info("Seeking pseudo-streamed video within the buffer",n,"of",o._bufferedTime),o.video.currentTime=n,o.seekTime=null):a():(o.video.currentTime=n,o.seekTime=null,o.playing||o.play())},n}),define("overlay_ad_cue_finder",["zeus_utils"],function(e){var t=function(){this.nextVideoAdCuepoint=0,this.lastVideoAdCuepoint=0,this.skip=!1,this._lastAttempt=0,this._videoDuration=0};return t.prototype={get lastAttempt(){return this._lastAttempt},set lastAttempt(e){this._lastAttempt=Math.floor(e)},get videoDuration(){return this._videoDuration},get MIN_WIDTH(){return 327},get MIN_HEIGHT(){return 340},get AD_INTERVAL(){return 420},get MIN_DURATION(){return 45}},t.prototype.hasCueForTime=function(e,t,i){var n=this,a=n.videoDuration>this.MIN_DURATION&&t>=this.MIN_WIDTH&&i>=this.MIN_HEIGHT,o=Math.floor(e);return a&&(a=n.videoDuration-o>this.MIN_DURATION)&&(a=o-n.lastVideoAdCuepoint>=15)&&n.lastAttempt>0&&(a=o-n.lastAttempt>=n.AD_INTERVAL),a&&n.nextVideoAdCuepoint>0&&(a=n.nextVideoAdCuepoint-o>=this.MIN_DURATION),a&&(n._lastAttempt=o,LOG.info("last attempt",n.lastAttempt,"current time",o,"next ad cue",n.nextVideoAdCuepoint,"result",a)),a},t.prototype.reset=function(e,t){if(!t)throw new Error("Null video duration");this._videoDuration=t,this.lastVideoAdCuepoint=0,this.nextVideoAdCuepoint=0,e&&(this.skip=!1,this.lastAttempt=0)},t}),define("google_html_overlay",["base_ad_player","zeus_constants","zeus_utils"],function(e,t,i){"use strict";var n=window.site.protocol+"//s0.2mdn.net/instream/html5/ima3.js",a=window.client,o=window.PlayerView,s=window.Skin,r=i.dom,d=(i.css,e.subclass({constructor:function(){e.prototype.constructor.call(this),this._duration=30,this._isLinear=!1,this._isAd=!0,this.type=t.Ad.Type.OVERLAY,this.adDisplayContainer=null,this.adsManager=null},playAd:function(){var e=this;r.hideElement(t.UI.AD_CONTAINER),e.onAdsManagerLoaded=e.onAdsManagerLoaded.bind(e),e.onAdError=e.onAdError.bind(e),e.onAdEvent=e.onAdEvent.bind(e),e.initialWidth=s.clientWidth,e.initialHeight=150,e.container.style.display="block",e.container.style.visibility="hidden",e.container.style.backgroundColor="red",e.container.style.width=e.initialWidth+"px",e.container.style.height=e.initialHeight+"px",e.container.style.top="auto",e.container.style.bottom=r.getUI(t.UI.CONTROLBAR).clientHeight+10+"px";var i=function(){LOG.debug("[bolt3] create ima"),e.setUpIMAContainer(),e.createAdsLoader()};"undefined"==typeof google||void 0===google.ima?function(e,t){if(e&&"string"==typeof e){var i=document.createElement("script");i.onload=function(){t&&t()},i.src=e,LOG.debug(i),document.getElementsByTagName("head")[0].appendChild(i)}}(n,function(){LOG.debug("[bolt3] loaded google for first time!"),t.Ad.IMA_ENABLED=!0,i(),e.requestAd()}):(LOG.debug("[bolt3] google already loaded!"),i(),e.requestAd())}}));return d.prototype.setUpIMAContainer=function(){i.log.debug("[bolt3] setupIMAContainer");var e=this;e.adDisplayContainer=new google.ima.AdDisplayContainer(e.container,BoltAdManager.videoElement),e.adDisplayContainer.initialize()},d.prototype.createAdsLoader=function(){var e=this;if(e.adDisplayContainer)LOG.debug("[bolt3] create ads loader"),e.adsLoader=new google.ima.AdsLoader(e.adDisplayContainer),e.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,e.onAdsManagerLoaded,!1),e.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,e.onAdError,!1);else var t=setInterval(function(){e.adDisplayContainer&&(clearInterval(t),e.createAdsLoader())},100)},d.prototype.requestAd=function(){var e=this,t=encodeURIComponent(window.site.href);if(e.adsLoader){if(e.adsRequest=new google.ima.AdsRequest,e.customTag){var i=e.customTag.concat();i=i.replace("[referrer_url]",t),i=i.replace("[description_url]",t),i=i.replace("[ad_type]","text_image"),i=i.replace("[timestamp]",Math.round(Date.now()/1e3).toString()),e.adsRequest.adTagUrl=i}else e.adsRequest.adTagUrl="http://googleads.g.doubleclick.net/pagead/ads?&max_ad_duration=30000&ad_type=text_image&description_url="+t+"&overlay=0&channel="+BoltAdManager.googleChannel+"&client="+BoltAdManager.googlePublisherId+"&slotname="+BoltAdManager.googleSlotname+"&videoad_start_delay=0";/mpt=playwire/.test(e.adsRequest.adTagUrl)||(e.adsRequest.adTagUrl+="&mpt=playwire"),/mpv=3\.2/.test(e.adsRequest.adTagUrl)||(e.adsRequest.adTagUrl+="&mpv=3.2"),window.postLogMessage("Loading Google Overlay tag: "+e.adsRequest.adTagUrl),LOG.info("Requesting Ad from google "+e.adsRequest.adTagUrl),e.adsRequest.nonLinearAdSlotWidth=e.initialWidth,e.adsRequest.nonLinearAdSlotHeight=e.initialHeight;try{e.adsLoader.requestAds(e.adsRequest)}catch(t){e.onAdError()}}else var n=setInterval(function(){e.adsLoader&&(clearInterval(n),e.requestAd())},100)},d.prototype.onAdsManagerLoaded=function(e){var i=this;LOG.debug("[bolt3] onAdsManagerLoaded");var n=new google.ima.AdsRenderingSettings;n.autoAlign=!0,n.useStyledNonLinearAds=!0,i.adsManager=e.getAdsManager(i.container,n),i.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,i.onAdError),i.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,i.onAdEvent),i.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,i.onAdEvent),i.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,i.onAdEvent),i.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,i.onAdEvent),i.adsManager.addEventListener(google.ima.AdEvent.Type.CLICK,i.onAdEvent),i.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,i.onAdEvent),i.adsManager.addEventListener(google.ima.AdEvent.Type.USER_CLOSE,i.onAdEvent),i.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,i.onAdEvent);try{LOG.debug("[bolt3] init ads manager size",i.initialWidth,i.initialHeight),i.adsManager.init(i.initialWidth,i.initialHeight,google.ima.ViewMode.NORMAL),BoltAdManager.dispatchQueueEvent(function(){i.adsManager.start(),LOG.debug("[bolt3] Starting google ads manager"),BoltAdManager._dispatchEvent(t.Ad.Event.READY)})}catch(e){LOG.info(e),LOG.debug("[bolt3] Google ads manager did not start"),window.postLogMessage("Google ads manager did not start","error"),i.onAdError()}},d.prototype.updateLayout=function(){var e=this;if(e.ad){if(e.googleDiv=e.container.querySelector("div"),e.googleIframe=e.container.querySelector("iframe"),e.ad.getWidth()){var t=e.ad.getWidth();LOG.info("Google overlay ad width",t),LOG.info("Google overlya ad left",(s.clientWidth-t)/2+"px"),e.container.style.width=e.googleDiv.style.width=e.ad.getWidth()+"px",
e.container.style.left=(s.clientWidth-e.ad.getWidth())/2+"px"}e.ad.getHeight()&&(e.container.style.top="auto",e.container.style.height=e.googleDiv.style.height=e.ad.getHeight()+10+"px"),e.googleIframe.style.width="100%",e.googleIframe.style.height="100%"}},d.prototype.remove=function(){var e=this;if(LOG.debug("[bolt3] Ad removed"),!a.isMobile){try{e.adsManager.destroy()}catch(e){}try{e.adDisplayContainer.destroy()}catch(e){}}e._removeInnerDiv(),e.container.style.display="none",e.container.style.visibility="hidden",BoltAdManager._dispatchEvent("removed")},d.prototype.onAdError=function(e){var i,n=this;if(e){var a=e.getError();i=a.getMessage(),LOG.error("[bolt3] AdError",a.getMessage(),a.getVastErrorCode())}try{n.googleDiv.parentNode.removeChild(n.googleDiv)}catch(e){}n._dispatchEvent(t.ERROR,i)},d.prototype.onAdEvent=function(e){var n=this;switch(n.ad=e.getAd(),LOG.debug("[bolt3] ad event",e.type),n._isLinear=n.ad.isLinear(),e.type){case google.ima.AdEvent.Type.LOADED:if(BoltAdManager.adtechGoogleAdCount){var a=BoltAdManager.adtechGoogleAdCount;i.xhr(a,"get",null,function(){LOG.info("ADTECH adcount for Google HTML5 Ad has been fired",a),window.postLogMessage("ADTECH adcount for Google HTML5 ad has been fired "+a,"success")},function(){LOG.error("[bolt3] Failed to fire ADTECH adcount for Google HTML5 Ad ",a),window.postLogMessage("Failed to fire ADTECH adcount for Google HTML5 Ad "+a,"error")})}BoltAdManager._dispatchEvent(t.Media.Event.LOADED),window.postLogMessage("Received an overlay ad from Google"),n.container.style.visibility="visible",o.invalidate(),BoltAdManager._dispatchEvent(t.Media.Event.PLAYING);break;case google.ima.AdEvent.Type.STARTED:n.googleDiv=n.container.querySelector("div"),n.googleIframe=n.container.querySelector("iframe"),n._checkTime=n._checkTime.bind(this),n._isLinear&&(n._intervalId=setInterval(n._checkTime,100)),BoltAdManager._dispatchEvent(t.Media.Event.PLAYING);break;case google.ima.AdEvent.Type.COMPLETE:BoltAdManager._dispatchEvent(t.Ad.Event.COMPLETED),n.end();break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:break;case google.ima.AdEvent.Type.SKIPPED:BoltAdManager._dispatchEvent(t.Ad.Event.SKIPPED),LOG.debug("[bolt3] Ad skipped"),window.postLogMessage("Google HTML5 Overlay skipped"),n.end();break;case google.ima.AdEvent.Type.USER_CLOSE:BoltAdManager._dispatchEvent(t.Ad.Event.CLOSED),LOG.debug("[bolt3] Ad closed"),window.postLogMessage("Google HTML5 Overlay closed"),n.end();break;case google.ima.AdEvent.Type.CLICK:BoltAdManager._dispatchEvent("clicked");break;case google.ima.AdEvent.Type.PAUSED:BoltAdManager._dispatchEvent(t.Media.Event.PAUSED),n._dispatchEvent(t.Media.Event.PAUSED)}},d.prototype.end=function(){var e=this;e._intervalId&&clearInterval(e._intervalId),BoltAdManager._dispatchEvent(t.Media.Event.ENDED);try{e.googleDiv.parentNode.removeChild(e.googleDiv)}catch(e){}},d.prototype._removeInnerDiv=function(){var e=this;e.container&&(e.googleDiv=e.container.querySelector("div"),e.googleDiv&&e.googleDiv.parentNode.removeChild(e.googleDiv)),e.googleDiv=null},d.prototype._checkTime=function(){},d.prototype.getSource=function(){return this.adsRequest?this.adsRequest.adTagUrl:null},d}),define("zeus_vpaidshim",["zeus_eventdispatcher","swfobject","zeus_utils"],function(e){function t(t,n){e.mixin(this);var a,o,s=i.Ad.VPAID_SHIM,r=document.getElementById(t),d=s,l=null,u=!1,c=null,h=!1,p=this;p.isAd=function(){return!0},p.containerId=t,p.type=i.Ad.Type.FLASH_VPAID,p.shimInstance=n,p.duration=0,p.currentTime=0,p.volume=1,p.remainingTime=0,p.startTime=0,p.paused=!1,p.muted=!1,p.fullscreen=!1,p.hasStarted=!1,p.skin=null;var g=null,f=!1,_=!1,v=!1,E=!1,y=!1,m=!0,w=!0,b=!1,A=!1,T=0,C=function(){_||(_=!0,y=!1,T=Date.now(),g.initAd(o,a))},L=function(){clearInterval(c),c=setInterval(function(){p.currentTime<p.duration&&(p.currentTime++,p._dispatchEvent(i.Media.Event.TIME_UPDATE,p.currentTime))},1e3)},I={shim:n,onSWFLoaded:"onPlayerLoaded"},S={allowscriptaccess:"always",wmode:"opaque",allowfullscreen:!0,quality:"high",bgcolor:"#000000"},O={id:i.Ad.PLAYER_ID_PREFIX+t+"_"+Date.now()};O.name=O.id,client.browser.ie||(O.style="visibility:hidden"),p.loadPlayer=function(){if(!A){A=!0,LOG.debug("[bolt3 vpaidshim] loading Flash VPAID player: "+d);var e=document.createElement("div");e.style.width="100%",e.style.height="100%",client.browser.ie&&(e.marginLeft="-10000px"),e.setAttribute("id","dummy"),r.appendChild(e),I.initialWidth=parseFloat(r.getAttribute("data-zeus-initial-width")),I.initialHeight=parseFloat(r.getAttribute("data-zeus-initial-height")),swfobject.embedSWF(d,"dummy","100%","100%","11",null,I,S,O)}},p.onPlayerLoaded=function(){LOG.info("[bolt3 VPAIDShim] Flash vpaid player loaded"),A=!1,g=swfobject.getObjectById(O.id),M("vastLoaded","onVastLoaded"),M("vpaidLoaded","onVPaidTagLoaded"),M("vpaidUnitLoaded","onVpaidSwfLoaded"),M("AdLoaded","onAdLoaded"),M("AdDurationChange","onAdDurationChange"),M("AdError","onAdError"),M("AdStarted","onAdStarted"),M("AdStopped","onAdStopped"),M("AdPaused","onAdPaused"),M("AdResume","onAdResume"),M("AdPlaying","onAdPlaying"),M("AdSkipped","onAdSkipped"),M("AdVolumeChange","onAdVolumeChange"),M("AdRemainingTimeChange","onAdRemainingTimeChange"),M("AdVideoStart","onAdVideoStart"),M("AdVideoFirstQuartile","onAdVideoFirstQuartile"),M("AdVideoMidpoint","onAdVideoMidpoint"),M("AdVideoThirdQuartile","onAdVideoThirdQuartile"),M("AdVideoComplete","onAdVideoComplete"),M("AdExpandedChange","onAdExpandedChange"),M("AdUserClose","onAdUserClose"),M("AdUserMinimize","onAdUserMinimize"),M("AdInteraction","onAdInteraction"),M("AdClickThru","onAdClicked"),M("AdLinearChange","onAdLinearChange"),M("AdSkippableStateChange","onAdSkippableStateChange"),null!=l?p.loadVPAIDSwf(l):null!=p.vastTag&&p.loadVastTag(p.vastTag)},p.loadVastTag=function(e){LOG.debug("[bolt3] loading vast tag",e),f=!1,h=!1,u=!1,p.vastTag=e,null!=g?g.loadTag(e):p.loadPlayer()},p.onVastLoaded=function(e){p._dispatchEvent(e.type)},p.onVPaidTagLoaded=function(e){LOG.debug("[bolt3] vpaid tag loaded",e.data),v=!1,l=e.data.adLoader,a=e.data.adParams,p._dispatchEvent(e.type),p.loadVPAIDSwf(l)},p.setAdData=function(e){p.setParameters(e.linear.parameters),p.setId(e.vast.id),e.hasOwnProperty("duration")&&(p.duration=function(e){if(null===e||"string"!=typeof e||-1===e.indexOf(":"))return e;for(var t=e.split(":"),i=0,n=1;t.length>0;)i+=n*parseInt(t.pop(),10),n*=60;return i}(e.duration))},p.setParameters=function(e){a=e},p.setId=function(e){LOG.debug("[bolt3] VPAID says it is from",e),window.postLogMessage("VPAID says it is from "+e),o=e},p.setSource=function(e){l=e},p.getSource=function(){return l},p.loadVPAIDSwf=function(e){if(h=!1,u=!1,l=e,null!=g){if(E)return;LOG.debug("[bolt3] Loading VPAID Flash file"),window.postLogMessage("Loading VPAID Flash file "+l),E=!0,g.loadVPAID(l)}else p.loadPlayer()},p.onVpaidSwfLoaded=function(e){LOG.debug("[bolt3] VPAID Flash loaded.",l),window.postLogMessage("VPAID Flash file loaded"),E=!1,u=!0,p._dispatchEvent(e.type),LOG.debug("[bolt3] Autoplay",f?"on":"off"),f&&C()},p.remove=function(){g&&(swfobject.removeSWF(O.id),LOG.debug("[bolt3] vpaid swf removed")),g=null,f=!1,E=!1,_=!1,v=!1,h=!1,u=!1,p._dispatchEvent(i.Player.Event.REMOVED)},p.play=function(){if(!y){if(f=!0,null==l)return void LOG.error("[bolt3] vpaidswf url has not been set");null!=g?u?h?g.startAd():(LOG.debug("[bolt3] Ad has not been loaded"),window.postLogMessage("Ad has not been loaded"),C()):(LOG.debug("[bolt3] vpaid swf has not been loaded"),window.postLogMessage("vpaid swf has not been loaded"),p.loadVPAIDSwf(l)):p.loadPlayer()}},p.pause=function(){LOG.debug("pause call is omitted")},p.resume=function(){},p.setVolume=function(e){p.volume=e,g&&h&&g.setAdVolume(e)},p.mute=function(e){p.muted=e,e?p._dispatchEvent(i.Media.Event.MUTED):p._dispatchEvent(i.Media.Event.UNMUTED),g&&h&&g.muteAd(e)},p.skip=function(){g&&h&&g.skipAd()},p.stop=function(){g&&h&&g.stopAd()},p.onAdLoaded=function(e){LOG.debug("[bolt3] VPAID has a third-party ad loader. It has been loaded."),window.postLogMessage("VPAID has a third-party ad loader. It has been loaded."),_=!1,h=!0,f&&BoltAdManager.dispatchQueueEvent(function(){LOG.debug("[bolt3] Ad started"),window.postLogMessage("Starting VPAID"),g.startAd()})},p.onAdDurationChange=function(e){var t=parseInt(e.data);t>0&&(p.duration=t),LOG.debug("[bolt3] Ad duration",p.duration),p._dispatchEvent(i.Media.Event.METADATA),p._dispatchEvent(i.Media.Event.DURATION_CHANGE,p.duration)},p.onAdError=function(e){LOG.error("[bolt3] Ad Error",e.data);var t="Error";if(e.data.message&&"string"==typeof e.data.message&&(t=e.data.message),g){swfobject.removeSWF(O.id);try{g.parentNode.removeChild(g)}catch(e){}}p._dispatchEvent(i.ERROR,t)};var P=0;p.onAdStarted=function(e){g.style.visibility="visible",client.browser.ie&&(g.style.marginLeft=0),y=!0,p.hasStarted=!0,P=Date.now(),p._dispatchEvent(i.Media.Event.LOADED),p._dispatchEvent(i.Media.Event.PLAY),p.onAdPlaying()},p.onAdPlaying=function(e){p.playing||(LOG.debug("[bolt3] ad playing"),p.playing=!0,L()),p._dispatchEvent(i.Media.Event.PLAYING)},p.onAdPaused=function(e){LOG.info("[bolt3] ad paused"),p.paused=!0,clearInterval(c),p._dispatchEvent(i.Media.Event.PAUSED)},p.onAdSkipped=function(e){LOG.info("[bolt3] ad skipped"),p._dispatchEvent(i.Ad.Event.SKIPPED)},p.onAdResume=function(e){LOG.debug("[bolt3] ad resume"),L(),p._dispatchEvent(i.Media.Event.RESUME)},p.onAdStopped=function(e){LOG.info("[bolt3] Ad stopped (ended)"),p.complete()},p.onAdVolumeChange=function(e){p.muted||p._dispatchEvent(i.Media.Event.VOLUME_CHANGED,e.data)},p.onAdRemainingTimeChange=function(e){clearInterval(c),p.remainingTime=e.data,p.duration>0&&(p.currentTime=p.duration-p.remainingTime),p._dispatchEvent(i.Ad.Event.REMAINING_TIME_CHANGED,p.remainingTime),p._dispatchEvent(i.Media.Event.TIME_UPDATE,p.currentTime)},p.onAdVideoStart=function(e){L()},p.onAdVideoFirstQuartile=function(e){LOG.debug("[bolt3] Reached ad firstQuartile"),p._dispatchEvent(i.Media.Event.FIRSTQUARTILE)},p.onAdVideoMidpoint=function(e){LOG.debug("[bolt3] Reached ad midpoint"),p._dispatchEvent(i.Media.Event.MIDPOINT)},p.onAdVideoThirdQuartile=function(e){LOG.debug("[bolt3] Reached ad third quartile"),p._dispatchEvent(i.Media.Event.THIRDQUARTILE)},p.onAdVideoComplete=function(e){LOG.debug("[bolt3] Reached ad completion")},p.onAdClicked=function(e){LOG.debug("[bolt3] ad clicked"),p._dispatchEvent(i.Ad.Event.CLICKED),p.paused&&p.resume()},p.onAdUserClose=function(e){LOG.info("[bolt3] ad user close")},p.onAdUserMinimize=function(e){LOG.info("[bolt3] ad user minimize")},p.onAdExpandedChange=function(e){w=e.data,LOG.info("[bolt3] ad expanded changed, expanded:",w),"Adotube"===o&&!1===w&&!1===m&&p.complete()},p.onAdInteraction=function(e){LOG.info("[bolt3] ad interaction",e)},p.onAdLinearChange=function(e){m=e.data,LOG.info(o,"ad linear change, linear:",m)},p.onAdSkippableStateChange=function(e){b=e.data,LOG.info("[bolt3] ad skippable state changed, skippable:",b)},p.setFullscreen=function(e){e!==p.fullscreen&&(LOG.info("[bolt3] fullscreen",e),p.fullscreen=e)},p.complete=function(){clearInterval(c),p._dispatchEvent(i.Media.Event.ENDED)};var M=function(e,t){"function"==typeof p[t]&&g.addEventCallback(e,t)};return p.loadPlayer(),p}var i=window.ZeusConstants;return t});