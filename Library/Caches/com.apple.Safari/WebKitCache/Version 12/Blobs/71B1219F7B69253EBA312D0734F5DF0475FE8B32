!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=55)}([function(e,t,n){"use strict";function r(e,t,n){return null!=e?e:null!=t?t:n}function i(e,t,n){return void 0!==e?e:void 0!==t?t:n}function o(e,t){return null!=e?t(e):e}function a(e,t){if(e instanceof Array)return e.length>0;if(e instanceof Object){var n=!1;return c(function(){return n=!0},e),n}if("string"==typeof e){if(!isNaN(e))return!!+e;if(t)switch(e.toLowerCase()){case"true":return!0;case"false":return!1;default:return null}}return!!e}n.d(t,"i",function(){return r}),n.d(t,"h",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return d}),n.d(t,"a",function(){return u}),n.d(t,"g",function(){return c}),n.d(t,"e",function(){return h}),n.d(t,"d",function(){return A}),n.d(t,"f",function(){return f}),n.d(t,"j",function(){return m}),n.d(t,"k",function(){return v});var s=function(e){return null!=e},l=function(e){return void 0!==e},d=function(e){return a(e)};function u(e,t,n){return!(t in n)}function c(e,t){if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(t[n],n,t)}function p(e,t,n,r){if(null==n||null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(n),o=0,a=r instanceof Array?r:[r];o<a.length;o++){c(function(n,r){(!0===t||t(n,r,i))&&(!0===e||e.indexOf(r)>=0)&&(i[r]=n)},a[o])}return i}function h(e,t,n){return p(!0,e,t,n)}function A(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return p(!0,!0,e,t)}function f(e,t){return null==e||""===e?i(t,l(e)?null:void 0):r(a(e,!0),t,null)}function m(e,t){return null==e||""===e?i(t,l(e)?null:void 0):isNaN(e)?i(t,null):+e}function v(e,t){return null==e?i(t,e):""+e}},function(e,t,n){(function(t,n){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.4+314e4831
 */
!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e){return"function"==typeof e}var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=0,o=void 0,a=void 0,s=function(e,t){A[i]=e,A[i+1]=t,2===(i+=2)&&(a?a(f):m())};var l="undefined"!=typeof window?window:void 0,d=l||{},u=d.MutationObserver||d.WebKitMutationObserver,c="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),p="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){var e=setTimeout;return function(){return e(f,1)}}var A=new Array(1e3);function f(){for(var e=0;e<i;e+=2){(0,A[e])(A[e+1]),A[e]=void 0,A[e+1]=void 0}i=0}var m=void 0;function v(e,t){var n=this,r=new this.constructor(E);void 0===r[y]&&P(r);var i=n._state;if(i){var o=arguments[i-1];s(function(){return O(i,r,o,n._result)})}else D(n,r,e,t);return r}function g(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(E);return I(t,e),t}m=c?function(){return t.nextTick(f)}:u?function(){var e=0,t=new u(f),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():p?function(){var e=new MessageChannel;return e.port1.onmessage=f,function(){return e.port2.postMessage(0)}}():void 0===l?function(){try{var e=Function("return this")().require("vertx");return void 0!==(o=e.runOnLoop||e.runOnContext)?function(){o(f)}:h()}catch(e){return h()}}():h();var y=Math.random().toString(36).substring(2);function E(){}var b=void 0,_=1,T=2,w={error:null};function k(e){try{return e.then}catch(e){return w.error=e,w}}function C(t,n,r){n.constructor===t.constructor&&r===v&&n.constructor.resolve===g?function(e,t){t._state===_?x(e,t._result):t._state===T?S(e,t._result):D(t,void 0,function(t){return I(e,t)},function(t){return S(e,t)})}(t,n):r===w?(S(t,w.error),w.error=null):void 0===r?x(t,n):e(r)?function(e,t,n){s(function(e){var r=!1,i=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,function(n){r||(r=!0,t!==n?I(e,n):x(e,n))},function(t){r||(r=!0,S(e,t))},e._label);!r&&i&&(r=!0,S(e,i))},e)}(t,n,r):x(t,n)}function I(e,t){e===t?S(e,new TypeError("You cannot resolve a promise with itself")):!function(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}(t)?x(e,t):C(e,t,k(t))}function R(e){e._onerror&&e._onerror(e._result),L(e)}function x(e,t){e._state===b&&(e._result=t,e._state=_,0!==e._subscribers.length&&s(L,e))}function S(e,t){e._state===b&&(e._state=T,e._result=t,s(R,e))}function D(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+_]=n,i[o+T]=r,0===o&&e._state&&s(L,e)}function L(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,o=e._result,a=0;a<t.length;a+=3)r=t[a],i=t[a+n],r?O(n,r,i,o):i(o);e._subscribers.length=0}}function O(t,n,r,i){var o=e(r),a=void 0,s=void 0,l=void 0,d=void 0;if(o){if((a=function(e,t){try{return e(t)}catch(e){return w.error=e,w}}(r,i))===w?(d=!0,s=a.error,a.error=null):l=!0,n===a)return void S(n,new TypeError("A promises callback cannot return that same promise."))}else a=i,l=!0;n._state!==b||(o&&l?I(n,a):d?S(n,s):t===_?x(n,a):t===T&&S(n,a))}var V=0;function P(e){e[y]=V++,e._state=void 0,e._result=void 0,e._subscribers=[]}var M=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(E),this.promise[y]||P(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?x(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&x(this.promise,this._result))):S(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===b&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===g){var i=k(e);if(i===v&&e._state!==b)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===N){var o=new n(E);C(o,e,i),this._willSettleAt(o,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===b&&(this._remaining--,e===T?S(r,n):this._result[t]=n),0===this._remaining&&x(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;D(e,void 0,function(e){return n._settledAt(_,t,e)},function(e){return n._settledAt(T,t,e)})},e}();var N=function(){function e(t){this[y]=V++,this._result=this._state=void 0,this._subscribers=[],E!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(e,t){try{t(function(t){I(e,t)},function(t){S(e,t)})}catch(t){S(e,t)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){throw n})})},e}();return N.prototype.then=v,N.all=function(e){return new M(this,e).promise},N.race=function(e){var t=this;return r(e)?new t(function(n,r){for(var i=e.length,o=0;o<i;o++)t.resolve(e[o]).then(n,r)}):new t(function(e,t){return t(new TypeError("You must pass an array to race."))})},N.resolve=g,N.reject=function(e){var t=new this(E);return S(t,e),t},N._setScheduler=function(e){a=e},N._setAsap=function(e){s=e},N._asap=s,N.polyfill=function(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=N},N.Promise=N,N})}).call(this,n(9),n(7))},function(module,__webpack_exports__,__webpack_require__){"use strict";function isString(e){return"[object String]"===Object.prototype.toString.call(e)}function isArray(e){return"[object Array]"===Object.prototype.toString.call(e)}function ensureArray(e){return isArray(e)?e.slice():e?[e]:[]}function isNumeric(e){return!isNaN(parseFloat(e))&&isFinite(e)}function hashCode(e){var t,n,r=0;if(0===e.length)return r;for(t=0,n=e.length;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return Math.abs(r)}function json_decode(str){return JSON&&JSON.parse?JSON.parse(str):eval("("+str+")")}function getFixedAgoTime(e){return(((new Date).getTime()-e)/1e3).toFixed(1)}function injectScript(e,t){try{var n=document.createElement("script"),r=document.getElementsByTagName("head")[0]||document.documentElement;n.setAttribute("type","text/javascript"),t&&(n.async=!0),n.src=e,r.appendChild(n)}catch(e){}}function injectIframe(e){try{var t=document.createElement("iframe");t.style.display="none",t.src=e,document.body.appendChild(t)}catch(e){}}function injectScriptOnce(e,t,n){var r,i=document.getElementsByTagName("head")[0]||document.documentElement;document.getElementById(e)||((r=document.createElement("script")).setAttribute("type","text/javascript"),r.id=e,r.onload=n,r.src=t(),i.appendChild(r))}__webpack_require__.d(__webpack_exports__,"h",function(){return isArray}),__webpack_require__.d(__webpack_exports__,"b",function(){return ensureArray}),__webpack_require__.d(__webpack_exports__,"i",function(){return isNumeric}),__webpack_require__.d(__webpack_exports__,"d",function(){return hashCode}),__webpack_require__.d(__webpack_exports__,"c",function(){return getFixedAgoTime}),__webpack_require__.d(__webpack_exports__,"f",function(){return injectScript}),__webpack_require__.d(__webpack_exports__,"e",function(){return injectIframe}),__webpack_require__.d(__webpack_exports__,"g",function(){return injectScriptSDK}),__webpack_require__.d(__webpack_exports__,"l",function(){return stringifyObject}),__webpack_require__.d(__webpack_exports__,"k",function(){return shuffleArray}),__webpack_require__.d(__webpack_exports__,"a",function(){return arrayFind}),__webpack_require__.d(__webpack_exports__,"j",function(){return pick});var scripts={onLoadedFuncs:[]};function injectScriptSDK(e,t,n,r){void 0===r&&(r=!1);var i=document.getElementsByTagName("head")[0]||document.documentElement;if(!r||(scripts.onLoadedFuncs[e]=scripts.onLoadedFuncs[e]||[],n&&scripts.onLoadedFuncs[e].push(n),!document.getElementById(e))){var o=document.createElement("script");o.setAttribute("type","text/javascript"),o.id=e,o.onload=function(){if(r)for(;scripts.onLoadedFuncs[e].length;)scripts.onLoadedFuncs[e].shift()();else n()},o.src=t(),i.appendChild(o)}}function stringifyObject(e){try{return JSON.stringify(e).replace(/[\"\{\}]/g,"").replace(/\,/g,", ").replace(/\:/g,": ")}catch(e){}return null}function shuffleArray(e){if(e.length>1)for(var t=e.length-1;t>=0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[n];e[n]=e[t],e[t]=r}return e}function arrayFind(e,t){if(e.find)return e.find(t);for(var n=0,r=e;n<r.length;n++){var i=r[n];if(t(i))return i}}function pick(e){for(var t=e[0],n=e[1],r=void 0===n?null:n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return r?r.apply(void 0,i.filter(t)):arrayFind(i,t)}function pickField(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return r.map(function(t){return t[e]}).filter(t).reduce(n,void 0)}},,function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e){void 0===e&&(e=1/0),this.msec=e,this.startedAt=null,this.elapsed=null}return e.delay=function(t,n){void 0===t&&(t=0);var r="function"==typeof t?t:n;return new e("number"==typeof t?t:0).start(r)},e.Seconds=function(t){return new e(1e3*t)},e.Minutes=function(t){return new e(60*t*1e3)},e.prototype.getSeconds=function(){return this.msec/1e3},e.prototype.cancel=function(){this.resolve=null,this.pause(),this.reject&&(this.reject(e.Cancelled),this.reject=null)},e.prototype.reset=function(e){return this.pause(),this.msec=e,this},e.prototype.Seconds=function(e){return this.reset(1e3*e)},e.prototype.Minutes=function(e){return this.reset(60*e*1e3)},e.prototype.tee=function(e){return e(this),this},e.prototype.start=function(e){this.cancel();var t=this.hold(e);return this.timerId=setTimeout(this.resolve,this.msec),this.startedAt=Date.now(),this.elapsed=0,t},e.prototype.pause=function(){null!=this.timerId&&(clearTimeout(this.timerId),this.timerId=null,null!=this.startedAt&&(this.elapsed=(this.elapsed||0)+Math.max(0,Date.now()-this.startedAt)),this.startedAt=null)},e.prototype.resume=function(){this.rewind(Math.max(0,this.msec-(this.elapsed||0)))},e.prototype.hold=function(t){var n=this,r=new e.Promise(function(e,t){n.resolve=e,n.reject=t}).then(function(){return n.pause()});return t?r.then(t):r},e.prototype.repeat=function(e){var t=this;this.cancel();var n=function(){return t.hold(e).then(n)};return n()},e.prototype.rewind=function(e){this.pause(),this.resolve&&(this.timerId=setTimeout(this.resolve,null!=e?e:this.msec),this.startedAt=Date.now())},e.prototype.trigger=function(){this.reject=null,this.resolve&&this.resolve(),this.cancel()},e.Promise=window.Promise,e.Cancelled={cancelled:!0},e}();t.default=r},,function(e,t,n){var r;
/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */!function(i){var o=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=10;function s(){this._events={},this._conf&&l.call(this,this._conf)}function l(e){e&&(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),e.maxListeners&&(this._events.maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),this.wildcard&&(this.listenerTree={}))}function d(e){this._events={},this.newListener=!1,l.call(this,e)}function u(e,t,n,r){if(!n)return[];var i,o,a,s,l,d,c,p=[],h=t.length,A=t[r],f=t[r+1];if(r===h&&n._listeners){if("function"==typeof n._listeners)return e&&e.push(n._listeners),[n];for(i=0,o=n._listeners.length;i<o;i++)e&&e.push(n._listeners[i]);return[n]}if("*"===A||"**"===A||n[A]){if("*"===A){for(a in n)"_listeners"!==a&&n.hasOwnProperty(a)&&(p=p.concat(u(e,t,n[a],r+1)));return p}if("**"===A){for(a in(c=r+1===h||r+2===h&&"*"===f)&&n._listeners&&(p=p.concat(u(e,t,n,h))),n)"_listeners"!==a&&n.hasOwnProperty(a)&&("*"===a||"**"===a?(n[a]._listeners&&!c&&(p=p.concat(u(e,t,n[a],h))),p=p.concat(u(e,t,n[a],r))):p=a===f?p.concat(u(e,t,n[a],r+2)):p.concat(u(e,t,n[a],r)));return p}p=p.concat(u(e,t,n[A],r+1))}if((s=n["*"])&&u(e,t,s,r+1),l=n["**"])if(r<h)for(a in l._listeners&&u(e,t,l,h),l)"_listeners"!==a&&l.hasOwnProperty(a)&&(a===f?u(e,t,l[a],r+2):a===A?u(e,t,l[a],r+1):((d={})[a]=l[a],u(e,t,{"**":d},r+1)));else l._listeners?u(e,t,l,h):l["*"]&&l["*"]._listeners&&u(e,t,l["*"],h);return p}d.EventEmitter2=d,d.prototype.delimiter=".",d.prototype.setMaxListeners=function(e){this._events||s.call(this),this._events.maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e},d.prototype.event="",d.prototype.once=function(e,t){return this.many(e,1,t),this},d.prototype.many=function(e,t,n){var r=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");function i(){0==--t&&r.off(e,i),n.apply(this,arguments)}return i._origin=n,this.on(e,i),r},d.prototype.emit=function(){this._events||s.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return!1;var t,n,r,i,o,a=arguments.length;if(this._all&&this._all.length){if(o=this._all.slice(),a>3)for(t=new Array(a),i=1;i<a;i++)t[i]=arguments[i];for(r=0,n=o.length;r<n;r++)switch(this.event=e,a){case 1:o[r].call(this,e);break;case 2:o[r].call(this,e,arguments[1]);break;case 3:o[r].call(this,e,arguments[1],arguments[2]);break;default:o[r].apply(this,t)}}if(this.wildcard){o=[];var l="string"==typeof e?e.split(this.delimiter):e.slice();u.call(this,o,l,this.listenerTree,0)}else{if("function"==typeof(o=this._events[e])){switch(this.event=e,a){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(a-1),i=1;i<a;i++)t[i-1]=arguments[i];o.apply(this,t)}return!0}o&&(o=o.slice())}if(o&&o.length){if(a>3)for(t=new Array(a-1),i=1;i<a;i++)t[i-1]=arguments[i];for(r=0,n=o.length;r<n;r++)switch(this.event=e,a){case 1:o[r].call(this);break;case 2:o[r].call(this,arguments[1]);break;case 3:o[r].call(this,arguments[1],arguments[2]);break;default:o[r].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},d.prototype.emitAsync=function(){this._events||s.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,n,r,i,o,a=[],l=arguments.length;if(this._all){if(l>3)for(t=new Array(l),i=1;i<l;i++)t[i]=arguments[i];for(r=0,n=this._all.length;r<n;r++)switch(this.event=e,l){case 1:a.push(this._all[r].call(this,e));break;case 2:a.push(this._all[r].call(this,e,arguments[1]));break;case 3:a.push(this._all[r].call(this,e,arguments[1],arguments[2]));break;default:a.push(this._all[r].apply(this,t))}}if(this.wildcard){o=[];var d="string"==typeof e?e.split(this.delimiter):e.slice();u.call(this,o,d,this.listenerTree,0)}else o=this._events[e];if("function"==typeof o)switch(this.event=e,l){case 1:a.push(o.call(this));break;case 2:a.push(o.call(this,arguments[1]));break;case 3:a.push(o.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(l-1),i=1;i<l;i++)t[i-1]=arguments[i];a.push(o.apply(this,t))}else if(o&&o.length){if(l>3)for(t=new Array(l-1),i=1;i<l;i++)t[i-1]=arguments[i];for(r=0,n=o.length;r<n;r++)switch(this.event=e,l){case 1:a.push(o[r].call(this));break;case 2:a.push(o[r].call(this,arguments[1]));break;case 3:a.push(o[r].call(this,arguments[1],arguments[2]));break;default:a.push(o[r].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(a)},d.prototype.on=function(e,t){if("function"==typeof e)return this.onAny(e),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");if(this._events||s.call(this),this.emit("newListener",e,t),this.wildcard)return function(e,t){for(var n=0,r=(e="string"==typeof e?e.split(this.delimiter):e.slice()).length;n+1<r;n++)if("**"===e[n]&&"**"===e[n+1])return;for(var i=this.listenerTree,s=e.shift();s;){if(i[s]||(i[s]={}),i=i[s],0===e.length){if(i._listeners){if("function"==typeof i._listeners)i._listeners=[i._listeners,t];else if(o(i._listeners)&&(i._listeners.push(t),!i._listeners.warned)){var l=a;void 0!==this._events.maxListeners&&(l=this._events.maxListeners),l>0&&i._listeners.length>l&&(i._listeners.warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",i._listeners.length),console.trace&&console.trace())}}else i._listeners=t;return!0}s=e.shift()}return!0}.call(this,e,t),this;if(this._events[e]){if("function"==typeof this._events[e])this._events[e]=[this._events[e],t];else if(o(this._events[e])&&(this._events[e].push(t),!this._events[e].warned)){var n=a;void 0!==this._events.maxListeners&&(n=this._events.maxListeners),n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),console.trace&&console.trace())}}else this._events[e]=t;return this},d.prototype.onAny=function(e){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),this._all.push(e),this},d.prototype.addListener=d.prototype.on,d.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var n,r=[];if(this.wildcard){var a="string"==typeof e?e.split(this.delimiter):e.slice();r=u.call(this,null,a,this.listenerTree,0)}else{if(!this._events[e])return this;n=this._events[e],r.push({_listeners:n})}for(var s=0;s<r.length;s++){var l=r[s];if(n=l._listeners,o(n)){for(var d=-1,c=0,p=n.length;c<p;c++)if(n[c]===t||n[c].listener&&n[c].listener===t||n[c]._origin&&n[c]._origin===t){d=c;break}if(d<0)continue;return this.wildcard?l._listeners.splice(d,1):this._events[e].splice(d,1),0===n.length&&(this.wildcard?delete l._listeners:delete this._events[e]),this.emit("removeListener",e,t),this}(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t)&&(this.wildcard?delete l._listeners:delete this._events[e],this.emit("removeListener",e,t))}return function e(t){if(t!==i){var n=Object.keys(t);for(var r in n){var o=n[r],a=t[o];a instanceof Function||"object"!=typeof a||(Object.keys(a).length>0&&e(t[o]),0===Object.keys(a).length&&delete t[o])}}}(this.listenerTree),this},d.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&this._all.length>0){for(n=0,r=(t=this._all).length;n<r;n++)if(e===t[n])return t.splice(n,1),this.emit("removeListenerAny",e),this}else{for(n=0,r=(t=this._all).length;n<r;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},d.prototype.removeListener=d.prototype.off,d.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||s.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),n=u.call(this,null,t,this.listenerTree,0),r=0;r<n.length;r++){n[r]._listeners=null}else{if(!this._events||!this._events[e])return this;this._events[e]=null}return this},d.prototype.listeners=function(e){if(this.wildcard){var t=[],n="string"==typeof e?e.split(this.delimiter):e.slice();return u.call(this,t,n,this.listenerTree,0),t}return this._events||s.call(this),this._events[e]||(this._events[e]=[]),o(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},d.prototype.listenersAny=function(){return this._all?this._all:[]},(r=function(){return d}.call(t,n,t,e))===i||(e.exports=r)}()},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},,function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,d=[],u=!1,c=-1;function p(){u&&l&&(u=!1,l.length?d=l.concat(d):c=-1,d.length&&h())}function h(){if(!u){var e=s(p);u=!0;for(var t=d.length;t;){for(l=d,d=[];++c<t;)l&&l[c].run();c=-1,t=d.length}l=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function A(e,t){this.fun=e,this.array=t}function f(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new A(e,t)),1!==d.length||u||s(h)},A.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=f,i.addListener=f,i.once=f,i.off=f,i.removeListener=f,i.removeAllListeners=f,i.emit=f,i.prependListener=f,i.prependOnceListener=f,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(r),o=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(o).concat([i]).join("\n")}return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAFVBMVEUAAAD///////////////////////9Iz20EAAAABnRSTlMAuQjsCbLikAU2AAAANElEQVQI12PABoIYGIzBjEQHhjQwI00Exkh0gDLSRGCMRAyGEEyxApQhBNWeqABkIKzABAC7EQ0h5qY5EgAAAABJRU5ErkJggg=="},function(e,t,n){"use strict";t.__esModule=!0,t.traceEventListeners=function(e,t){var n=e.addEventListener,r=e.removeEventListener,i=[],o={},a=e;for(var s in a)"on"==s.substr(0,2)&&a[s]&&(o[s]=a[s]);return a.addEventListener=function(e,t,r){i.push({type:e,listener:t,options:r}),n.call(this,e,t,r)},a.removeEventListener=function(e,n,o){if(t)for(var a=0;a!=i.length;a++){var s=i[a];e==s.type&&n==s.listener&&o==s.options&&i.splice(a,1)}r.call(this,e,n,o)},{target:a,activeListeners:i,storedOns:o,reset:function(){for(var e in a)"on"==e.substr(0,2)&&(a[e]=o[e]||null);for(var t=0;t!=i.length;t++){var n=i[t],s=n.type,l=n.listener,d=n.options;r.call(a,s,l,d)}i.splice(0,i.length)}}}},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"SVGNamespace",function(){return ot}),n.d(r,"preventDefault",function(){return at}),n.d(r,"stopPropagation",function(){return st}),n.d(r,"createElement",function(){return dt}),n.d(r,"DOM",function(){return it});var i,o=n(6),a=n(1),s=n(4),l=n.n(s);function d(e){try{if(e&&0===e.protocol.indexOf("file"))return!0;if(document&&document.location&&0===document.location.protocol.indexOf("file"))return!0;if(window.location&&0===window.location.protocol.indexOf("file"))return!0;if(location&&0===location.protocol.indexOf("file"))return!0}catch(e){return!0}return!1}function u(e,t){var n=[];for(var r in e)if(e.hasOwnProperty(r)&&void 0!==e[r]&&"function"!=typeof e[r]){var i=String(e[r]);r&&r.length&&i.length?n.push([r,h(i)].join("=")):r&&r.length?n.push(r+"="):i&&i.length&&n.push(i)}return t||n.push("cb="+(new Date).getTime().toFixed(0)),n.join("&")}function c(e,t){var n=u(t);return[e,-1==e.indexOf("?")&&n.length>0?"?":"",n].join("")}function p(e){try{e=decodeURIComponent(e)}catch(t){try{e=unescape(e)}catch(e){}}return e}function h(e){try{e=encodeURIComponent(e)}catch(t){try{e=escape(e)}catch(e){}}return e}function A(e,t,n){return t&&t.trim&&t.replace?(t=t.trim(),"https:"==e.toLowerCase()&&(t=t.replace(/^http:/i,"https:")),d(n)&&(t=t.replace(/^\/\//,e+"//")),t):t}!function(e){e[e.NO_XHR_SUPPORT=1]="NO_XHR_SUPPORT",e[e.OPEN=2]="OPEN",e[e.SEND=3]="SEND",e[e.CORS=4]="CORS",e[e.STATUS=5]="STATUS",e[e.TIMEOUT=6]="TIMEOUT",e[e.UNKNOWN=7]="UNKNOWN",e[e.LAST=10]="LAST"}(i||(i={}));var f=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")},function(){var e=new XDomainRequest;return e.onprogress=function(){},e}];function m(){for(var e=0,t=f;e<t.length;e++){var n=t[e];try{return n()}catch(e){}}return null}function v(e){return(window.DOMParser?function(e){return(new window.DOMParser).parseFromString(e,"text/xml")}:"undefined"!=typeof ActiveXObject&&new ActiveXObject("Microsoft.XMLDOM")?function(e){var t=new ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t}:function(){return null})(e)}function g(e,t){return b({url:e,method:"POST",postData:u(t,!0),contentType:"application/x-www-form-urlencoded"})}function y(e){var t=e.url,n=void 0===t?"":t,r=e.params,i=void 0===r?null:r,o=e.usePost;void 0!==o&&o?g(n,i):(new Image).src=c(n,i)}function E(e){var t=e.url,n=void 0===t?"":t,r=e.params,i=void 0===r?null:r,o=e.usePost;return void 0!==o&&o?g(n,i):function(e){return new a.Promise(function(t,n){var r="_"+Date.now()+Math.ceil(1e3*Math.random()),i=document.createElement("script"),o=document.getElementsByTagName("head")[0]||document.documentElement;window[r]=function(e){t(e)};var a=e.indexOf("?");-1==a?e+="?":a!==e.length-1&&(e+="&"),i.src=e+"callback="+r,i.onerror=function(){n()},o.appendChild(i)})}(c(n,i))}function b(e){var t=e.url,n=void 0===t?"":t,r=e.withCredentials,o=void 0!==r&&r,s=e.method,l=void 0===s?"GET":s,d=e.postData,u=void 0===d?null:d,c=e.contentType,p=e.timeout,h=void 0===p?0:p,A=e.xhrObject;return new a.Promise(function(e,t){var r=!1,a=A||m();try{if(!a)return t({xhr:a,code:i.NO_XHR_SUPPORT,data:{message:"no supported xhr object"}}),null;try{a.open(l,n,!0)}catch(e){return t({xhr:a,code:i.OPEN,data:e}),null}if("withCredentials"in a&&(a.withCredentials=o),"timeout"in a&&(a.timeout=h,a.ontimeout=function(){t({xhr:a,code:i.TIMEOUT,data:{message:"no response from xhr within "+h/1e3+" sec."}})}),a.onload=function(){r||(window.XDomainRequest&&a instanceof window.XDomainRequest&&(a.status=200,a.getResponseHeader=function(){return null},a.getAllResponseHeaders=function(){return null}),a.status>=400?t({xhr:a,code:i.STATUS,data:{message:a.statusText,status:a.status}}):e(a))},a.onerror=function(e){r=!0,t({xhr:a,code:i.CORS,data:{result:-1,message:"cross origin exception"}})},u&&a.setRequestHeader&&c&&a.setRequestHeader("Content-type",c),window.XDomainRequest&&a instanceof window.XDomainRequest)setTimeout(function(){try{a.send(u)}catch(e){t({xhr:a,code:i.SEND,data:e})}},0);else try{a.send(u)}catch(e){t({xhr:a,code:i.SEND,data:e})}}catch(e){e&&-1==e.message.indexOf("101")&&2153644038!=e.result?t({xhr:a,code:i.UNKNOWN,data:e}):t({xhr:a,code:i.CORS,data:e})}})}function _(e){if(""!=e.debugLog){e.bSubmitted+=e.debugLog.length,(e.bSubmitted>5e5||(new Date).getTime()-e.startTime>18e4)&&(e.debugLog="last packet",e.keepDebugLog=!1),e.debugLogLastSubmitted=(new Date).getTime();var t=e.debugLog;if(e.debugLog="",e.serverHost)b({url:c(e.serverHost()+"/sdl?",{p:e.playerId,pv:e.playerVersion,se:e.sessionId,sid:e.subid,domain:e.domain,r:e.debugLogReason}),postData:t,method:t?"POST":"GET"})}}function T(e){if(e.debugLogBuffer.length<1e5)e.debugLog=e.debugLogBuffer,e.debugLogBuffer="";else{e.debugLog=e.debugLogBuffer.substr(e.debugLogBuffer.length-1e5);var t=e.debugLog.indexOf("\n");e.debugLog=-1===t?"":e.debugLog.substr(t+1),e.debugLogBuffer=""}}function w(e,t){var n=t.debugLogReason,r=void 0===n?void 0:n,i=t.keepDebugLog,o=void 0!==i&&i,a=t.dueToException,s=void 0!==a&&a;void 0!==r&&(e.debugLogReason=r),T(e),_(e),o&&(e.keepDebugLog=!0),s&&(e.debugLogSubmittedDueToException=!0)}function k(e){if(e.debugLog="",e.debugLogBuffer="",e.debugLogLastSubmitted=(new Date).getTime(),e.bSubmitted=0,e.debugLogSubmittedDueToException=!1,e.logToHTML){var t=window.document.createElement("div"),n=window.document.createElement("pre");t.style.cssText="border: 1px solid; height: 300px; width: 1200px; resize: both; overflow: auto;",t.appendChild(n),window.document.body.appendChild(t),e.debugDocElement=n}}function C(e,t,n){if(e&&(!n||e.keepDetailedDebugLog)){var r;e.logDebugToConsole&&window.console&&window.console.log((new Date).getTime()+"\t"+t),e.logToHTML&&(e.debugDocElement.innerHTML+=t+"<br>"),r=JSON&&JSON.stringify?JSON.stringify(t):'"'+t+'"';var i=(new Date).getTime()+"\t"+r+"\n",o=i.length;if(o>1e5&&(o=(i=(new Date).getTime()+"\ttruncated line\n").length),e.keepDebugLog){var a=e.debugLog.length;a>0&&a+o>1e5&&_(e),e.debugLog+=i,((new Date).getTime()-e.debugLogLastSubmitted>3e3||e.debugLog.length>1e5)&&_(e)}else{if(e.debugLogBuffer&&e.debugLogBuffer.length>1e7)return;e.debugLogBuffer+=i}}}function I(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+="property: "+n+" value: ["+e[n]+"]\n");return t+="toString():  value: ["+e.toString()+"]"}function R(e,t,n,r,i){var o="";t.cxpid&&(o+="cxp:"+t.cxpid),t.cxvid&&(o+=" cxv:"+t.cxvid),(t.cxpid||t.cxvid)&&(o=" ("+o+")");var a="";try{a=i&&i.length?JSON.stringify(i):""}catch(e){}C(e,"vastId "+t.vastId+" uniqId "+t.uniqId+o+" - "+n+a,r)}var x,S=n(0),D=n(2);function L(e,t,n,r,i){for(var o=t.players,a=t.playerData,s=void 0===a?null:a,l=t.log,d=void 0!==l&&l,u=[],c=5;c<arguments.length;c++)u[c-5]=arguments[c];try{return d&&(s?R(o,s,e,!1):C(o,e,!1)),n.apply(i,u)}catch(t){return re(o,3,e+" - JS exception: "+t.message,t),o.isDebugVersion,r&&r(t)}}function O(e,t){return t.playerDataAction?function(n){return t.playerDataAction(e.players,e.playerData,n)}:t.playerAction?function(n){return t.playerAction(e.players,n)}:function(e){return t.action(e)}}function V(e,t,n,r,i){for(var o=function(r){var o=O(n,r);e.addEventListener(r.type,function(i){return L(t+" "+r.type,n,o,r.catcher,e,i)},i)},a=0,s=r;a<s.length;a++){o(s[a])}}function P(e,t){return function(n){n&&!0!==n.cancelled&&re(e,3,t+" - JS exception: "+n.message,n)}}var M,N,U=7,j=15,B=!1,F=!1;!function(e){e[e.E_REQUEST=1]="E_REQUEST",e[e.E_LOADED=2]="E_LOADED",e[e.E_MIDS=3]="E_MIDS",e[e.E_END=4]="E_END",e[e.E_ADSTART=5]="E_ADSTART",e[e.E_ADSTART_WO_IMPRESSION=6]="E_ADSTART_WO_IMPRESSION",e[e.E_CLICK=7]="E_CLICK",e[e.E_VAST_ERROR=8]="E_VAST_ERROR",e[e.E_ACTUAL_REQUEST=9]="E_ACTUAL_REQUEST",e[e.E_START=10]="E_START",e[e.E_SERVED_AND_START=11]="E_SERVED_AND_START",e[e.E_CONTENT_CLICK=12]="E_CONTENT_CLICK",e[e.E_ADPLAYED=13]="E_ADPLAYED",e[e.E_SCHEDULED=14]="E_SCHEDULED",e[e.E_DETECTED=15]="E_DETECTED",e[e.E_PLAYER_ERROR=16]="E_PLAYER_ERROR",e[e.E_SUBMIT_DEBUG_LOG=17]="E_SUBMIT_DEBUG_LOG",e[e.E_CLIENT_EVENT=18]="E_CLIENT_EVENT",e[e.E_AD_SKIPPED=19]="E_AD_SKIPPED"}(M||(M={})),function(e){e[e.Video=0]="Video",e[e.FlashVpaid=1]="FlashVpaid",e[e.JsVpaid=3]="JsVpaid",e[e.ImaJs=4]="ImaJs",e[e.FlashJsVpaid=5]="FlashJsVpaid",e[e.Spotx=6]="Spotx"}(N||(N={}));var q=((x={})[M.E_REQUEST]={url:"/vpx/requesti"},x[M.E_LOADED]={url:"/vpx/loadedi"},x[M.E_MIDS]={url:"/vpx/midsi"},x[M.E_END]={url:"/vpx/endi",immediate:!0},x[M.E_ADSTART]={url:"/vpx/starti",immediate:!0},x[M.E_ADSTART_WO_IMPRESSION]={url:null,immediate:!0},x[M.E_CLICK]={url:"/vpx/click",immediate:!0},x[M.E_VAST_ERROR]={url:"/vpx/errori",immediate:!1},x[M.E_START]={url:"/ppx/starti"},x[M.E_SERVED_AND_START]={url:"/ppx/served_and_starti"},x[M.E_ADPLAYED]={url:"/ppx/adplayedi"},x[M.E_SCHEDULED]={url:null},x[M.E_DETECTED]={url:null},x[M.E_PLAYER_ERROR]={url:"/ppx/errori"},x[M.E_CONTENT_CLICK]={url:null},x[M.E_ACTUAL_REQUEST]={exclude:!0,server:"a",url:"/areq"},x[M.E_SUBMIT_DEBUG_LOG]={exclude:!0,url:"sdl"},x[M.E_CLIENT_EVENT]={exclude:!0,url:"/lpx/v1"},x),H=1e4;var Q={subid:"sid",domain:"domain",domainDetected:"dd",widthDetected:"wd",heightDetected:"hd",sessionId:"se",playerVersion:"pv",timeFromStart:"s",flashSupport:"f",detect:"sa",vastId:"v",playerId:"p",demandId:"dmid",memUsed:"m",time:"t",time2:"t2",duration:"d",quartile:"qd",gpvTime:"gt",fpwReadyTime:"ft",domReadyTime:"dt",gpvM:"gm",roundNo:"r",gpvOrdNo:"gpvn",totalMemS:"tm",vastType:"y",actualVastType:"yy",state:"st",gpvAttempt:"ga",errorCode:"en",errorMessage:"em",mediaURL:"mu",logStartRequest:"ls",logLoadRequest:"lr",cedatoxPlayerId:"cxp",cedatoxVastId:"cxv",chosenVastId:"cv",parentPlayerId:"pp",retryTestGroup:"rtg",gpvCookie:"gpvck",cookie:"ck",eventCookie:"evck"},J=["playerId","vastId","demandId"],W=["cedatoxPlayerId","cedatoxVastId","chosenVastId","parentPlayerId"],X=["eventCookie","subid","domain","sessionId","playerVersion","domainDetected","gpvCookie","detect"],G=X.concat(["timeFromStart"]);function K(e,t,n){for(var r=0,i=e.length;r<i;r++)if(void 0!==t[e[r]]&&null!==t[e[r]])switch(e[r]){case"flashSupport":n[e[r]]=t[e[r]]?"1":"0";break;default:n[e[r]]=t[e[r]]}}function z(e,t,n,r){K(e,t,r),K(e,n,r)}function Y(e){var t={};for(var n in e)e.hasOwnProperty(n)&&void 0!==Q[n]&&"function"!=typeof Q[n]&&(t[Q[n]]=e[n]);return t}function Z(e,t){for(var n in t)t.hasOwnProperty(n)&&null!=Q[n]&&"function"!=typeof Q[n]&&e.push([n,String(t[n])].join("="))}function $(e,t,n,r){if(t&&M[t]){var i=q[t];i&&i.url&&!i.exclude&&function(e,t,n,r,i){var o=n.url,a=n.immediate,s=n.server;try{var d=a,u=e||{},r=r||{},i=i||{},c=[];Z(c,u),Z(c,r),Z(c,i),C(e,"logEvent:"+M[t]+" "+o+"?"+c.join("&"),!1);var p=Object(D.c)(e.startTime),h=o.substring(o.lastIndexOf("/")+1),A={name:h,common:{},extra:{}};switch(z(G,u,{},A.common),A.common.timeFromStart=p,t){case M.E_REQUEST:z(J.concat(W),r,i,A.extra);break;case M.E_LOADED:z(["memUsed","time","vastType","actualVastType"].concat(J,W),r,i,A.extra),d=d||null!=r&&null!=r.chosenVastId;break;case M.E_MIDS:z(["duration","quartile"].concat(J,W),r,i,A.extra);break;case M.E_END:z(["duration"].concat(J,W),r,i,A.extra);break;case M.E_CLICK:z(J.concat(W),r,i,A.extra);break;case M.E_ADSTART:z(["time","roundNo","gpvOrdNo","vastType","actualVastType","retryTestGroup","cookie","widthDetected","heightDetected"].concat(J,W),r,i,A.extra);break;case M.E_ADSTART_WO_IMPRESSION:z(J.concat(W),r,i,A.extra);break;case M.E_VAST_ERROR:z(["errorCode","errorMessage","mediaURL","logStartRequest","logLoadRequest","time"].concat(J,W),r,i,A.extra);break;case M.E_START:case M.E_SERVED_AND_START:z(["playerId"],u,i,A.extra);break;case M.E_SCHEDULED:z(["playerId","fpwReadyTime","gpvTime","domReadyTime","gpvM","gpvAttempt"],u,i,A.extra),A.extra.time=p;break;case M.E_DETECTED:z(["playerId","widthDetected","heightDetected"],u,i,A.extra);break;case M.E_ADPLAYED:z(["playerId","gpvOrdNo"],u,i,A.extra),A.extra.time=p;break;case M.E_CONTENT_CLICK:z(["playerId"],u,i,A.extra);break;case M.E_PLAYER_ERROR:z(["playerId"],u,i,A.extra),z(["errorCode","errorMessage"],r,i,A.extra)}var f=o.substring(0,o.lastIndexOf("/")),m=e.serverHost(s||e.eventServer)+f;if("/ppx"==f)return void ee(e,m,A);if("/vpx"!=f)return;var v=function(){return function e(t,n){if(n){var r=t.eventsQueue[n].events;if(r.length)if(1==r.length&&F)ee(t,n,r[0]);else try{y({url:[n,"/multiple-events"].join(""),params:function(e){for(var t={common:{},eventsList:[],eventsData:[]},n=0,r=e.length;n<r;n++){var i={},o=e[n];if(0==n)t.common=o.common;else for(var a in o.common)o.common.hasOwnProperty(a)&&o.common[a]!=t.common[a]&&(i[a]=o.common[a]);for(var a in o.extra)o.extra.hasOwnProperty(a)&&(i[a]=o.extra[a]);t.eventsList.push(o.name),t.eventsData.push(Y(i))}for(var s=t.eventsList.join(","),l=[],n=0;n<t.eventsData.length;n++){var d=t.eventsData[n],u=[];for(var c in d)d.hasOwnProperty(c)&&u.push([c,d[c]].join(":"));l.push(u.join(","))}return Object(S.d)({events:s,data:l.join("|")},Y(t.common))}(r),usePost:1==t.multipleEventMethod})}catch(e){}t.eventsQueue[n].events=[]}else for(var i in t.eventsQueue)t.eventsQueue.hasOwnProperty(i)&&e(t,i)}(e,m)};e.eventsQueue[m]?(e.eventsQueue[m].events.length>=U&&(e.eventsQueue[m].timer.cancel(),v()),e.eventsQueue[m].events.push(A)):e.eventsQueue[m]={timer:new l.a(H),events:[A]},1==e.eventsQueue[m].events.length&&e.eventsQueue[m].timer.start(v),d&&(e.eventsQueue[m].timer.trigger(),e.areqEntryCount>0&&ne(e))}catch(e){}}(e,t,i,n,r),e.playerEvents&&e.playerEvents.emit(M[t],e,n,r)}}function ee(e,t,n){try{t=c([t,"/",n.name,"?"].join(""),Y(Object(S.d)({},n.common,n.extra)));e.sendPixel(t)}catch(e){}}function te(e,t,n,r){try{if(e.areqEntryCount>=j?ne(e):0==e.areqEntryCount&&(e.areqTimer=setTimeout(function(){return ne(e)},H)),r)null==e.areqEventsQueue[r]&&(e.areqEventsQueue[r]=0,e.areqEntryCount+=1),e.areqEventsQueue[r]+=1;else{var i=e.areqEventsQueue[t];null==i&&(i=e.areqEventsQueue[t]={}),null==i[n]&&(i[n]=0,e.areqEntryCount+=1),i[n]+=1}}catch(e){}}function ne(e){L("flushActualRequests",{players:e},function(){var t={};z(X,e,{},t);var n=Y(t),r=1,i=function(e,t){return n[e+r]=t},o=function(e){1!=e&&i("c",e),r++};for(var a in e.areqEventsQueue)if(e.areqEventsQueue.hasOwnProperty(a))if("number"==typeof e.areqEventsQueue[a]){var s=e.areqEventsQueue[a];s>0&&(i("dmid",a),o(s))}else{var l=e.areqEventsQueue[a];for(var d in l)if(l.hasOwnProperty(d)){var u=l[d];u>0&&(i("p",a),i("v",d),o(u))}}var c=q[M.E_ACTUAL_REQUEST];y({url:e.serverHost(c.server)+c.url,params:n,usePost:1==e.areqMethod}),clearTimeout(e.areqTimer),e.areqEntryCount=0,e.areqEventsQueue={}})}function re(e,t,n,r){r&&(n+=I(r)),e.serverEvents.supplyEvent({name:"SupplyError",errorCode:t,message:n}),$(e,M.E_PLAYER_ERROR,{errorCode:t,errorMessage:n},{}),C(e,"errorCode "+t+" - "+n,!1),3!=t||e.keepDebugLog||e.debugLogSubmittedDueToException||!e.submitDebugLogOnPlayerError||w(e,{debugLogReason:"player error",dueToException:!0})}var ie=["loadad"];function oe(e,t,n){if(void 0===n&&(n=1),B&&-1!=ie.indexOf(t.category)&&!(Math.random()>n)){t.count=Math.round((t.count||1)/n);try{var r=q[M.E_CLIENT_EVENT],i={p:e.playerId.toFixed(),pv:e.playerVersion};e.appParams&&e.appParams.appn&&(i.appn=e.appParams.appn);var o=c(e.serverHost(r.server)+r.url,Object(S.d)(i,t));e.sendPixel(o),C(e,"client event:"+o,!0)}catch(e){}}}var ae=.1,se=.01;function le(e,t,n){oe(e,{category:"fasttag",event:e.jsCallingVpaid?"vpaidjs":"player",label:t?"OK":"Failed",error:n},t?se:ae)}var de=.1,ue=.01;var ce=.01;var pe=.01,he=.005;var Ae=.01,fe=.01,me=.01,ve=.1;function ge(e,t,n,r){if(!e.usejsv&&e.info.mobile){var i={category:"autoplay",label:r,domain:e.domain,videoSrc:t.currentSrc};n&&n.then?n.then(function(){i.event="OK",oe(e,i,Ae)},function(t){var n=t.name,r=t.message;i.error=n,i.message=r,i.event="AbortError"!==n?"Failed":"Aborted",oe(e,i,"AbortError"!==n?ve:me)}):(i.event="Unknown",oe(e,i,fe))}}var ye=.1;var Ee=1e-4;function be(e){if(!e)return!1;var t=e.indexOf("algovid"),n=e.indexOf("cedato_player"),r=e.indexOf("cedato_vpaid");return!((-1===t||t>18)&&-1===n||-1!==r)}function _e(e){for(var t,n=document.getElementsByTagName("script"),r=n.length-1;r>=0;r--){var i=n[r];if(be(i.src)&&(t||(t=i),e&&-1!==i.src.indexOf("cb="+e)))return i}return t}var Te=function(){return function(){this.expectedSureFastStart=!1,this.iframeSlot=!0,this.impressionOnlyWithVideoStart=!1,this.suggestedDuration=10,this.useIMA=null,this.vastPreferType=null,this.vpaidUseJSV=!0,this.withCredentials=null,this.wrapperCredentials=!1,this.wrapperLimit=10,this.moat=null}}(),we=function(){return function(e,t,n,r){void 0===r&&(r=S.b),this.parser=e,this.parName=t,this.prio=n,this.filter=r}}(),ke={controlBar:new we(S.f,"co"),disableSameVastPrefetch:new we(S.f,"dsvp"),expectedSureFastStart:new we(S.f,"sff"),iframeSlot:new we(S.f,"ifsl"),impressionOnlyWithVideoStart:new we(S.f,"strictImp"),sandbox:new we(S.f,"sb"),skipOffset:new we(S.j,"skipOffset",Math.min),suggestedDuration:new we(S.j,"sdur",Math.min),useIMA:new we(S.f,"IMA"),vastPreferType:new we(S.j,"vt"),viewableOnStart:new we(S.f,"vos"),vpaidUseJSV:new we(S.f,"vjsv"),withCredentials:new we(S.f,"withCredentials"),wrapperCredentials:new we(S.f,"wrapCred"),wrapperLimit:new we(S.j,"wrapLim",Math.min),moat:new we(function(e){return e},"moat",function(e,t){return Object(S.d)({},t,e)})};var Ce,Ie=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Re=function(e){function t(){var t=e.call(this)||this;return t.observableOnly=!1,t.beingVpaid=!1,t.curUniq=0,t.freqRetry=!1,t.anyPlaying=!1,t.allowSound=!1,t.allowPausedImpressions=!0,t.usejsv=!1,t.areqMethod=0,t.multipleEventMethod=0,t.mediaPreview=!1,t.areqEventsQueue={},t.areqEntryCount=0,t.areqTimer=null,t.eventsQueue={},t.gpvExtraParams={},t.gpvMethod=0,t.gpvAttempt=0,t.debug={},t.conf={},t.initOverrides=[],t.gpvConfLoaded=!1,t.gpvRequeryInterval=6e5,t.gpvRetryInterval=1e4,t.timers=null,t.thirdPartyTimeout=0,t.vastWaitFactor=1,t.totalVastRetries=null,t.maxTotalVastRetries=null,t.maxFailedVastRetries=null,t.maxAdStarts=null,t.demandMaxAdStarts=null,t.vpaidInitLimit=3,t.autoScheduleReset=!1,t.sizeTolerance=null,t.widthOverwrite=null,t.heightOverwrite=null,t.schedule=null,t.postRoll=!1,t.midrollRound=0,t.preRollTimer=new l.a,t.midRollTimer=new l.a,t.mainAutoplay=!0,t.controlBarType="cedbar",t.clickToPlay=!1,t.vastList={},t.playNextRepeatTimer=new l.a,t.debugLogReason="gpv",t.logToHTML=!1,t.submitDebugLogOnPlayerError=!1,t.submitDebugLogOnVastError=!1,t.submitDebugLogForVastId=null,t.plist=[],t.unlockedVideos=[],t.extControls={},t.domIsReady=!1,t.started=!1,t.paused=!1,t.scheduledPixelSent=!1,t.showBrandMenu=!1,t.brandMenuHandlers={},t.anyAdPlayed=!1,t.curAdStarts=0,t.now=Date.now,t.startTime=(new Date).getTime(),t.playerReady=new a.Promise(function(e){t.playerReadyResolve=function(){return t.domIsReady=!0,e()}}),t}return Ie(t,e),t.prototype.AllowedUnmute=function(){return this.dynamicSound||this.muteToPlay},t.prototype.findPlayerData=function(e){return Object(D.a)(this.plist,e)},t.prototype.getPlayerDataByUniq=function(e){return this.findPlayerData(function(t){return t.uniqId==e})},t.prototype.scheduleEnabled=function(){return this.started&&this.schedule&&(this.schedule.content||this.schedule.time)},t}(Te);function xe(e){var t=Object(S.j)(e.p);if(!t)return null;var n=new Re;Object(S.d)(n,{playerId:t,isApp:Object(S.f)(e.app,!1),domain:Object(S.k)(e.d,""),cacheBuster:Object(S.k)(e.cb,"")}),Object(S.d)(n,{divId:Object(S.k)(e.did,"video"+t+n.cacheBuster),sessionId:Object(S.k)(e.se,function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}()),width:Object(S.j)(e.w),height:Object(S.j)(e.h),subid:Object(S.k)(e.sid,""),htmlOnly:Object(S.f)(e.ho,n.isApp),isDebugVersion:!1,playerVersion:Object(S.k)("114.32","100.0"),playerUrl:Object(S.k)(e.playerUrl)});var r=Object(S.f)(e.ssl),i=function(e){return e.split(".").slice(1).join(".")},o=Object(S.k)(e.mid,"p.algovid.com"),a=Object(S.k)(e.sd,i(o)||i("p.algovid.com"));o=o.split(".")[0],Object(S.d)(n,{machineId:o,serverDomain:a,keepDetailedDebugLog:3==Object(S.j)(e.sl),logDebugToConsole:2==Object(S.j)(e.cnl),keepDebugLog:2==Object(S.j)(e.sdl),logVastResponse:Object(S.f)(e.lvr,!1),jsCallingVpaid:Object(S.k)(e.job),beingVpaidUseSlot:Object(S.f)(e.vslot)}),n.tagConfig=e,Se(n,e);var s={},l={d:!0,sid:!0,did:!0,p:!0,cb:!0,playerVersion:!0,mid:!0,cnl:!0,sv:!0,ap:!0,sdl:!0,se:!0,w:!0,h:!0,lvr:!0,app:!0,jsv:!0,ob:!0,pv:!0};if(n.isApp){n.appParams={};var d=["appsu","appidfa","appv","appn","appb","appc","appaid"],u=[];for(var c in d)d.hasOwnProperty(c)&&(l[d[c]]=!0,e[d[c]]&&(u.push(d[c]+"="+encodeURIComponent(e[d[c]])),n.appParams[d[c]]=e[d[c]],s[d[c]]=e[d[c]]));var p=e.appn;!n.domain&&p&&(n.domain="app://"+encodeURIComponent(p))}var h=[];for(var A in e)if(isNaN(A)&&!l[A]&&e.hasOwnProperty(A)&&(s[A]||(s[A]=e[A]),"c"==A[0])){var f=parseInt(A.slice(1),10);!isNaN(f)&&f>=1&&f<=6&&(h[f]=e[A])}n.gpvExtraParams=s,n.customParams=h.length?h:null,n.logDebugToConsole=n.logDebugToConsole||n.keepDetailedDebugLog;var m=function(){var e="";try{if(parent!==window){e=document.referrer;var t=window.location.ancestorOrigins;if(t){var n=t[t.length-1];n&&e.substring(0,n.length)!=n&&(e=n)}}else e=top.location.href}catch(e){}return e}();return n.domain||(n.domain=m),n.domainDetected=function(e){try{var t=document.createElement("a");return t.href=e,t.host}catch(t){return e}}(m).substr(0,100),n.protocol=function(e,t){if(null!=e)return e?"https:":"http:";try{var n=t||window.location||document.location;if(n&&"http:"==n.protocol)return"http:"}catch(e){}return"https:"}(r),n.serverHost=function(e){return n.protocol+"//"+(e||n.machineId)+"."+n.serverDomain},n.conf.sUrl=n.serverHost("c"),n.conf.pJsvUrl=n.conf.sUrl+"/player/jsv_pure_2.js",n.conf.maxDomLoadTimes=60,n.conf.domLoadRetryTimeout=200,n.conf.domLoadInitTimeout=500,(n.logDebugToConsole||n.keepDebugLog)&&(n.debugLogReason="tag"),n}function Se(e,t){Object(S.e)(S.b,e,{allowLongImpressions:Object(S.f)(t.ali),allowPausedImpressions:Object(S.f)(t.pausedImpressions),allowSound:Object(S.f)(t.as)||Object(S.h)(Object(S.f)(t.muted),function(e){return!e}),autoScheduleReset:Object(S.f)(t.asr),blackListName:Object(S.k)(t.bl),closeButton:Object(S.f)(t.scb),controlBar:Object(S.f)(t.co),controlBarType:Object(S.k)(t.cotype),demandMaxAdStarts:Object(S.j)(t.dmas),eventCookie:Object(S.k)(t.evck),eventServer:Object(S.k)(t.esrv),eventServer2:Object(S.k)(t.esrv2),forceJSV:Object(S.f)(t.jsv),mainAutoplay:Object(S.f)(t.ap),maxAdStarts:Object(S.j)(t.mas),maxFailedVastRetries:Object(S.j)(t.mvr),maxTotalVastRetries:Object(S.j)(t.tvr),mediaPreview:Object(S.f)(t.mediaPreview),observableOnly:Object(S.f)(t.oo),parallelStartAd:Object(S.f)(t.psa),showBrandMenu:Object(S.f)(t.showBrandMenu),sizeTolerance:Object(S.j)(t.sizeTol),skipButton:Object(S.f)(t.ssb),thirdPartyTimeout:Object(S.j)(t.tpt),vpaidInitLimit:Object(S.j)(t.vpl),xhrInterceptEnabled:Object(S.f)(t.xhri),xhrTraceToConsole:Object(S.f)(t.xhrt)})}!function(e){e[e.None=0]="None",e[e.Fetching=1]="Fetching",e[e.Fetched=2]="Fetched",e[e.Loading=3]="Loading",e[e.Initing=4]="Initing",e[e.Ready=5]="Ready",e[e.Started=6]="Started",e[e.Playing=7]="Playing",e[e.Completed=8]="Completed",e[e.Finished=9]="Finished",e[e.Error=10]="Error"}(Ce||(Ce={})),window.CEDATO_API=window.CEDATO_API||{registerPlayer:function(e,t){var n=window.CEDATO_INIT;void 0===Le[e]?(Le[e]=t||new De,Le[e]._ready=!0,n&&("function"==typeof n?Le[e].init=n:"object"==typeof n&&"function"==typeof n[e]&&(Le[e].init=n[e]))):(Le[e]._ready=!0,setTimeout(function(){Le[e].trigger("ready")},0));return Le[e]},getPlayer:function(e){void 0===Le[e]&&(Le[e]=new De);return Le[e]}};var De=function(){function e(e){this._ready=!1,this.playerVersion="100.0",this.eventEmitter=new o.EventEmitter2({wildcard:!0,maxListeners:20}),e&&(this.playerVersion=e)}return e.prototype.on=function(e,t){var n=this,r=e.toLowerCase();if("ready"!==r||!this._ready)return this.eventEmitter.on(r,t),this;setTimeout(function(){return t({name:"ready",player:n})},0)},e.prototype.off=function(e,t){var n=e.toLowerCase();return t?this.eventEmitter.off(n,t):this.eventEmitter.removeAllListeners(n),this},e.prototype.trigger=function(e,t){var n=e.toLowerCase();return this.eventEmitter.emit(n,{name:n,player:this,data:void 0==t?{}:t}),this},e.prototype.play=function(e){void 0===e&&(e={userInteraction:!0}),this.trigger("_play",e)},e.prototype.show=function(){this.trigger("_show")},e.prototype.hide=function(){this.trigger("_hide")},e.prototype.pause=function(){this.trigger("_pause")},e.prototype.overrideInitParams=function(e){this.trigger("_overrideInit",e)},e.prototype.setContentUrls=function(e,t){this.trigger("_setContentUrls",{urls:e,saveCurrentTime:t||!1})},e.prototype.setContentVariant=function(e){this.trigger("_setContentVariant",e)},e.prototype.setContentImage=function(e,t){this.trigger("_setContentImage",{url:e,pos:t||""})},e.prototype.seekContent=function(e){this.trigger("_seekContent",e)},e.prototype.setContent=function(e){this.trigger("_setContent",e)},e.prototype.setExtContent=function(e){this.trigger("_setExtContent",e)},e.prototype.setUIControls=function(e){this.trigger("_setUIControls",e)},e.prototype.setPausable=function(e){this.trigger("_setPausable",e)},e.prototype.sound=function(e,t){void 0===t&&(t=!0),this.trigger("_sound",{value:e,userInteraction:t})},e.prototype.resize=function(e,t){this.trigger("_resize",{width:e,height:t})},e.prototype.skip=function(){this.trigger("_skip")},e.prototype.close=function(e,t){this.trigger("_close",{preserveDiv:e||!1,reason:t||"api"})},e.prototype.pauseAds=function(){this.trigger("_pauseads")},e.prototype.resumeAds=function(e){var t=(void 0===e?{autoplay:!0}:e).autoplay;this.trigger("_resumeads",{autoplay:t})},e.prototype.resetSchedule=function(){this.trigger("_resetSchedule")},e.prototype.getPlayerVersion=function(){return this.playerVersion},e}(),Le={};var Oe=n(19);function Ve(e){return new RegExp("(^|\\s)"+e+"($|\\s)")}function Pe(e,t){return void 0===t&&(t="__cedato_"),Object(D.h)(e)?e.filter(function(e){return!!e}).map(function(e){return t+e}).join(" "):t+e}function Me(e,t,n){void 0===n&&(n="__cedato_");var r=Pe(t,n);Ve(r).test(e.className)||(e.className+=" "+r)}function Ne(e,t,n){if(void 0===n&&(n="__cedato_"),e){var r=e.className.split(" ");for(var i in t)if(t.hasOwnProperty(i)){var o=Pe(i,n);if(e.classList)t[i]?e.classList.add(o):e.classList.remove(o);else{var a=r.indexOf(o);t[i]&&-1==a?r.push(o):t[i]||-1==a||r.splice(a,1)}}e.classList||(e.className=r.join(" "))}}function Ue(e,t){void 0===t&&(t=!1);var n=null;return e.usejsv?((n=e.JSV.createVideoElement()).proxyUrl=function(n){return function(e,t,n){var r;return r="c"==n?t.protocol+"//cdn1-m"+t.networkId+".algovid.tv":t.serverHost("mc"),-1!==e.indexOf("track.eyeviewads.com")&&(r=t.serverHost("m")),e.trim&&(e=e.trim()),r+"/vpr/"+encodeURIComponent(encodeURIComponent(e))+"/"+t.playerId+".jsv"}(n,e,t&&"c")},e.isDebugVersion&&(n.className=n.className+Pe("jsv_marker"))):n=document.createElement("video"),n.preload="auto",n.muted=e.muteToPlay||e.muted,n.volume=e.volume,n.playsInline=!0,n}function je(e){return e&&e.canvas}function Be(e,t,n){t&&n&&(je(t)?t.setAttribute("src",n):t.src=A(e.protocol,n))}function Fe(e){var t=e.error,n="";switch(t.code){case t.MEDIA_ERR_ABORTED:n="Video playback aborted.";break;case t.MEDIA_ERR_NETWORK:n="A network error.";break;case t.MEDIA_ERR_DECODE:n="The video playback decode error.";break;case t.MEDIA_ERR_SRC_NOT_SUPPORTED:n="The video format is not supported.";break;default:n="An unknown error occurred."}return n}function qe(e){return null!=e.cxpid&&null!=e.cxvid}function He(e){return"jsima"==e.adType?N.ImaJs:"jsvpaid"==e.adType?N.JsVpaid:N.Video}function Qe(e){return e.hasFlashVPAID&&e.hasJSVPAID?N.FlashJsVpaid:He(e)}function Je(e,t){Ge(e,M.E_REQUEST,t,{})}function We(e,t,n){if(!(n<=0)){var r=((t.duration||0)/4).toFixed(2);t.quartile&&t.quartile==n-1||We(e,t,n-1),t.quartile=n,e.serverEvents.demandEvent(t,{name:"AdProgress",progress:n/4,duration:parseFloat(r)*n,durationDelta:parseFloat(r)}),Ge(e,n==wn.COMPLETE?M.E_END:M.E_MIDS,t,{quartile:n,duration:r})}}function Xe(e,t){var n=(((new Date).getTime()-t.loadAdTime)/1e3).toFixed(1);Ge(e,M.E_LOADED,t,{time:n,memUsed:null,vastType:Qe(t),actualVastType:He(t)}),qe(t)&&$(e,M.E_SERVED_AND_START,{},{playerId:t.playerId})}function Ge(e,t,n,r){qe(n)?(n.cedatoxPlayerId=null,n.cedatoxVastId=n.cxvid,n.chosenVastId=null,n.parentPlayerId=n.cxpid,$(e,t,n,r),n.cedatoxPlayerId=n.playerId,n.cedatoxVastId=null,n.chosenVastId=n.vastId,n.parentPlayerId=null,r.playerId=n.cxpid,r.vastId=n.cxvid,$(e,t,n,r)):$(e,t,n,r)}var Ke=function(){function e(e,t){this.wait=!1,this.players=e,this.init(t)}return e.prototype.init=function(e){this.params=e.external},e.prototype.start=function(){this.players.anyPlaying||this.params.show({wait:this.wait})},e.prototype.hide=function(){this.params.hide()},e.prototype.setWait=function(e){this.wait=e},e.prototype.getUrl=function(){return""},e}();function ze(e,t,n,r){try{for(var i={},o=[],a=e&&e.beacons&&e.beacons[n]||[],s=t&&t.beacons&&t.beacons[n]||[],l=0,d=0,u=s;d<u.length;d++){var c=u[d];i[c.id||"__u"+l++]=c}for(var p=0,h=a;p<h.length;p++){var f=h[p],m=i[f.id];i[(m=m?Object(S.d)({},f,m):f).id||"__u"+l++]=m}if(Object(S.g)(function(e){return o.push(e)},i),o&&o.length>0){var v=Wt(e,t,r);!function(e,t,n,r){if("function"==typeof e.triggerAll)return e.triggerAll(t,n,r);for(var i=0,o=n=Object(D.b)(n);i<o.length;i++){var a=o[i];if(a.url&&(null==a.rate||Math.random()<a.rate)){var s=a.url;r&&(s=r(s)),s=A(e.protocol,s);var l=null;a.type&&"script"===a.type?(e.injectScript(s,!0),l=" inject script "):a.type&&"iframe"===a.type?(e.injectIframe(s),l=" inject iframe "):(e.sendPixel(s),l=" send image "),t?R(e,t,"callback"+l+s,!1):C(e,"callback"+l+s,!1)}}}(e,t,o,v)}}catch(e){}}var Ye=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ze=Object.keys;function $e(e){return e&&"number"==typeof e.nodeType}function et(e){return"string"==typeof e}function tt(e){return e&&("object"==typeof e||nt(e))}function nt(e){return"function"==typeof e}function rt(e){return function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return($e(t)||et(t))&&(n.unshift(t),t={}),dt(e,t,n)}}var it=function(e){for(var t=0,n=Ze(e);t<n.length;t++){var r=n[t];e[r]=rt(r)}return e}({a:0,blockquote:0,button:0,div:0,em:0,form:0,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,hr:0,img:0,input:0,li:0,link:0,ol:0,p:0,script:0,span:0,strong:0,table:0,thead:0,td:0,th:0,tr:0,ul:0}),ot="http://www.w3.org/2000/svg";function at(e){return e.preventDefault(),e}function st(e){return e.stopPropagation(),e}function lt(e){return Array.isArray(e)?e.map(lt).filter(Boolean).join(" "):tt(e)?Ze(e).filter(function(t){return e[t]}).join(" "):function(e){return!function(e){return"boolean"==typeof e}(e)&&null!=e}(e)?""+e:""}function dt(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return t=t||{},et(e)?(function(e,t){for(var n=0,r=Ze(e);n<r.length;n++){var i=r[n],o=e[i];switch(i){case"style":if(tt(o)){Ye(t[i],o);continue}break;case"dataset":Ye(t[i],o);continue;case"innerHTML":case"innerText":case"textContent":t[i]=o;continue;case"spellCheck":t.spellcheck=o;case"class":case"className":t.setAttribute("class",lt(o));continue;case"ref":case"namespaceURI":continue}if(nt(o)){if("on"===i.substr(0,2)){var a=i.slice(2).toLowerCase();pt(t,a,o)}}else t&&(!0===o?t.setAttribute(i,""):!1!==o&&null!=o&&t.setAttribute(i,o))}}(t,n=t.namespaceURI?document.createElementNS(t.namespaceURI,e):document.createElement(e)),ct(r,n)):nt(e)&&(n=e(Ye({},t,{children:r}))),nt(t.ref)&&t.ref(n),n}function ut(e,t){!function(e){return tt(e)&&"number"==typeof e.length&&"number"!=typeof e.nodeType}(e)?et(e)||function(e){return"number"==typeof e}(e)?t.appendChild(document.createTextNode(e)):null===e?t.appendChild(document.createComment("")):$e(e)&&t.appendChild(e):ct(e,t)}function ct(e,t){if($e(e)||et(e))ut(e,t);else for(var n=0,r=e;n<r.length;n++){ut(r[n],t)}return t}function pt(e,t,n){return e.addEventListener(t,n),e}function ht(e){var t="",n=Math.floor(e/3600),r=Math.floor(e%3600/60),i=Math.floor(e%3600%60);return t+=n>0?n+":":"",t+=r+":",t+=i<10?"0"+i:i}function At(e){return function(){function t(e){this.props=e}return t.prototype.initHovering=function(){var e=this;this.mainElement.addEventListener("mousemove",function(t){var n=t.currentTarget.getBoundingClientRect(),r=(t.clientX-n.left)/e.mainElement.offsetWidth;e.hoverProgressElement.style.transform="scale3d("+r+",1,1)"})},t.prototype.clickRatio=function(e){var t=e.currentTarget;return(e.clientX-t.getBoundingClientRect().left)/(t.getBoundingClientRect().right-t.getBoundingClientRect().left)},t.prototype.setRatio=function(e,t){if(void 0===t&&(t=0),this.progressElement.style.transform="scale3d("+e+",1,1)",this.progressElement.style.transition=t?"transform "+t+"s linear":"",this.scrubberElement){var n=this.mainElement.clientWidth*e;this.scrubberElement.style.transform="translateX("+n+"px)",this.scrubberElement.style.transition=t?"transform "+t+"s linear":""}},t.prototype.setInteractive=function(e){var t;Ne(this.mainElement,((t={}).interactive=e,t))},t.prototype.setVisibility=function(e){var t;Ne(this.mainElement,((t={}).hidden=e,t))},t.prototype.render=function(){var t=this,n=this.props,r=n.type,i=n.placeholder,o=void 0!==i&&i,a=n.scrubber,s=void 0!==a&&a,l=n.hovering,d=void 0!==l&&l,u=n.onChange;return e("div",{ref:function(e){t.mainElement=e,d&&t.initHovering()},className:Pe(r),onClick:function(e){return u&&u(t.clickRatio(e))}},function(){var n=[e("div",{ref:function(e){return t.progressElement=e},className:Pe("progress"),style:{transform:"scaleX("+t.props.value+")"}}),d&&e("div",{ref:function(e){return t.hoverProgressElement=e},className:Pe("hover_progress")}),s&&e("div",{ref:function(e){return t.scrubberElement=e},className:Pe("scrubber")})];return o?e("div",{className:Pe("progress_placeholder")},n):n}())},t}()}function ft(e,t,n){function r(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];e.controls.brandMenu.hide(n[0],t)}}e.brandMenuListeners||(e.brandMenuListeners=[{eventName:"contextmenu",handler:function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];e.controls.brandMenu.show(n[0],e.rootDivElem||t)}},bodyHandler:!1},{eventName:"contextmenu",handler:r,bodyHandler:!0},{eventName:"click",handler:r,bodyHandler:!0}]);var i=n||e;i.brandMenuHandlers&&(i.brandMenuHandlers={});for(var o=0;o<e.brandMenuListeners.length;o++){var a=e.brandMenuListeners[o],s=a.eventName,l=a.handler,d=a.bodyHandler?window.document:t;i.brandMenuHandlers[o]=l(e,t),d.addEventListener(s,i.brandMenuHandlers[o],!0),a.bodyHandler&&t.ownerDocument!==window.document&&t.ownerDocument.addEventListener(s,i.brandMenuHandlers[o],!0)}}var mt=function(){function e(){var e=this;this.bag=[],this.createElement=function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];return!t||t instanceof Node?t:(t.prototype&&t.prototype.render&&(t=new(t.bind.apply(t,[void 0,n].concat(i)))),t.render?(e.bag.push(t),n&&n.ref&&n.ref(t),t.render()):dt.apply(r,[t,n].concat(i)))}}return e.prototype.update=function(e){this.bag.forEach(function(t){return t&&"update"in t&&t.update(e)})},e}(),vt=function(){return(vt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},gt={play:!0,mute:!0,volume:!0,seek:!0,time:!0,bitrate:!0},yt={native:{},cedbar:gt,all:gt,minimal:{play:!0,mute:!0}};var Et=function(){function e(e,t){this.players=null,this.autoUpdateInterval=500,this.cbjs=new mt,this.extUI={scheme:{},bar:[],root:[]},e.divElem&&(this.players=e,this.playerElement=e.divElem,Object(S.e)(S.b,this.extUI,e.extControls),this.init(t),this.createDOM())}return e.prototype.init=function(e){this.initNonEmbeded(e),this.initEmbeded(e)},e.prototype.initNonEmbeded=function(e){var t=this,n=this.cbjs.createElement,r=e.overlay&&function(e){return function(){function t(e){var t=e.play;this.play=t}return t.prototype.render=function(){var t=this;return e("div",{className:Pe("play_button"),onClick:function(e){e.stopPropagation(),t.play()}})},t}()}(n),i=e.brand&&function(e){return function(){function t(){var e=this;this.hidden=!0,this.isRightButon=function(e){return e.which&&3==e.which||e.button&&2==e.button},this.show=function(t,n){var r=e.mainElement.parentNode.getBoundingClientRect(),i=e.mainElement.getBoundingClientRect(),o=t.target,a=t.clientY,s=t.clientX;if(e.mainElement.ownerDocument==o.ownerDocument){var l=n.getBoundingClientRect();a-=l.top,s-=l.left}r.left+r.width<r.left+s+i.width&&(s-=i.width),r.top+r.height<r.top+a+i.height&&(a-=i.height),e.mainElement.style.top=a+"px",e.mainElement.style.left=s+"px",e.mainElement.style.visibility="visible",t.stopPropagation(),t.preventDefault(),e.hidden=!1,e.hideTimeout=setTimeout(function(){e.hide(t)},2e3)},this.hide=function(t,n){t.target===n||e.hidden||(e.mainElement.style.top="0",e.mainElement.style.left="0",e.mainElement.style.visibility="hidden",e.isRightButon(t)||t.target===e.mainElement||(t.stopPropagation(),t.preventDefault()),clearTimeout(e.hideTimeout),e.hideTimeout=null,e.hidden=!0)}}return t.prototype.render=function(){var t=this;return e("div",{ref:function(e){return t.mainElement=e},className:Pe("brand_menu"),onClick:function(){return window.open("http://www.cedato.com","_blank")}},e("figure",null),e("span",null,"Powered by ",e("b",null,"Cedato")))},t}()}(n),o=e.mute&&!this.players.usejsv&&function(e){return function(){function t(e){var t=e.onClick;this.onClick=t}return t.prototype.update=function(e){var t,n=e.content,r=e.requestedMuted;Ne(this.elem,((t={}).hidden=n||!1===r,t))},t.prototype.render=function(){var t=this;return e("div",{ref:function(e){return t.elem=e},className:Pe("unmute_button"),onClick:this.onClick})},t}()}(n),a=e.close&&function(e){return function(t){var n=t.onClick;return e("div",{className:Pe("close_button"),onClick:n})}}(n),s=e.skip&&"native"==this.players.controlBarType&&function(e){return function(t){var n=t.onClick;return e("div",{className:Pe("skip_button"),onClick:n},"Skip Ad")}}(n),l=[n(a,{onClick:function(){return"notify"==t.players.closeButton?ii(t.players,null,"ui.close"):zr(t.players,!1,"ui")}}),n(s,{onClick:function(){return"notify"==t.players.skipButton?ii(t.players,null,"ui.skip"):Zr(t.players)}}),this.overlayPlayButton=n(r,{play:function(){Jr(t.players,"ui",!0)}}),n(o,{onClick:function(){var e=$r(t.players);if(e){var n=e.volume;Yr(t.players,n>0?n:1,!1,null,!0),t.updateControlBar()}}}),n(i,{ref:function(e){return t.brandMenu=e}})];l.push.apply(l,this.extUI.root),l.forEach(function(e){return e&&t.playerElement.appendChild(e)})},e.prototype.initEmbeded=function(e){var t=this,n=this.cbjs.createElement;if(e.seek||e.play||e.mute||e.volume||e.volume2||e.time||e.bitrate||"native"!=this.players.controlBarType||this.extUI.bar.length){var r=this.players.content instanceof Bt?this.players.content:null,i=e.seek&&function(e){return function(){function t(e){var t=e.onSeek,n=void 0===t?null:t,r=e.updateInterval,i=void 0===r?100:r,o=e.seekableContent,a=void 0===o||o,s=this;this.lastPositionTime=0,this.duration=NaN,this.isContent=!0,this.onChange=function(e){s.isContent&&s.duration&&s.onSeek(s.duration*e)},this.onSeek=n,this.autoUpdateInterval=i,this.seekableContent=a}return t.prototype.update=function(e){var t=e.jump,n=void 0!==t&&t,r=e.time,i=void 0===r?NaN:r,o=e.duration,a=void 0===o?NaN:o,s=e.content,l=void 0===s||s,d=e.paused,u=void 0!==d&&d;if(this.bar.setInteractive(l&&this.seekableContent),this.bar.setVisibility(isNaN(a)),isNaN(a)||isNaN(i))this.bar.setRatio(0);else{var c=0;n||u||this.isContent!=l||Math.abs(i-this.lastPositionTime)>=1||isNaN(this.lastPositionTime)&&isNaN(this.duration)||(i+=c=Math.min(a-i,.95*this.autoUpdateInterval/1e3)),this.bar.setRatio(i/a,c)}this.lastPositionTime=i,this.duration=a,this.isContent=l},t.prototype.render=function(){var t=this,n=At(e);return e(n,{ref:function(e){return t.bar=e},type:"seek_bar",placeholder:!0,scrubber:!0,hovering:!0,value:0,onChange:this.onChange})},t}()}(n),o=e.mute&&function(e){return function(){function t(e){var t=e.players;this.players=t}return t.prototype.update=function(e){var t,n=e.muted,r=void 0!==n&&n,i=e.volume,o=void 0===i?0:i;Ne(this.elem,((t={}).volume_unmute_button=r||0==o,t.volume_mute_button=!(r||0==o),t))},t.prototype.render=function(){var t=this;return e("div",{ref:function(e){return t.elem=e},className:Pe("volume_button"),onClick:function(){var e=$r(t.players);if(e){var n=e.volume,r=e.muted,i=r?n>0?n:1:n;Kr(t.players,i,!r,null,!0)}}})},t}()}(n),a=e.play&&function(e){return function(){function t(e){var t=e.resume,n=e.pause;this.paused=!1,this.resume=t,this.pause=n}return t.prototype.update=function(e){var t,n=e.paused,r=void 0!==n&&n;this.paused=r,Ne(this.elem,((t={}).playback_play_button=this.paused,t.playback_pause_button=!this.paused,t))},t.prototype.render=function(){var t=this;return e("div",{ref:function(e){return t.elem=e},className:Pe("playback_button"),onClick:function(){t.paused?t.resume():t.pause()}})},t}()}(n),s=e.skip&&"native"!=this.players.controlBarType&&function(e){return function(){function t(e){var t=e.onClick,n=this;this.isCountable=function(){return"number"==typeof n.skippable&&n.skippable<0},this.update=function(e){var t,r=e.skippable,i=void 0!==r&&r;n.skippable!==i&&(n.skippable=i,Ne(n.mainElement,((t={}).skip_countdown_button=n.isCountable(),t.hidden=!i,t)),n.setCountdown())},this.setCountdown=function(){var e="Skip Ad";n.isCountable()&&(e="Skip in "+Math.abs(n.skippable)),n.countElement.textContent=e},this.onClick=t}return t.prototype.render=function(){var t=this;return e("div",{ref:function(e){return t.mainElement=e},className:Pe(["controls_skip_button",this.isCountable()&&"skip_countdown_button"]),onClick:function(){t.skippable&&!t.isCountable()&&t.onClick()}},e("span",{ref:function(e){return t.countElement=e},className:Pe("skip_text")},this.isCountable()?"Skip in "+Math.abs(this.skippable):"Skip Ad"))},t}()}(n),l=e.time&&function(e){return function(){function t(){}return t.prototype.update=function(e){var t=e.time,n=void 0===t?0:t,r=e.duration,i=void 0===r?0:r,o=isNaN(n)?0:n;i=isNaN(i)?0:i,this.timeElement&&(this.timeElement.textContent=ht(o)),this.durationElement&&this.durationElement.textContent!==ht(i)&&(this.durationElement.textContent=ht(i))},t.prototype.render=function(){var t=this;return e("div",{className:Pe("time_tracker")},e("span",{ref:function(e){return t.timeElement=e}},ht(0)),e("span",null,"/"),e("span",{ref:function(e){return t.durationElement=e}},ht(0)))},t}()}(n),d=e.volume&&function(e){return function(){function t(e){var t=e.lines,n=void 0===t?10:t,r=e.onChange,i=void 0===r?null:r;this.linesElement=[],this.getLineClass=function(e,t){return Pe(["volume_line",Math.floor(10*e)>t&&"volume_line_colored"])},this.lines=n,this.onChange=i}return t.prototype.buildLines=function(t,n){var r=this;return Array(n).join().split(",").map(function(n,i){return r.linesElement[i]=e("em",{className:r.getLineClass(t,i)})})},t.prototype.setValue=function(e){var t=this;this.linesElement.map(function(n,r){n.className=t.getLineClass(e,r)})},t.prototype.getValue=function(e){var t=e.currentTarget.getBoundingClientRect(),n=Math.abs(e.clientX-t.left)/this.mainElement.offsetWidth,r=1/this.linesElement.length,i=Math.ceil(n/r),o=Math.round(i*r*100)/100;return this.setValue(o),o},t.prototype.render=function(){var t=this;return e("div",{ref:function(e){return t.mainElement=e},className:Pe("volume_control"),onClick:function(e){t.onChange(t.getValue(e))}},this.buildLines(0,this.lines))},t}()}(n),u=e.bitrate&&r&&function(e){return function(){function t(e){var t=e.content,n=this;this.itemElements=[],this.expanded=!1,this.toggleBitrateList=function(){var e;Ne(n.listElement,((e={}).hidden=n.expanded,e)),n.expanded=!n.expanded,n.itemElements.map(function(e,t){var r;Ne(e,((r={}).selected=n.content.getVideoVariant()==t,r))})},this.getInitClassName=function(e){return Pe(["bitrate_item",n.content.getVideoVariant()==e&&"selected"])},this.content=t}return t.prototype.update=function(e){var t=e.content,n=void 0!==t&&t;this.setVisibility(n)},t.prototype.setVisibility=function(e){var t;Ne(this.button,((t={}).hidden=!e,t)),!e&&this.expanded&&this.toggleBitrateList()},t.prototype.render=function(){var t=this;return[e("div",{ref:function(e){return t.button=e},className:Pe("bitrate_button"),onClick:this.toggleBitrateList}),e("div",{ref:function(e){return t.listElement=e},className:Pe(["bitrate_list","hidden"])},this.content.getVideoVariantList().map(function(n,r){return e("div",{ref:function(e){return t.itemElements[r]=e},className:t.getInitClassName(r),onClick:function(){t.content.setVideoVariant(r),t.toggleBitrateList()}},n.label)}))]},t}()}(n),c=e.volume2&&function(e){return function(){function t(e){var t=e.volume,n=void 0===t?0:t,r=e.onChange,i=void 0===r?null:r;this.volume=0,this.volume=n,this.onChange=i}return t.prototype.update=function(e){var t=e.volume,n=void 0===t?0:t;this.volume!=n&&(this.bar.setRatio(n),this.volume=n)},t.prototype.render=function(){var t=this,n=At(e);return e(n,{ref:function(e){return t.bar=e},type:"volume_bar",placeholder:!0,hovering:!0,value:this.volume,onChange:this.onChange})},t}()}(n);this.barElement=n("div",{className:Pe("control_bar")},n(i,{updateInterval:this.autoUpdateInterval,seekableContent:!this.players.usejsv&&!!r,onSeek:function(e){return r.seekContent(e)}}),n(a,{resume:function(){Jr(t.players,"ui",!0)},pause:function(){Qr(t.players,"ui")}}),n(o,{players:this.players})," ",n(c,{onChange:function(e){return Kr(t.players,e,!1,null,!0)}}),n(d,{onChange:function(e){return Kr(t.players,e,!1,null,!0)}}),n(l,null),n(s,{onClick:function(){Zr(t.players,!1)}}),n(u,{content:this.players.content}),this.extUI.bar)}},e.prototype.createDOM=function(){var e=this;this.playerElement.appendChild(this.barElement),this.updateTimer=setInterval(function(){return e.updateControlBar()},this.autoUpdateInterval)},e.prototype.updateElements=function(e){var t,n=$r(this.players);if(n){var r=n.controlBar;Ne(this.barElement,((t={}).hidden=!r,t)),this.players.started&&this.overlayPlayButton&&(this.playerElement.removeChild(this.overlayPlayButton),this.overlayPlayButton=null),this.cbjs.update(vt({},n,{jump:e})),this.extUI.update&&this.extUI.update(n),this.lastUpdateTime=Date.now()}},e.prototype.updateControlBar=function(e){var t=this;void 0===e&&(e=!1);var n=Date.now(),r=n-this.lastCallTime;this.lastCallTime=n,!this.lastCallTime||r<=10||n-this.lastUpdateTime<100?(clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(function(){t.updateElements(e)},10)):this.updateElements(e)},e.prototype.destroy=function(){clearTimeout(this.debounceTimer),clearInterval(this.updateTimer)},e}();function bt(e,t){void 0===t&&(t=!1);var n=e.controls;n&&n.updateControlBar(t)}function _t(e){var t=e.pluginElement,n=e.api,r=e.playerDiv,i=e.log;if(t&&t.textContent){var o=null,a=60;t.dataset&&t.dataset.timeout&&(a=1*t.dataset.timeout),n.on("player.started",function(){i("Passback: set timeout on "+a+" seconds"),o=setTimeout(function(){i("Passback: ad not started, calling script"),n.close(!0,"passback"),function(e,t){var n=t.replace(/\<\\\//g,"</"),r=document.createElement("iframe");r.style.width="100%",r.style.height="100%",r.style.border="none",e.insertBefore(r,e.firstChild);var i=r.contentDocument||r.contentWindow&&r.contentWindow.document;i&&i.write("<body style='margin:0'>"+n+"</body>")}(r,t.textContent)},1e3*a)}),n.on("adstart",function(){i("Passback: ad started, clearing timeout"),clearTimeout(o)}),n.on("closed",function(){return clearTimeout(o)})}}function Tt(e){var t=e.pluginElement,n=e.api,r=kt(t,"Content definition",e.log);r&&n.setContent(r)}function wt(e){var t=e.pluginElement,n=e.api,r=kt(t,"initOverrides",e.log);r&&n.overrideInitParams(r)}function kt(e,t,n){if(e&&e.textContent)try{var r=JSON.parse(e.textContent);return n(t+" plugin: "+JSON.stringify(r)),r}catch(r){n(t+" plugin error: "+e.textContent)}}function Ct(e){if(e.rootDivElem){var t=e.rootDivElem.offsetWidth,n=e.rootDivElem.offsetHeight;if(t&&n&&0!==t&&0!==n||(t=e.rootDivElem.clientWidth,n=e.rootDivElem.clientHeight),!t||!n||0===t||0===n){var r=e.rootDivElem.getBoundingClientRect();t=r.width,n=r.height}return{width:t,height:n}}}function It(e){C(e,"ondomload - adding div",!1),function(e){if(Oe){var t=document.createElement("style");t.type="text/css",t.innerHTML=Oe,document.getElementsByTagName("head")[0].appendChild(t),Oe=null}}();var t=Ct(e);t&&(e.widthDetected=t.width,e.heightDetected=t.height),e.eventServer2&&(e.serverEvents.serverEventUrl=-1===e.eventServer2.indexOf("//")?e.serverHost(e.eventServer2)+e.serverEvents.serverEventRoute:function(e,t){return t.indexOf("//")>0?A(e,t):e+(0==t.indexOf("//")?"":"//")+t}(e.protocol,e.eventServer2),e.serverEvents.DryRun=!1),e.serverEvents.supplyEvent({name:"SupplyLoaded"}),$(e,M.E_DETECTED,{},{}),e.widthOverwrite&&e.heightOverwrite?(e.width=e.widthOverwrite,e.height=e.heightOverwrite,e.rootDivElem.style.width=e.width+"px",e.rootDivElem.style.height=e.height+"px"):e.widthDetected&&e.heightDetected&&0!==e.widthDetected&&0!==e.heightDetected&&(!e.sizeTolerance||Math.abs(e.width-e.widthDetected)>e.sizeTolerance||Math.abs(e.height-e.heightDetected)>e.sizeTolerance)&&(e.width=e.widthDetected,e.height=e.heightDetected),e.divElem=document.createElement("div"),e.divElem.id="__cedato_root_container",Me(e.divElem,"root_container"),Me(e.divElem,e.info.mobile?"mobile":"desktop"),e.rootDivElem.appendChild(e.divElem),e.beingVpaid||Jt(e),function(e){var t=e.controlBar||e.contentDefinition.video.controlBar,n=Object(S.d)({},t&&yt[e.controlBarType]);n.close=n.close||!!e.closeButton,n.skip=n.skip||!!e.skipButton||e.skipOffset>0,e.beingVpaid||e.mainAutoplay||(n.overlay=!0),n.brand=e.showBrandMenu,Object(S.e)(S.b,n,e.extControls.scheme),C(e,"init controls scheme: "+JSON.stringify(n),!1),e.content instanceof Bt&&(!e.content||e.content.getVideoVariantList().length)||(n.bitrate=!1),e.info.mobile&&(n.volume=!1,n.volume2=!1,e.usejsv&&(n.mute=!1));var r=(e.extControls.bar&&e.extControls.bar.length||e.extControls.root&&e.extControls.root.length)&&!0;Object(S.g)(function(e){return r=r||e},n),r&&(C(e,"creating controls - "+e.controlBar,!1),e.controls=new Et(e,n))}(e),e.showBrandMenu&&ft(e,e.rootDivElem),e.playerReadyResolve(),ze(e,null,"ready"),ii(e,null,"player.ready",{rootDiv:e.rootDivElem}),e.mainAutoplay&&St(e)}function Rt(e){return new a.Promise(function(t,n){var r=Date.now(),i=function(){(Date.now()-r)/1e3<10?(e.rootDivElem=function(e){var t=null,n="data-cedato-used";if(document.querySelectorAll)try{t=document.querySelectorAll("[id='"+e.divId+"']:not(["+n+"])")[0]}catch(e){}if(!t){var r=document.getElementById(e.divId);r&&!r.hasAttribute(n)&&(t=r)}if(!t&&(e.currentScript||(e.currentScript=_e(e.cacheBuster)),e.currentScript&&e.currentScript.parentNode)){var i=e.currentScript.parentNode;-1===i.id.indexOf("video"+e.playerId)||i.hasAttribute(n)||(t=i)}return t&&t.setAttribute(n,"used"),t}(e),e.rootDivElem&&(clearInterval(o),t())):(clearInterval(o),re(e,6,"div element not found playerDomLoaded: "+e.divId),n())},o=setInterval(i,e.conf.domLoadRetryTimeout);i()})}function xt(e){e.schedule&&e.schedule.content?(function(e){var t=e.schedule.content.wait;return C(e,"starting preroll timeout "+t+"sec.",!1),e.content&&e.content.setWait(!0),e.preRollTimer.Seconds(t).start(function(){return C(e,"freezing players from preroll timeout",!1),e.content&&e.content.setWait(!1),Wr(e)}).catch(function(e,t){return function(n){throw P(e,t)(n),n}}(e,"preroll freezing players"))}(e).then(function(){Lt(e),e.content&&e.content.start()}),e.content&&e.content.start()):(Lt(e),e.content&&e.content.start())}function St(e,t,n){(function(e,t){return(!e.schedule||!e.schedule.time)&&!e.mainAutoplay&&e.allowSound&&t})(e,t)&&(e.clickToPlay=!0),C(e,"player started"+(e.clickToPlay?" - ClickToPlay":""),!1),t&&function(e){for(var t=0,n=e.plist;t<n.length;t++){var r=n[t];r.unlockAdSlot()}}(e),e.started=!0,e.autoplay=!0,e.paused=!1,e.muted=e.muteToPlay&&!t||e.muted,e.content instanceof Bt&&e.content.setVolume(e.volume,e.muted,t),ii(e,null,"player.started"),xt(e),n?(e.autoplay=!1,Vt(e,n,t)):e.autoplay&&Nt(e,t),e.clickToPlay&&(e.chilled=!0)}function Dt(e){var t=Math.max(function(e,t){if(e>0)return e;if(Array.isArray(e)&&e.length>0)return e[Math.min(t,e.length-1)];return 0}(e.schedule.time.start,e.midrollRound)-e.schedule.time.wake,0),n=function(t,n){return C(e,"midroll - init "+n+" timeout "+t+" sec.",!1),e.midRollTimer.Seconds(t).start()};n(t,"gpv").then(function(){return C(e,"midroll - get player vasts",!1),Xr(e,!1)?n(e.schedule.time.wake,"play"):a.Promise.reject(null)}).then(function(){return e.paused||(e.autoplay=!0,Nt(e)),n(e.schedule.time.wait,"stop")}).then(function(){return C(e,"midroll - stop playing ads",!1),Wr(e)}).then(function(){e.midrollRound++,Dt(e)}).catch(P(e,"midroll"))}function Lt(e){e.schedule&&e.schedule.time&&(e.midrollRound=0,Dt(e),e.autoplay=!1)}function Ot(e,t,n){return"function"==typeof e.playPlayer?e.playPlayer(t):L("playPlayer",{players:e,playerData:t,log:!0},function(){R(e,t,"playPlayer: hiding all another vasts",!0);for(var r=0,i=e.plist;r<i.length;r++){var o=i[r];o.vastId==t.vastId&&o.uniqId==t.uniqId||e.parallelStartAd&&o.state==Ce.Started||mr(e,o)}var a;!function(e,t){if(t.durationKnown)R(e,t,"playPlayer: has already known duration of: "+t.duration,!1);else if("jsvpaid"==t.adType)t.duration=t.suggestedDuration,R(e,t,"playPlayer: no known duration, setting to "+t.suggestedDuration,!1);else if("video"==t.adType){t.durationKnown=!0;try{t.duration=t.videoElement.duration}catch(e){}R(e,t,"playPlayer: duration taken from video element: "+t.duration,!1)}}(e,t),function(e,t){t.skipVastTracker?R(e,t,"playPlayer: no need for our vastTracker",!1):(R(e,t,"playPlayer: initializing vastTracker",!1),null==t.creative.trackingEvents?(t.creative.trackingEvents=[],R(e,t,"added trackingEvents",!1)):R(e,t,"had trackingEvents",!1),t.vastTracker=new e.DMVAST.tracker(t.ad,t.creative),R(e,t,"playPlayer: vastTracker set",!1),!t.durationKnown&&t.vastTracker.duration&&t.vastTracker.duration>0&&(t.duration=t.vastTracker.duration,R(e,t,"playPlayer: duration from tracker: "+t.duration,!1)),t.vastTracker.playerId=e.playerId,t.vastTracker.subid=e.subid,t.vastTracker.domain=e.domain,t.vastTracker.vastId=t.vastId,t.vastTracker.duration=t.duration,t.vastTracker.setDuration(t.duration),t.vastTracker.on("clickthrough",function(e){t.adClickUrl=e}))}(e,t),e.scheduledPixelSent||(R(e,t,"playPlayer: first play - logging scheduled pixel",!1),e.scheduledPixelSent=!0,$(e,M.E_SCHEDULED,{},{})),R(e,t,"playPlayer: playing media",!1),e.parallelStartAd||Je(e,t),t.gotAdImpression=!1,t.adStartCount=0,t.startAdTime=Date.now(),t.state=Ce.Started,ii(e,t,"adstartreq"),R(e,t,"startAd called",!1);try{e.serverEvents.demandEvent(t,{name:"startAd"});var s=Ct(e);s&&e.width!==s.width&&e.height!==s.height&&Gr(e,"normal"),a=t.startAd(n)}catch(n){a=n.message,R(e,t,"startAd gave exception on "+t.adType+" startAd: "+n.message,!1)}return a?(xn(e,t.vastId,42,a,null,t,e.parallelStartAd),wr(e,t,17,{code:42,message:a})):R(e,t,"playPlayer: done",!1),!a},function(){return!1})}function Vt(e,t,n){for(var r=0,i=e.plist;r<i.length;r++){var o=i[r];R(e,o,"state is: "+o.state,!0),o.vastId==t&&o.canPlay(n)&&(e.playingVastId=t,Ot(e,o,n))}}function Pt(e,t,n,r){void 0===r&&(r=null);for(var i=r,o=0,a=e.plist;o<a.length;o++){var s=a[o];n(s)&&(i=null==i?s.group:t(s.group,i))}return i}function Mt(e,t){var n=function(n){return n?e.timers.waitHigherGroup[n-1]-(t-e.fetchTime)/1e3:-1},r=Pt(e,Math.min,function(e){return e.retryCount<=1&&!e.errorCount});if(null==r)return{};r=Pt(e,Math.max,function(e){return n(e.group)<=0},r);var i=Pt(e,Math.min,function(e){return e.group>r});return null==i?{group:r}:{group:r,waitingGroup:i,wait:n(i)}}function Nt(e,t){if(void 0===t&&(t=!1),"function"==typeof e.playNext)return e.playNext(t);C(e,"playNext fired",!1);var n=Mt(e,e.now()),r=n.group,i=void 0===r?null:r,o=n.waitingGroup,a=n.wait;if(e.frozen)return C(e,"playNext canceled - player frozen",!1),!1;if(null!=i&&null!=o&&e.playNextWaitGroup!=o&&a&&(e.playNextWaitGroup=o,C(e,"playNext scheduled, group "+o+" - wait "+a,!1),e.playNextRepeatTimer.Seconds(a).start(function(){C(e,"playNext scheduled - call",!1),Nt(e)})),!e.autoplay&&!t)return C(e,"playNext canceled - manual mode - not trying to auto play",!1),!1;if(e.postRoll)return C(e,"playNext canceled - postRoll, still playing content",!1),!1;if(e.anyPlaying)return C(e,"playNext canceled - still playing previous media",!1),!1;if(C(e,"playNext called, allowed group: "+(null!=i?i:"any"),!1),e.parallelStartAd){for(var s=!1,l=0,d=e.plist;l<d.length;l++){if((p=d[l]).state==Ce.Started&&p.sureFastStart){if(((new Date).getTime()-p.startAdTime)/1e3<3)return R(e,p,"is sure fast starter and is trying to start - quiting",!1),!1;R(e,p,"is sure fast starter and is trying to start but passed grace time",!1)}}for(var u=0,c=e.plist;u<c.length;u++){var p=c[u];if(R(e,p,"state is: "+p.state,!0),p.canPlay(t,i)){if(R(e,p,"is ready to play",!1),s=!0,Ot(e,p,t),e.anyPlaying)return!0;if(p.sureFastStart)return R(e,p,"sure fast start - breaking",!1),!0}else p.canPlay(t)&&R(e,p,"is ready but on different group",!1)}return s}for(var h=null,A=0,f=e.plist;A<f.length;A++){p=f[A];R(e,p,"state is: "+p.state,!0),p.canPlay(t,i)&&(h?(p.errorCount<h.errorCount||p.errorCount==h.errorCount&&p.group<h.group)&&(h=p):h=p)}if(h){R(e,h,"is ready to play",!1),e.beingVpaid&&(e.autoplay=!1);var m=Ot(e,h,t);return e.anyPlaying=e.anyPlaying||m,!0}return C(e,"no vast is ready to play",!0),!1}function Ut(e,t){var n=function(e,t){for(var n=!0,r=!0,i=0,o=e.plist;i<o.length;i++){var a=o[i];a.group<t&&a.retryCount<=1&&!a.errorCount&&(a.state<Ce.Initing?n=!1:a.state<Ce.Playing&&(r=!1))}return{allHigherGroupInited:n,allHigherGroupTriedOnce:r}}(e,t.group),r=n.allHigherGroupInited,i=n.allHigherGroupTriedOnce,o=Mt(e,e.now()).group;if(null!=o&&t.group>o&&("video"==t.adType||!r))return{passed:!1,reason:"wait all from higher group"};if("video"!=t.adType){var a=function(e){for(var t=0,n=0,r=e.plist;n<r.length;n++){var i=r[n];"video"!=i.adType&&i.state>=Ce.Initing&&i.state<=Ce.Completed&&t++}return t}(e);return e.vpaidInitLimit&&a>=e.vpaidInitLimit?{passed:!1,reason:"reached inited vast limit: "+e.vpaidInitLimit}:t.duplicatedNow?(t.duplicatedNow=!1,{passed:!0,reason:"just duplicated"}):t.group<=1&&t.errorCount<=1?{passed:!0,reason:"and no/low error count"}:t.group>1&&!i?{passed:!1,reason:"all group 1 have not tried once"}:t.group>1&&e.anyPlaying?{passed:!1,reason:"player is in impression"}:t.group<=1?{passed:!0,reason:"and can init more"}:r?{passed:!0,reason:"and can init more, all higher group inited"}:{passed:!1,reason:"default reject reason"}}return{passed:!0,reason:"default pass reason"}}function jt(e,t,n){R(e,t,t.adType+" was initialized",!1);var r=function(n){var r="initAd throttler "+(n.passed?"passed,":"-")+" group "+t.group+": "+n.reason;R(e,t,r,!1)},i=Ut(e,t);if(r(i),i.passed)n();else{t.initAdThrottler=setInterval(function(){!function(e,t){L("initAd throttler",{players:e},function(){i=Ut(e,t),r(i),i.passed&&(null!=t.initAdThrottler&&(clearInterval(t.initAdThrottler),t.initAdThrottler=null),n())})}(e,t)},500)}}var Bt=function(){function e(e,t){var n=this;this.list=[],this.currentVideoIndex=0,this.controlBar=!1,this.loop=!1,this.visible=!0,this.started=!1,this.paused=!1,this.variantsList=[],this.selectedVariant=0,this.variantSearchPattern=/(?=\.mp4$)/,this.wait=!1,this.videoChanged=!1,this.onLoadedMetaData=function(){n.savedTime&&(n.video.currentTime=n.savedTime,n.savedTime=null)},this.onCanplay=function(){n.wait||(n.videoChanged=!1,n.hideSpinner());var e=je(n.video);return e&&(e.style.width="100%",e.style.height="0",setTimeout(function(){e.style.height="100%"},0),n.paused&&n.pause()),!0},this.onPlaying=function(){n.videoChanged=!1,n.hideSpinner(),n.poster&&n.removePoster()},this.onPlay=function(){je(n.video)&&n.onPlaying(),Jr(n.players,"content"),n.started?n.paused&&(C(n.players,"got content resumed callback",!0),ii(n.players,null,"content.resumed"),n.paused=!1):(n.started=!0,n.paused=!1,ii(n.players,null,"content.started"))},this.onEnded=function(){n.video.pause();var e=!n.nextVideo(),t=0==n.currentVideoIndex;ii(n.players,null,"content.completed",{src:n.video.src,withErrors:!1,listCompleted:t,loopCompeleted:e}),e?function(e){e.frozen&&ii(e,null,"player.finished"),e.postRoll&&(e.postRoll=!1,Nt(e))}(n.players):n.players.autoScheduleReset&&!ti(n.players)||n.start()},this.onError=function(e){var t=Fe(e.currentTarget);ii(n.players,null,"content.error",{src:n.video.src,errorMsg:t}),ii(n.players,null,"content.completed",{src:n.video.src,withErrors:!0,errorMsg:t}),C(n.players,"Error loading content video: "+n.getUrl()+" msg:"+t,!1)},this.onPause=function(){n.video.readyState>0&&!(n.video.duration>0&&n.video.duration>n.video.currentTime)||(n.paused||(C(n.players,"content paused callback",!1),ii(n.players,null,"content.paused"),n.paused=!0),n.callPauseTimer=setTimeout(function(){var e=n.nativeContolsVisible();C(n.players,"content paused - "+(e?"allowed":"ignored"),!1),e&&Qr(n.players,"content")},n.players.info.mobile?1e3:0))},this.onVolumeChange=function(){var e=n.nativeContolsVisible();C(n.players,"content volumeChange - "+(e?"allowed":"ignored"),!1),e&&Kr(n.players,n.video.volume,n.video.muted)},this.onSeeked=function(){0==n.video.currentTime||je(n.video)||(C(n.players,"got content seek callback",!1),ii(n.players,null,"content.seeked",{time:n.video.currentTime}))},this.onClick=function(){var e=n.getClickData(),t=e.targetUrl,r=e.clickUrl;ii(n.players,null,"ui.contentClick",{url:t,clickUrl:r,variant:n.selectedVariant,index:n.currentVideoIndex,time:n.video.currentTime}),r&&(ii(n.players,null,"click",{url:r}),window.open(r,"_blank"),n.players.serverEvents.supplyEvent({name:"ContentClick",clickUrl:r,mediaUrl:t}),$(n.players,M.E_CONTENT_CLICK,{url:r}))},this.setVideoVariant=function(e){null!=e&&n.selectedVariant!==e&&(n.savedTime=n.video.currentTime,n.selectedVariant=e,n.setVideoSrc(n.currentVideoIndex),n.start())},this.getVideoVariant=function(){return n.selectedVariant},this.getVideoVariantList=function(){return n.variantsList},this.players=e,this.init(t),this.create()}return e.prototype.init=function(e){null!=e.video.shuffle&&(this.shuffle=e.video.shuffle),null!=e.video.loop&&(this.loop=e.video.loop),this.list=this.getList(e.video),this.clickUrl=e.video.clickUrl,this.initPoster(e),e.variants&&!this.players.usejsv&&(this.variantsList=e.variants.list||this.variantsList,this.selectedVariant=e.variants.selected||this.selectedVariant,this.variantSearchPattern=e.variants.searchPattern||this.variantSearchPattern),this.controlBar=e.video.controlBar&&"native"==this.players.controlBarType,this.wait=e.wait||this.players.schedule&&!!this.players.schedule.content,this.players.mainAutoplay||(this.list.length>0?this.videoChanged=!0:this.wait=!0)},e.prototype.getList=function(t){var n=[];t.list?n=t.list:t.url&&(n=e.getListFromUrls(t.url));var r=null!=t.start&&t.start<n.length?t.start:0;if(this.shuffle)if(null!=t.start){var i=n[r];n.splice(r,1),(n=Object(D.k)(n)).splice(r,0,i)}else n=Object(D.k)(n);return this.currentVideoIndex=r,n},e.prototype.initPoster=function(e){this.posterUrl=e.image.url,this.posterPosition=e.image.position},e.prototype.create=function(){this.container=document.createElement("div"),Me(this.container,"content_container"),this.players.divElem&&this.players.divElem.appendChild(this.container),V(this.container,"contentClick",{players:this.players},[{type:"click",action:this.onClick}]),this.video=Ue(this.players,!0),this.video.controls=this.controlBar,this.video.autoplay=!1,this.video.loop=!1,Me(this.video,"content_video"),V(this.video,"content video event",{players:this.players},[{type:"loadedmetadata",action:this.onLoadedMetaData},{type:"canplay",action:this.onCanplay},{type:"play",action:this.onPlay},{type:"playing",action:this.onPlaying},{type:"pause",action:this.onPause},{type:"ended",action:this.onEnded},{type:"error",action:this.onError},{type:"seeked",action:this.onSeeked},{type:"volumechange",action:this.onVolumeChange}]),this.container&&this.container.appendChild(this.video),this.setVideoSrc(),this.videoChanged=!1,this.players.usejsv||this.video.load(),this.posterUrl&&(this.createPoster(),this.setPosterImage(this.posterUrl,this.posterPosition))},e.prototype.setVideoSrc=function(e){var t=this;void 0===e&&(e=this.currentVideoIndex),this.currentVideoIndex=e;var n=this.list[this.currentVideoIndex],r=n&&n.url;r&&this.variantsList[this.selectedVariant]&&(r=r.replace(this.variantSearchPattern,this.variantsList[this.selectedVariant].file)),r&&(!function(e){return/.+\.m3u8$/.test(e)}(r)||function(e){return e.canPlayType("application/vnd.apple.mpegurl")}(this.video)?Be(this.players,this.video,r):!function(){try{if(Hls&&Hls.isSupported())return!0}catch(e){}return!1}()?ii(this.players,null,"content.error",{src:r,errorMsg:"hls is not supported"}):(C(this.players,"init hls",!0),this.hls=function(e,t,n){try{var r=new Hls;return r.loadSource(e),r.attachMedia(t),r.on(Hls.Events.ERROR,function(e,t){if(t.fatal)switch(t.type){case Hls.ErrorTypes.NETWORK_ERROR:n("fatal network error encountered, try to recover"),r.startLoad();break;case Hls.ErrorTypes.MEDIA_ERROR:n("fatal media error encountered, try to recover"),r.recoverMediaError();break;default:n("fatal error, cannot recover"),r.destroy()}}),r}catch(e){return null}}(r,this.video,function(e){t.destroyHls(),ii(t.players,null,"content.error",{src:r,errorMsg:e})})),ii(this.players,null,"content.changed",{url:this.video.src,clickUrl:n&&n.clickUrl||this.clickUrl,index:this.currentVideoIndex,variant:this.selectedVariant,time:this.video.currentTime}),this.videoChanged=!0)},e.prototype.nativeContolsVisible=function(){return this.visible&&this.video.controls},e.prototype.getClickData=function(){if(this.poster)return{targetUrl:this.posterUrl,clickUrl:this.clickUrl};var e=this.list[this.currentVideoIndex].clickUrl||this.clickUrl;return{targetUrl:this.video.src,clickUrl:e}},e.prototype.createPoster=function(){this.poster=document.createElement("div"),Me(this.poster,"content_poster"),this.spinner?this.container&&this.container.insertBefore(this.poster,this.spinner):this.container&&this.container.appendChild(this.poster)},e.prototype.removePoster=function(){this.poster&&this.poster.parentNode&&this.poster.parentNode.removeChild(this.poster),this.poster=null},e.prototype.createSpinner=function(){this.spinner=document.createElement("div"),Me(this.spinner,"spinner"),this.container&&this.container.appendChild(this.spinner)},e.prototype.showSpinner=function(){this.spinner||this.createSpinner(),this.spinner.style.display=""},e.prototype.hideSpinner=function(){this.spinner&&(this.spinner.style.display="none")},e.prototype.destroyHls=function(){try{this.hls&&(this.hls.destroy(),this.hls=null)}catch(e){}},e.prototype.nextVideo=function(){return this.destroyHls(),this.started=!1,this.currentVideoIndex<this.list.length-1?(this.setVideoSrc(this.currentVideoIndex+1),!0):!!this.loop&&(1==this.list.length?this.video.currentTime=0:this.setVideoSrc(0),!0)},e.prototype.play=function(){this.video&&this.video.src&&ge(this.players,this.video,this.video.play(),"content")},e.prototype.pause=function(){this.video&&!this.video.paused&&this.video.pause()},e.prototype.showContent=function(){this.container&&!this.visible&&(this.visible=!0,this.container.style.zIndex="10001",this.container.style.display="")},e.prototype.hideContent=function(){this.container&&this.visible&&(this.visible=!1,this.container.style.zIndex="1",this.container.style.display="none")},e.prototype.setContent=function(e){this.init(e),this.video&&(this.video.controls=this.controlBar,this.setVideoSrc(0)),this.setContentImage(),ti(this.players)&&this.start()},e.prototype.setContentUrls=function(e,t){this.list=this.getList({url:e}),this.video&&(t&&(this.savedTime=this.video.currentTime),this.setVideoSrc(0),this.start())},e.prototype.setPosterImage=function(e,t){this.poster&&(this.poster.style.backgroundImage="url("+A(this.players.protocol,e)+")",t&&(this.poster.style.backgroundSize=t))},e.prototype.setContentImage=function(e){e&&this.initPoster(e),this.posterUrl?(this.poster||this.createPoster(),this.setPosterImage(this.posterUrl,this.posterPosition)):this.removePoster()},e.prototype.seekContent=function(e){this.video&&(this.video.currentTime=e)},e.prototype.isVisible=function(){return this.visible},e.prototype.removeContent=function(){this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container)},e.prototype.setVolume=function(e,t,n){this.video&&(!this.players.muteToPlay||t||n)&&(void 0!==t&&this.video.muted!==t&&(this.video.muted=t),this.video.volume!==e&&(this.video.volume=e))},e.prototype.start=function(){var e=this;this.players.closed||L("startContent",{players:this.players,log:!0},function(){e.videoChanged||e.wait?e.showSpinner():e.hideSpinner(),e.players.anyPlaying||(e.showContent(),e.players.paused||e.wait?e.pause():e.play())})},e.prototype.hide=function(){this.pauseContent(),this.hideContent()},e.prototype.pauseContent=function(){this.hideSpinner(),this.pause()},e.prototype.setWait=function(e){this.wait=e},e.prototype.getUrl=function(){return this.list.length>0?this.list[this.currentVideoIndex]&&this.list[this.currentVideoIndex].url:""},e.prototype.getHTMLVideoElement=function(){return this.video&&!je(this.video)?this.video:null},e.prototype.getProgress=function(){var e=this.video.duration;return{time:Math.min(this.video.currentTime,e),duration:e}},e.getListFromUrls=function(e){return("string"==typeof e?e.split(","):e).map(function(e){return{url:e}})},e}();function Ft(e,t){var n=e.contentDefinition;try{("string"==typeof t||t instanceof Array)&&(t={video:{url:t}}),t.video&&(("string"==typeof t.video||t.video instanceof Array)&&(t.video={url:t.video}),t.video.url&&(n.video.url=t.video.url),t.video.clickUrl&&(n.video.clickUrl=t.video.clickUrl),t.video.list?n.video.list=t.video.list:t.video.url&&(n.video.list=Bt.getListFromUrls(t.video.url)),null!=t.video.start&&(n.video.start=t.video.start),null!=t.video.shuffle&&(n.video.shuffle=!!t.video.shuffle),null!=t.video.loop&&(n.video.loop=!!t.video.loop),null!=t.video.controlBar&&(n.video.controlBar=!!t.video.controlBar)),qt(e,t.image),t.variants&&(n.variants=n.variants||{},t.variants.list&&(n.variants.list=t.variants.list),t.variants.selected&&(n.variants.selected=t.variants.selected),t.variants.searchPattern&&(n.variants.searchPattern=t.variants.searchPattern)),null!=t.wait&&(n.wait=!!t.wait)}catch(t){C(e," overrride content parameters error"+t.message,!1)}}function qt(e,t){var n=e.contentDefinition;t?("string"==typeof t&&(t={url:t}),t.url&&(n.image.url=t.url),t.position&&(n.image.position=t.position)):null===t&&(n.image={})}function Ht(e,t,n){e.content instanceof Bt&&e.content.setContentUrls(t,n)}function Qt(e,t,n){qt(e,null!==t?{url:t,position:n}:null),e.content instanceof Bt&&e.content.setContentImage(e.contentDefinition)}function Jt(e){L("createContentPlayer",{players:e,log:!0},function(){e.contentDefinition.external?e.content=new Ke(e,e.contentDefinition):e.content=new Bt(e,e.contentDefinition)})}function Wt(e,t,n){return function(r){var i=(new Date).getTime().toFixed(0);r=(r=r.replace(/\[(CB|CACHE_BUSTER|CACHEBUSTING)\]/g,i)).replace(/\[(DIVID|CONTAINER_ID)\]/g,e.rootDivElem?e.rootDivElem.id:e.divId).replace(/\[(WIDTH|CONTAINER_WIDTH)\]/g,e.width?e.width.toFixed():"").replace(/\[(HEIGHT|CONTAINER_HEIGHT)\]/g,e.height?e.height.toFixed():""),e.info&&(r=(r=(r=(r=r.replace(/\[DEVICEOS\]/gi,encodeURIComponent(e.info.os))).replace(/\[DEVICEOSV\]/gi,encodeURIComponent(e.info.osv))).replace(/\[DEVICEMAKE\]/gi,encodeURIComponent(e.info.make))).replace(/\[DEVICEMODEL\]/gi,encodeURIComponent(e.info.model))),r=(r=r.replace(/\[UA\]/g,encodeURIComponent(navigator.userAgent))).replace(/\[SUPPLY_ID\]/g,e.playerId.toFixed()).replace(/\[PLAYER_ID\]/g,e.playerId.toFixed()).replace(/\[SUBID\]/g,encodeURIComponent(e.subid)).replace(/\[PAGE_TITLE\]/g,encodeURIComponent(e.pageTitle)).replace(/\[URL\]/g,encodeURIComponent(e.domain)).replace(/\[URL_DETECTED\]/g,encodeURIComponent(e.domainDetected)),e.appParams&&(r=r.replace(/\[APP_NAME\]/g,encodeURIComponent(e.appParams.appn)).replace(/\[APP_BUNDLE\]/g,encodeURIComponent(e.appParams.appb)));var o=e.content instanceof Bt?e.content.getUrl():"",a=Object(D.d)(o||""+e.playerId+e.subid).toFixed(0);if(r=r.replace(/\[SESSION_ID\]/g,e.sessionId).replace(/\[NETWORK_ID\]/g,e.networkId&&e.networkId.toFixed()).replace(/\[VIDEO_DESCRIPTION\]/g,"Entertainment").replace(/\[VIDEO_TITLE\]/g,"Entertainment").replace(/\[VIDEO_ID\]/g,a).replace(/\[VIDEO_DURATION\]/g,"00:30:00").replace(/\[VIDEO_KEYWORDS\]/g,"Entertainment").replace(/\[VIDEO_FILE_URL\]/g,encodeURIComponent(o)).replace(/\[AUTOPLAY\]/g,"1").replace(/\[MUTED\]/g,"1"),e.customParams)for(var s=0;s<e.customParams.length;s++){var l=e.customParams[s];void 0!==l&&(r=r.replace(new RegExp("\\[CUSTOM"+s+"\\]","g"),encodeURIComponent(l)))}if(n&&(r=r.replace(/\[CLICK_URL\]/g,encodeURIComponent(n.clickUrl))),t){r=r.replace(/\[ROUND_NO\]/g,t.totalRoundNo.toFixed());var d=t.playerId,u=t.cxvid||t.vastId,c=t.vastId;r=r.replace(/\[DMID\]/g,t.demandId).replace(/\[XSUPPLY_ID\]/g,d.toFixed()).replace(/\[DEMAND_ID\]/g,u).replace(/\[XDEMAND_ID\]/g,c),t.customVars&&(r=r.replace(/\[XRPM\]/g,t.customVars.rpm||"").replace(/\[RPM\]/g,(t.cxvid?t.customVars.cx_rpm:t.customVars.rpm)||""))}if(e.customVars)for(var p in e.customVars)e.customVars.hasOwnProperty(p)&&(r=r.replace(new RegExp("\\["+p+"\\]","g"),encodeURIComponent(e.customVars[p])));return r}}var Xt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gt=function(e){function t(t,n,r){var i=e.call(this)||this;i.maxFailedVastRetries=0,i.maxAdStarts=0,i.lastChanceRetry=!1,i.vastErrorWasReported=!1,i.adType=null,i.curAdStarts=0,i.errorCount=0,i.totalRoundNo=0,i.retryCount=0,i.rotationNo=0,i.durationKnown=!1,i.viewable=!1,i.logStartWasDone=!1,i.logLoadWasDone=!1,i.vastResponseXML=null,i.requestedVastURL=null,i.wrapperCount=0,i.delay={},i.skippable=!1,i.unlocked=!1,i.firedEvents={},i.finishPromiseResolve=function(){},i.finishPromise=new a.Promise(function(e){i.finishPromiseResolve=e}),i.timers=null,i.flowTimeout=new l.a,i.sameVastTimer=new l.a,i.startAdHalfTimeout=new l.a,i.impressionAfterStartTimeout=new l.a,i.requeryTimeout=null,i.initAdThrottler=null,i.callPauseTimer=new l.a(100),i.skipTimer=new l.a,i.failSkipTimer=new l.a(300),i.nonLinearCompleteTimer=new l.a,i.state=Ce.None,i.videoElement=null,i.companionsElementDiv=null,i.moatAPI=null,i.brandMenuHandlers={},i.allowSameVastLoad=function(){return!i.reachedMaxAdStarts()&&!Un(i.players,null,"SameVastLoad")},i.players=t,i.gpvDemand=n,Object(S.e)(S.b,i,{cxvid:Object(S.j)(n.cxvid),cxpid:Object(S.j)(n.cxpid),demandId:Object(S.k)(n.dmid),group:Object(S.j)(n.group,NaN),vastId:Object(S.j)(n.id,NaN),vastURL:Object(S.k)(n.url),playerId:Object(S.j)(n.pid,i.players.playerId),maxAdStarts:Object(S.j)(n.mas),cookie:Object(S.k)(n.ck),cookieJson:n.cookieJson,delay:n.delay,beacons:n.callbacks}),i.uniqId=++i.players.curUniq,i.originalUniqId=r?r.originalUniqId:i.uniqId,function(e,t,n){var r={};Object(S.g)(function(i,o){var a=[i.parser(n[i.parName]),e[o]].filter(i.filter);a.length>1&&i.prio?t[o]=i.prio(a[0],a[1]):a.length>0&&(t[o]=a[0]),r[o]=t[o]},ke),R(e,t,"Demand configuration (Effective):"+JSON.stringify(r),!1)}(t,i,n),i.timers=Object(S.d)({},t.timers,n.timers),i.sameVastTimer.Seconds(i.timers.duplicate),i.startAdHalfTimeout.Seconds(i.timers.startAdHalf),i.impressionAfterStartTimeout.Seconds(i.timers.impressionAfterStart);var o=!1;n.mvr&&(i.maxFailedVastRetries=r?r.maxFailedVastRetries:Object(S.j)(n.mvr),i.maxFailedVastRetries>1&&i.maxFailedVastRetries<50&&(i.maxFailedVastRetries=2*i.maxFailedVastRetries,o=!0)),function(e,t,n){var r={category:"failedretries"};t?(r.event="vast-gpv",r.vastMaxRetries=t.maxFailedVastRetries/(n?2:1)):(r.event="players-gpv",r.playerMaxRetries=e.maxFailedVastRetries/(n?2:1)),oe(e,r,Ee)}(i.players,i,o);var s=n.capt,d=Object(S.j)(n.aq,null),u=Object(S.j)(n.aqr,null);switch(i.quotaExpirationSec=Object(S.j)(n.caps,null),i.quotaExpirationTime=null!=i.quotaExpirationSec?(new Date).getTime()+1e3*i.quotaExpirationSec:null,s){case _n.AD_REQUEST:i.allocatedQuotaReq=d,i.allocatedQuotaImp=u;break;case _n.AD_START:default:i.allocatedQuotaImp=d,i.allocatedQuotaReq=u}return i.customVars={rpm:n.rpm,cx_rpm:n.cxrpm},r&&(i.rotationNo=r.rotationNo+1,i.totalRoundNo=r.totalRoundNo,i.curAdStarts=r.curAdStarts,i.duplicatedNow=!0,i.withCredentials=r.withCredentials),i}return Xt(t,e),t.prototype.duplicatePlayed=function(){return R(this.players,this,"duplicating player data",!1),new zt(this.players,this.gpvDemand,this)},t.prototype.reachedMaxAdStarts=function(){return this.curAdStarts>=Object(D.j)([S.c,Math.min],this.maxAdStarts,this.players.demandMaxAdStarts,1/0)},t.prototype.isNonLinear=function(){return!1},t.prototype.initNonLinearCompleter=function(){},t.prototype.unlockAdSlot=function(){this.videoElement&&(this.unlocked=!0,this.videoElement.load())},t.prototype.isUnlocked=function(){return this.unlocked},t.prototype.fetchAdUrl=function(e){},t.prototype.initCompanion=function(e){if(void 0===e&&(e=document),this.companionHTML)try{this.companionsElementDiv||(this.companionsElementDiv=e.createElement("div"),this.companionsElementDiv.setAttribute("style","width:100%;height:100%;position:relative;top:-"+this.players.height+"px;z-index:0;"),this.insertCompanion()),this.companionsElementDiv&&(R(this.players,this,"companionHTML: "+this.companionHTML,!1),this.companionsElementDiv.innerHTML=this.companionHTML)}catch(e){}},t.prototype.insertCompanion=function(){this.players.divElem.appendChild(this.companionsElementDiv)},t.prototype.initMedia=function(){var e=this;return this.players.domIsReady?R(this.players,this,"dom is ready - calling initMedia",!1):R(this.players,this,"dom is not ready - initMedia will be called later",!1),this.adContainersReady.then(function(){e.state=Ce.Loading,R(e.players,e,"initMedia: initializing "+e.adType+", url "+e.mediaURL,!1)})},t.prototype.canPlay=function(e,t){return this.state==Ce.Ready&&(this.players.clickToPlay?e||this.isUnlocked():void 0==t||this.group<=t)},t.prototype.onAdResponse=function(){return function(e,t){te(e,t.playerId,t.vastId,t.demandId),qe(t)&&te(e,t.cxpid,t.cxvid),null!=t.allocatedQuotaReq&&(t.allocatedQuotaReq-=1)}(this.players,this),!Un(this.players,this,"FetchVastResponse")},t.prototype.getRequeryFrequency=function(){var e=0;return e=this.players.freqRetry?this.errorCount<10?1e3+Math.floor(500*Math.random()):this.errorCount<100?2e3+Math.floor(500*Math.random()):this.errorCount<110?2e3+Math.floor(1500*Math.random()):1e4:1==this.errorCount?200:this.errorCount<4?1e3:this.errorCount<10?1e3*this.errorCount:this.errorCount<100?1e4:100==this.errorCount?2e3:this.errorCount<104?3e3:this.errorCount<110?6e3:3e4,e*=this.players.vastWaitFactor,this.lastChanceRetry&&(e=50),R(this.players,this,"wait is set to "+e+", ec: "+this.errorCount,!1),e},t.prototype.syncVolume=function(e){this.setAdVolume&&this.setAdVolume(this.players.volume,this.players.muted,e)},t.prototype.getSkipOffset=function(){return this.skipOffset},t.prototype.getAdSkippableState=function(){var e=this.getSkipOffset();if(e>0){var t=this.getProgress(),n=t&&t.time>0&&t.time||this.playsForSeconds();if(n>=0){var r=Math.floor(n)-e;return!(r<0)||r}}return!1},t.prototype.isSkippable=function(){var e=this.getAdSkippableState();return"number"==typeof e?e<0:e},t.prototype.skipAd=function(){this.onSkip()},t.prototype.onSkip=function(){R(this.players,this,"ad was skippped",!1),ii(this.players,this,"ad.skipped"),this.players.serverEvents.demandEvent(this,{name:"AdSkipped"}),Ge(this.players,M.E_AD_SKIPPED,this,{}),!this.skipVastTracker&&this.vastTracker&&this.vastTracker.skip(),this.players.beingVpaid&&Ir(this.players,"jsAdSkipped",{}),this.failSkipTimer.cancel(),wr(this.players,this,2)},t.prototype.allowUnmute=function(e,t){return!this.players.muteToPlay||this.players.muteToPlay&&(e||t||this.isUnlocked())},t.prototype.showControlBar=function(){return null==this.controlBar||this.controlBar},t.prototype.showAd=function(){this.adContainer&&(this.adContainer.style.zIndex="10000",this.adContainer.style.position="absolute")},t.prototype.hideAd=function(){this.adContainer&&(this.adContainer.style.zIndex=(1-this.uniqId).toString())},t.prototype.destroyAd=function(){},t.prototype.verifyVastTrackerPropress=function(e){var t=Rn[e];this.skipVastTracker||(this.vastTracker?(!function e(t,n,r){if(!n||!r||!r.vastTracker.quartiles)return;var i=r.vastTracker.quartiles;var o=Rn[t];var a=i[o];t==wn.COMPLETE&&(a=r.vastTracker.assetDuration);if(!a)return void R(n,r,"unknown vast tracker quarter - "+o,!1);for(var s in i)s&&i.hasOwnProperty(s)&&(!r.vastTracker.progress||r.vastTracker.progress<i[s])&&i[s]<a&&e(Object.keys(i).indexOf(s)+1,n,r);!r.vastTracker.progress||r.vastTracker.progress<=a?(R(n,r,"advancing progress accordingly",!1),r.vastTracker.setProgress(a)):R(n,r,"progress is in the right place",!1)}(e,this.players,this),e==wn.COMPLETE&&this.vastTracker.complete()):re(this.players,6,"no vastTracker for "+t,null))},t.prototype.onQuartile=function(e){if(this.state==Ce.Playing){var t=Rn[e];R(this.players,this,"got ad "+t+" callback",!1),this.verifyVastTrackerPropress(e),this.players.beingVpaid&&Ir(this.players,"jsAd"+(t&&t[0].toUpperCase()+t.slice(1)),{}),We(this.players,this,e),ii(this.players,this,"ad."+t,{listCompleted:this.players.frozen})}},t.prototype.onComplete=function(){this.verifyVastTrackerPropress(wn.COMPLETE),this.players.beingVpaid&&(Ir(this.players,"jsAdComplete",{}),Ir(this.players,"jsAdStopped",{}),this.players.divElem.style.display="none"),We(this.players,this,wn.COMPLETE),ze(this.players,this,"adcomplete")},t.prototype.viewableForSeconds=function(){return this.viewable&&this.viewableAt?(Date.now()-this.viewableAt)/1e3:-1},t.prototype.playsForSeconds=function(){return this.playedAt?(Date.now()-this.playedAt)/1e3:-1},t.prototype.getErrorEvent=function(e){var t={name:"AdError",errorCode:10,message:e.message},n=!1;return this.state==Ce.Started?71==e.code||70==e.code?t={name:"AdParallelStartedError",errorCode:e.code,message:e.message}:41==e.code?(t={name:"AdImpressionError",errorCode:e.code,message:e.message,timeout:!0},n=!0):(t={name:"AdImpressionError",errorCode:10==e.code?40:e.code,message:e.message},n=!0):this.state==Ce.Playing&&60==e.code&&(t={name:"AdLongImpressionError",errorCode:e.code,message:e.message,timeout:!0},n=!0),{event:t,timed:n}},t}(Te);function Kt(){console.error("Abstract function call",(new Error).stack)}var zt=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}return Xt(t,e),t.prototype.initAd=function(){Kt()},t.prototype.pauseAd=function(){Kt()},t.prototype.resumeAd=function(){Kt()},t.prototype.showAd=function(){Kt()},t.prototype.hideAd=function(){},t.prototype.startAd=function(){Kt()},t.prototype.stopAd=function(){},t.prototype.clearAd=function(){},t.prototype.destroyAd=function(){},t.prototype.resizeAd=function(e,t,n){},t.prototype.setAdVolume=function(e,t,n){},t.prototype.getAdVolume=function(){return null},t.prototype.getProgress=function(){return null},t.prototype.showControlBar=function(){return!0},t}(Gt);function Yt(e,t){t.adStartCount++,e.beingVpaid&&Ir(e,"jsAdStarted",{}),t.viewableOnStart&&ur(e,t)}function Zt(e,t){if(R(e,t,"adImpression called",!1),function(e,t){e.anyAdPlayed||(e.anyAdPlayed=!0,$(e,M.E_ADPLAYED,{},{gpvOrdNo:t.originalUniqId}),e.startTime>(new Date).getTime()&&w(e,{debugLogReason:"negative adplayed"})),qe(t)&&$(e,M.E_ADPLAYED,{},{playerId:t.playerId})}(e,t),t.gotAdImpression)return R(e,t,"second ad impression - ignoring",!1),!0;if(e.serverEvents.demandTimedEvent(t,{name:"AdImpression"}),!e.submitDebugLogForVastId||e.submitDebugLogForVastId!=t.vastId&&e.submitDebugLogForVastId!=t.cxvid||w(e,{keepDebugLog:!0}),t.skipVastTracker||null!=t.vastTracker){if(function(e,t){e.info.mobile&&oe(e,{category:"jsv",event:"impression",usejsv:e.usejsv,label:t},he)}(e,t.adType),t.state==Ce.Finished)return R(e,t,"adImpression canceled - player data is finishing",!1),!1;if(e.parallelStartAd&&e.anyPlaying&&t.state!=Ce.Playing)return Ar(e,t),xn(e,t.vastId,71,"parallel double started",null,t),wr(e,t,10,{code:71,message:"parallel double started"}),!1;if(e.paused&&!e.allowPausedImpressions)return Ar(e,t),xn(e,t.vastId,61,"impression on paused",null,t),wr(e,t,4,{code:61,message:"impression on paused"}),!1;if(e.anyPlaying=!0,t.state=Ce.Playing,t.gotAdImpression=!0,ur(e,t),yr(e,t),t.initNonLinearCompleter(),e.parallelStartAd){e.beingVpaid&&(e.autoplay=!1),C(e,"parallel startAd mode - stopping any other opened startAd",!1),Je(e,t);for(var n=e.plist.length-1;n>=0;n--){var r=e.plist[n];r.vastId!=t.vastId&&r.state==Ce.Started&&(Ar(e,r),xn(e,r.vastId,70,"parallel started",null,r),wr(e,r,11,{code:70,message:"stopped due to parallel started"}))}C(e,"parallel startAd mode - stopping any other opened startAd - done",!1)}return function(e,t){var n=((new Date).getTime()-t.startAdTime)/1e3;Ge(e,M.E_ADSTART,t,{time:n.toFixed(1),gpvOrdNo:t.originalUniqId,retryTestGroup:e.retryTestGroup,widthDetected:e.widthDetected,heightDetected:e.heightDetected,vastType:Qe(t),actualVastType:He(t)})}(e,t),null!=t.allocatedQuotaImp&&(t.allocatedQuotaImp-=1),ii(e,t,"adstart"),ii(e,t,"ad.start"),ze(e,t,"adstart"),t.skipVastTracker||t.vastTracker.load(),e.beingVpaid&&(R(e,t,"has calling VPAID object - calling events",!1),Ir(e,"jsAdImpression",{})),e.curAdStarts++,t.curAdStarts++,e.maxAdStarts&&e.curAdStarts>=e.maxAdStarts&&(R(e,t,"reached maximum number of allowed ad starts, freezing",!1),kr(e,t)),t.sameVastTimer[t.disableSameVastPrefetch?"hold":"start"]().then(function(){return function(e,t){t.allowSameVastLoad()?L("same vastId loader",{players:e,playerData:t,log:!0},function(){var n=t.duplicatePlayed();e.plist.push(n),e.vastList[t.demandId||t.vastId]=kn.ACTIVE,hr(e,n),Nn(e,n)}):R(e,t,"same vastId loader was rejected",!1)}(e,t)}),e.paused?Fr(e,t):e.allowLongImpressions||t.isPaused||t.flowTimeout.Seconds(t.timers.longImpression).start(function(){xn(e,t.vastId,60,"long impression",null,t),L("longImpression",{players:e,log:!0},function(){wr(e,t,3,{code:60,message:""})})}),!0}wr(e,t,13,{code:10,message:"no vast tracker"})}function $t(e,t,n){t.duration=n,t.nonLinearCompleteTimer.cancel(),t.initNonLinearCompleter(),t.durationKnown=!0,t.vastTracker&&(t.vastTracker.duration=t.duration,t.vastTracker.setDuration(t.duration)),pr(e)==t&&(ii(e,t,"player.durationChange"),e.beingVpaid&&Ir(e,"jsAdDurationChange",{duration:n}))}function en(e,t){var n;e.serverEvents.demandEvent(t,{name:"initAd"}),t.flowTimeout.Seconds(t.timers.loadAd).start(function(){xn(e,t.vastId,31,"",null,t,!1),wr(e,t,30,{code:31,message:""})});try{R(e,t,"calling initAd",!1),t.state=Ce.Initing,n=t.initAd()}catch(e){n=e.message}n?(xn(e,t.vastId,32,n,null,t,!1,!0),wr(e,t,16,{code:32,message:n})):R(e,t,"initAd returned success",!1)}function tn(e,t){t.firedEvents.AdLoaded?R(e,t,"AdLoaded fired already",!1):(t.firedEvents.AdLoaded=!0,R(e,t,"got vpaid adLoaded callback",!1),null!=t.requeryTimeout&&(R(e,t,"cleared pending requery",!1),clearTimeout(t.requeryTimeout),t.requeryTimeout=null),t.state<Ce.Loading||t.state==Ce.Error?R(e,t,"adLoaded on wrong state - ignoring it - "+t.state,!1):t.state>Ce.Initing&&t.state<Ce.Error?R(e,t,"second adLoaded event - ignoring it",!1):(t.flowTimeout.cancel(),t.state=Ce.Ready,e.serverEvents.demandTimedEvent(t,{name:"AdLoaded"}),R(e,t,"marked as ready to play",!0),Xe(e,t),ii(e,t,"ad.loaded",e.mediaPreview?{mediaUrl:t.vpaidJsIframeVideo&&t.vpaidJsIframeVideo.src||""}:null),e.beingVpaid&&Ir(e,"jsAdReadyToStart",{}),Nt(e)))}function nn(e,t,n){var r=n.errorMsg;if(t.firedEvents.AdError=!0,R(e,t,"got vpaid aderror callback, message: "+r,!1),t.state<=Ce.Loading&&"jsima"!=t.adType||t.state==Ce.Finished)R(e,t,"vpaid aderror callback on invalid state - ignoring - "+t.state,!1);else{null!=t.initAdThrottler&&(clearInterval(t.initAdThrottler),t.initAdThrottler=null);var i=function(e){var t=Tn.VPAID_UNKNOWN_ERROR,n="";try{n=e.toLowerCase()}catch(e){}-1==n.indexOf("timeout")&&-1==n.indexOf("timed out")||(t=Tn.VPAID_TIMEOUT);-1==n.indexOf("empty")&&-1==n.indexOf("3403")||(t=Tn.VPAID_EMPTY_VAST);-1!=n.indexOf("domain")&&-1!=n.indexOf("block")&&(t=Tn.VPAID_EMPTY_BLOCKED_DOMAIN);-1==n.indexOf("no ad")&&-1==n.indexOf("there was an error parsing the ad tag response - null, errno: 0")||(t=Tn.VPAID_NO_AVAILABLE_ADS);-1==n.indexOf("but the server returned a vast error")&&-1==n.indexOf("failed to parse liverail xml response")&&-1==n.indexOf("unknown liverail xml response type")||(t=Tn.VPAID_VAST_ERROR);-1==n.indexOf("security error")&&-1==n.indexOf("2048")||(t=Tn.VPAID_SECURITY_ERROR);-1==n.indexOf("2032")&&-1==n.indexOf("9408")&&-1==n.indexOf("error loading asset : ioerror")||(t=Tn.VPAID_STREAM_ERROR);-1!=n.indexOf("1903")&&(t=Tn.VPAID_START_TIMEOUTED);-1!=n.indexOf("1902")&&(t=Tn.VPAID_INTERNAL_VPAID_ERROR);-1!=n.indexOf("volume violation")&&(t=Tn.VPAID_VOLUME_VIOLATION);-1!=n.indexOf("non linear ads")&&(t=Tn.VPAID_IMA_NON_LINEAR);-1!=n.indexOf("adstart exception")&&(t=Tn.VPAID_INNER_VPW_EXCEPTION);return t}(r);i==Tn.VPAID_VOLUME_VIOLATION&&w(e,{debugLogReason:"volume",keepDebugLog:!0}),ii(e,t,"aderror"),ii(e,t,"ad.error"),t.state>=Ce.Started&&(e.parallelStartAd&&t.state!=Ce.Playing||R(e,t,"was playing",!1),t.flowTimeout.cancel(),t.startAdHalfTimeout.cancel());var o=!1,a=!1;t.state==Ce.Initing?o=!0:t.state==Ce.Started&&e.parallelStartAd&&(a=!0),xn(e,t.vastId,10,r,null,t,a,o,null),wr(e,t,t.state>Ce.Initing?20:19,{code:10,message:r,vpaidError:i})}}function rn(e,t){if(t.firedEvents.AdStarted)R(e,t,"AdStarted fired already",!1);else{if(t.firedEvents.AdLoaded||tn(e,t),t.firedEvents.AdStarted=!0,t.state<Ce.Started||t.state>Ce.Playing)return R(e,t,"got vpaid impression/started callback but in the invalid state - "+Ce[t.state]+" - stopping the Ad",!1),xn(e,t.vastId,110,"unrequested start on state "+Ce[t.state],null,t,!1,!0),Ar(e,t),void wr(e,t,12,{code:110,message:"unrequested start on state "+Ce[t.state]});Yt(e,t),t.firedEvents.AdImpression||t.impressionAfterStartTimeout.start(function(){Ge(e,M.E_ADSTART_WO_IMPRESSION,t,{}),R(e,t,"Haven't get AdImpression in 3 seconds after AdStart",!1),t.viewableOnStart&&(R(e,t,"Hiding the vpaid",!1),cr(e,t))})}}function on(e,t){t.firedEvents.AdImpression?R(e,t,"AdImpression fired already",!1):(R(e,t,"got vpaid impression callback",!1),t.firedEvents.AdImpression=!0,t.firedEvents.AdStarted||rn(e,t),t.state<Ce.Started||t.state>Ce.Playing?R(e,t,"got vpaid impression callback but in invalid state - "+Ce[t.state]+" - ignoring "+t.state,!1):(t.flowTimeout.cancel(),t.impressionAfterStartTimeout.cancel(),t.startAdHalfTimeout.cancel(),t.errorCount=0,t.impressionOnlyWithVideoStart&&!t.firedEvents.AdVideoStart||Zt(e,t)))}function an(e,t){t.firedEvents.AdVideoStart?C(e,"AdVideoStart fired already",!1):(t.firedEvents.AdVideoStart=!0,R(e,t,"got vpaid AdVideoStart callback",!1),e.beingVpaid&&Ir(e,"jsAdVideoStart",{}),t.impressionOnlyWithVideoStart&&t.firedEvents.AdImpression&&Zt(e,t))}function sn(e,t){t.firedEvents.AdStarted&&!t.firedEvents.AdImpression||t.onQuartile(wn.FIRST)}function ln(e,t){t.firedEvents.AdStarted&&!t.firedEvents.AdImpression||t.onQuartile(wn.MIDPOINT)}function dn(e,t){t.firedEvents.AdStarted&&!t.firedEvents.AdImpression||t.onQuartile(wn.THIRD)}function un(e,t){t.firedEvents.AdStarted&&!t.firedEvents.AdImpression||(R(e,t,"got vpaid adComplete callback",!1),t.state==Ce.Playing||t.state==Ce.Finished?(t.onComplete(),t.callPauseTimer.cancel(),wr(e,t,1)):R(e,t,"vpaid adcomplete callback on invalid state - ignoring - "+t.state,!1))}function cn(e,t){t.firedEvents.AdStopped=!0,R(e,t,"got vpaid adStopped callback",!1),t.state==Ce.Playing&&(C(e,"triggering manual AdComplete",!1),un(e,t))}function pn(e,t,n){var r=n.url,i=n.id,o=n.playerHandles;R(e,t,"got vpaid click through callback, url: "+r+", id: "+i+", playerHandles: "+o,!1),gr(e,t,r,!1===o)}function hn(e,t,n){var r=n.t;R(e,t,"got vpaid ad duration time callback, t: "+r,!0),null!=r&&$t(e,t,r)}function An(e,t,n){var r=n.t;R(e,t,"got vpaid ad remaining time callback, t: "+r,!0),null!=r&&(t.lastRemainingTime&&t.lastRemainingTime<r&&t.nonLinearCompleteTimer.cancel(),t.lastRemainingTime=r,!t.durationKnown||t.state<Ce.Playing?(R(e,t,"got first vpaid ad remaining time callback, duration set to t: "+r,!0),$t(e,t,r)):(!t.skipVastTracker&&t.vastTracker&&t.vastTracker.setProgress(t.duration-r),e.beingVpaid&&Ir(e,"jsAdRemainingTimeChange",{remainingTime:r})))}function fn(e,t){t.callPauseTimer.start(function(){R(e,t,"got vpaid ad_paused callback",!0),Qr(e,t)})}function mn(e,t){R(e,t,"got vpaid ad-playing callback",!0),Jr(e,t)}function vn(e,t){var n=t.getAdVolume();if(n){var r=n.volume,i=n.muted;!e.interactive||t.viewableForSeconds()<1||(R(e,t,"got vpaid ad_volume_change callback volume:"+r+"  muted:"+i,!1),Kr(e,r,i,t))}}function gn(e,t){R(e,t,"got vpaid ad_skipped callback",!0),t.onSkip()}function yn(e,t){t.state==Ce.Playing?(R(e,t,"got vpaid ad_skippable_state_change callback",!0),Er(e,t)):R(e,t,"vpaid ad_skippable_state_change callback on invalid state - ignoring - "+t.state,!1)}function En(e,t){t.firedEvents.AdStarted&&!t.firedEvents.AdImpression||(R(e,t,"got vpaid adUserClose callback",!1),t.state==Ce.Playing||t.state==Ce.Finished?(e.beingVpaid&&Ir(e,"jsAdUserClose",{}),t.callPauseTimer.cancel(),wr(e,t,1)):R(e,t,"vpaid adcomplete callback on invalid state - ignoring - "+t.state,!1))}var bn,_n,Tn,wn,kn,Cn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),In=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.forceVolume=!1,t}return Cn(t,e),t.prototype.fetchAdUrl=function(){this.state=Ce.Fetched,this.skipVastTracker=!0,this.vastPreferType==bn.VIDEO_ONLY||this.players.observableOnly?(xn(this.players,this.vastId,22,"no suitable media: "+this.adType,null,this,!1,!0),wr(this.players,this,5,{code:22,message:"no suitable media: "+this.adType})):this.initMedia()},t.prototype.initMedia=function(){var t=this;return e.prototype.initMedia.call(this).then(function(){t.players.content instanceof Bt?t.contentVideoElement=t.players.content.getHTMLVideoElement()||t.videoElement:t.contentVideoElement=t.videoElement,je(t.contentVideoElement)&&(t.contentVideoElement=function(e){var t=document.createElement("video");return t.muted=e.muteToPlay||e.muted,t.volume=e.volume,t.playsInline=!0,t}(t.players)),t.imaAdSlot=dt("div",{class:"ima-ad-slot",style:{position:"absolute",top:"0",bottom:"0",left:"0",right:"0"}}),t.adContainer.appendChild(t.imaAdSlot),t.state=Ce.Loading,t.width=t.players.width,t.height=t.players.height,t.isAdsRequestMade=!1,t.isStarted=!1,t.isAdsRequested=!1,t.initGoogleSDK(),R(t.players,t,"initMedia: done",!0)}).catch(P(this.players,"initMedia"))},t.prototype.log=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];R(this.players,this,"[GoogleIMA] "+e,!1,t)},t.prototype.initGoogleSDK=function(){var e=this;if("undefined"==typeof google)return Object(D.g)("google-ima-script-new",function(){return function(e,t){t.trim&&(t=t.trim());var n=t.split("//");return n.length>1?(n[0]=e,n.join("//")):null}(e.players.protocol,"http://imasdk.googleapis.com/js/sdkloader/ima3.js")},function(){e.callInitAndRequest()},!0);this.callInitAndRequest()},t.prototype.callInitAndRequest=function(){var e=this;setTimeout(function(){e.state!=Ce.Completed&&e.state!=Ce.Finished&&e.initAndRequest()},this.players.debug.delayReply||this.delay.Reply||0)},t.prototype.emitEvent=function(e,t){switch(this.log("EVENT "+e+", data: ",t,this.uniqId),e){case this.AdsManagerLoadedEvent:case this.AdErrorLoadedEvent:this.flowTimeout.cancel(),this.onAdsRequested(t),this.isAdsRequested=!0;break;case google.ima.AdErrorEvent.Type.AD_ERROR:nn(this.players,this,{errorMsg:t&&t.msg});break;case this.AdEvent.AD_BREAK_READY:case this.AdEvent.AD_METADATA:case this.AdEvent.ALL_ADS_COMPLETED:break;case this.AdEvent.CLICK:pn(this.players,this,{url:null,id:null,playerHandles:!1});break;case this.AdEvent.DURATION_CHANGE:hn(this.players,this,{t:t.ad&&t.ad.getDuration()||null});break;case this.AdEvent.STARTED:rn(this.players,this);break;case this.AdEvent.IMPRESSION:on(this.players,this);break;case this.AdEvent.FIRST_QUARTILE:sn(this.players,this);break;case this.AdEvent.MIDPOINT:ln(this.players,this);break;case this.AdEvent.THIRD_QUARTILE:dn(this.players,this);break;case this.AdEvent.COMPLETE:un(this.players,this);break;case this.AdEvent.LOADED:t&&t.ad&&this.initLoadedAd(t.ad),tn(this.players,this);break;case this.AdEvent.LINEAR_CHANGED:t&&t.ad&&this.initLoadedAd(t.ad),this.isNonLinear()||this.nonLinearCompleteTimer.cancel();break;case this.AdEvent.LOG:case this.AdEvent.CONTENT_PAUSE_REQUESTED:case this.AdEvent.CONTENT_RESUME_REQUESTED:break;case this.AdEvent.SKIPPABLE_STATE_CHANGED:yn(this.players,this);break;case this.AdEvent.SKIPPED:gn(this.players,this);break;case this.AdEvent.USER_CLOSE:En(this.players,this);break;case this.AdEvent.VOLUME_CHANGED:vn(this.players,this);break;case this.AdEvent.VOLUME_MUTED:break;case this.AdEvent.PAUSED:fn(this.players,this);break;case this.AdEvent.RESUMED:mn(this.players,this)}},t.prototype.initAndRequest=function(){var e=this;this.log("initAndRequest",this.isAdsRequestMade),this.isAdsRequestMade||(this.isAdsRequestMade=!0,this.AdEvent=google.ima.AdEvent.Type,this.AdErrorCode=google.ima.AdError.ErrorCode,this.AdsManagerLoadedEvent=google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.AdErrorLoadedEvent=google.ima.AdError.Type.AD_LOAD,this.AdErrorEvent=google.ima.AdErrorEvent.Type.AD_ERROR,this.adDisplayContainer=new google.ima.AdDisplayContainer(this.imaAdSlot),this.adDisplayContainer.initialize(),this.players.serverEvents.demandEvent(this,{name:"requestAds"}),this.flowTimeout.Seconds(this.timers.requestAds).start(function(){wr(e.players,e,32,{code:201,message:""})}),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsLoader.getSettings().setAutoPlayAdBreaks(!1),this.adsLoader.getSettings().setDisableCustomPlaybackForIOS10Plus(!0),this.adsLoader.addEventListener(this.AdsManagerLoadedEvent,this.onAdsManagerLoaded.bind(this),!1),this.adsLoader.addEventListener(this.AdErrorEvent,this.onAdError.bind(this),!1),this.adsRequest=new google.ima.AdsRequest,this.adsRequest.adTagUrl=this.mediaURL,this.adsRequest.linearAdSlotWidth=this.width,this.adsRequest.linearAdSlotHeight=this.height,this.adsRequest.forceNonLinearFullSlot=!0,this.adsLoader.requestAds(this.adsRequest))},t.prototype.getSuggestedDuration=function(){if(this.ad){var e=this.ad.getDuration();return e<=0&&(e=this.ad.getMinSuggestedDuration()),e<=0&&(e=this.suggestedDuration),e}},t.prototype.getSuggestedRemainingTime=function(){if(this.adsManager){var e=this.adsManager.getRemainingTime();return e<0&&(e=this.duration-(Date.now()-this.nonLinearCompleteTimer.startedAt)/1e3),e>=0?e:0}},t.prototype.initLoadedAd=function(e){this.ad=e,this.duration=this.getSuggestedDuration(),this.durationKnown=!0},t.prototype.initNonLinearCompleter=function(){var e=this;this.isNonLinear()&&(R(this.players,this,"init non-linear completer timer: "+this.duration+" seconds",!1),this.nonLinearCompleteTimer=l.a.Seconds(this.duration),this.nonLinearCompleteTimer.start(function(){R(e.players,e,"non-linear completer timer call - stop player data",!1),En(e.players,e)}))},t.prototype.getSkipOffset=function(){var t=this.ad.getSkipTimeOffset();return e.prototype.getSkipOffset.call(this)>0&&(t=t>0?Math.min(e.prototype.getSkipOffset.call(this),t):e.prototype.getSkipOffset.call(this)),t},t.prototype.getAdSkippableState=function(){return this.adsManager.getAdSkippableState()||e.prototype.getAdSkippableState.call(this)},t.prototype.unlockAdSlot=function(){this.log("unlockAdSlot",this.unlocked,this.adDisplayContainer),!this.unlocked&&this.adDisplayContainer&&(this.adDisplayContainer.initialize(),this.unlocked=!0)},t.prototype.onAdsRequested=function(e){var t=this;this.onAdResponse()&&(e?(-1==[this.AdErrorCode.VAST_EMPTY_RESPONSE,this.AdErrorCode.VAST_ASSET_NOT_FOUND,this.AdErrorCode.VAST_NO_ADS_AFTER_WRAPPER,this.AdErrorCode.UNKNOWN_AD_RESPONSE].indexOf(e.code)&&(this.state=Ce.Started),this.emitEvent(this.AdErrorEvent,e)):(this.players.serverEvents.demandTimedEvent(this,{name:"AdsRequested",retryCount:this.retryCount}),jt(this.players,this,function(){return en(t.players,t)})))},t.prototype.clearAd=function(){this.log("clearAd"),this.lastError=null;try{this.clearSDK(),this.adContainer.removeChild(this.imaAdSlot)}catch(e){}},t.prototype.clearSDK=function(){try{this.adDisplayContainer.destroy(),this.adsLoader.destroy(),this.adsManager.destroy()}catch(e){}},t.prototype.initAd=function(){var e=this;this.log("initAd",this.width,this.height),this.transferError(function(){e.adsManager.init(e.width,e.height,google.ima.ViewMode.NORMAL)})},t.prototype.startAd=function(){var e=this;this.log("startAd",this.isStarted),this.isStarted||(this.forceVolume=!0,this.syncVolume(),this.adsManager&&this.adsManager.start&&(this.transferError(function(){e.adsManager.start()}),this.isStarted=!0))},t.prototype.stopAd=function(){var e=this;this.log("stopAd"),this.adsManager&&this.adsManager.stop&&this.transferError(function(){return e.adsManager.stop()})},t.prototype.resizeAd=function(e,t){var n=this;this.log("resizeAd",this.width,this.height,e,t),this.width===e&&this.height===t||(this.width=e,this.height=t,this.adsManager&&this.adsManager.resize&&this.transferError(function(){return n.adsManager.resize(e,t,google.ima.ViewMode.NORMAL)}))},t.prototype.setAdVolume=function(e,t,n){var r=this;this.adsManager&&(this.muted==t&&this.viewable||(this.players.muteToPlay&&!t&&(n||this.isUnlocked()||(t=!0)),this.muted=t,e=t?0:e,this.log("setAdVolume",e,this.adsManager.getVolume()),(this.forceVolume||this.adsManager.getVolume()!=e)&&(this.transferError(function(){return r.adsManager.setVolume(e)}),this.forceVolume=!1)))},t.prototype.getAdVolume=function(){return this.adsManager&&{volume:this.adsManager.getVolume()}},t.prototype.isNonLinear=function(){return!!this.ad&&!this.ad.isLinear()},t.prototype.showControlBar=function(){return null!=this.controlBar&&this.controlBar},t.prototype.getProgress=function(){if(this.ad){var e=this.getSuggestedDuration(),t=Math.ceil(e-this.getSuggestedRemainingTime());return{time:t=t>0?t:0,duration:e}}return null},t.prototype.pauseAd=function(){var e=this;this.log("pauseAd"),this.transferError(function(){e.adsManager.pause()})},t.prototype.resumeAd=function(){var e=this;this.log("resumeAd"),this.transferError(function(){e.adsManager.resume()})},t.prototype.skipAd=function(){var e=this;this.log("skipAd","skippable "+this.getAdSkippableState()),this.getAdSkippableState()?(this.adsManager.skip(),this.failSkipTimer.start(function(){R(e.players,e,"slow skipAd, force skip"),e.onSkip()})):(this.log("ad is not in skippable state, force skip"),this.onSkip())},t.prototype.transferError=function(e){try{e&&e()}catch(e){throw new Error(e.getMessage&&e.getMessage()||e.message||"Unknown error")}},t.prototype.onAdsManagerLoaded=function(e){this.log("onAdsManagerLoaded, requested Ads",e,this.unlocked);var t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!0,this.adsManager=e.getAdsManager(this.contentVideoElement,t),(this.players.muted||this.players.muteToPlay)&&(this.forceVolume=!0,this.setAdVolume(0,!0));var n=this.onAdEvent.bind(this),r=this.onAdProgressEvent.bind(this),i=this.onAdUserEvent.bind(this);this.adsManager.addEventListener(this.AdErrorEvent,this.onAdError.bind(this)),this.adsManager.addEventListener(this.AdEvent.AD_BREAK_READY,this.adBreakReadyHandler.bind(this)),this.adsManager.addEventListener(this.AdEvent.AD_METADATA,n),this.adsManager.addEventListener(this.AdEvent.ALL_ADS_COMPLETED,n),this.adsManager.addEventListener(this.AdEvent.DURATION_CHANGE,n),this.adsManager.addEventListener(this.AdEvent.IMPRESSION,n),this.adsManager.addEventListener(this.AdEvent.LINEAR_CHANGED,n),this.adsManager.addEventListener(this.AdEvent.LOADED,n),this.adsManager.addEventListener(this.AdEvent.LOG,n),this.adsManager.addEventListener(this.AdEvent.SKIPPABLE_STATE_CHANGED,n),this.adsManager.addEventListener(this.AdEvent.CONTENT_RESUME_REQUESTED,this.onContentResumeRequested.bind(this)),this.adsManager.addEventListener(this.AdEvent.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequested.bind(this)),this.adsManager.addEventListener(this.AdEvent.STARTED,r),this.adsManager.addEventListener(this.AdEvent.FIRST_QUARTILE,r),this.adsManager.addEventListener(this.AdEvent.MIDPOINT,r),this.adsManager.addEventListener(this.AdEvent.THIRD_QUARTILE,r),this.adsManager.addEventListener(this.AdEvent.COMPLETE,r),this.adsManager.addEventListener(this.AdEvent.CLICK,i),this.adsManager.addEventListener(this.AdEvent.PAUSED,i),this.adsManager.addEventListener(this.AdEvent.RESUMED,i),this.adsManager.addEventListener(this.AdEvent.SKIPPED,i),this.adsManager.addEventListener(this.AdEvent.USER_CLOSE,i),this.adsManager.addEventListener(this.AdEvent.VOLUME_CHANGED,i),this.adsManager.addEventListener(this.AdEvent.VOLUME_MUTED,i),this.emitEvent(this.AdsManagerLoadedEvent)},t.prototype.onAdEvent=function(e){var t=this;this.delayEvent(e,function(){t.log("onAdEvent ",e.type,e),t.emitEvent(e.type,{ad:e.getAd()})})},t.prototype.onAdProgressEvent=function(e){var t=this;this.delayEvent(e,function(){t.log("onAdProgressEvent ",e.type,e),t.emitEvent(e.type,{ad:e.getAd()})})},t.prototype.delayEvent=function(e,t){var n="Ad"+e.type.charAt(0).toUpperCase()+e.type.slice(1);setTimeout(t,this.delay[n]||0)},t.prototype.onAdUserEvent=function(e){this.log("onAdUserEvent ",e.type,e),this.emitEvent(e.type)},t.prototype.onAdError=function(e){var t=e.getError();this.log("onAdError ",t.getMessage(),t.getErrorCode()),this.lastError={msg:t.getMessage(),code:t.getErrorCode()},t.getType()==this.AdErrorLoadedEvent?this.emitEvent(this.AdErrorLoadedEvent,this.lastError):this.emitEvent(this.AdErrorEvent,this.lastError),this.clearSDK()},t.prototype.getErrorEvent=function(t){var n={event:{},timed:!1};return this.isAdsRequested?this.state==Ce.Initing?(n.event={name:"AdLoadError",errorCode:10==t.code?30:t.code,message:t.message},31==t.code&&(n.event.timeout=!0),n.timed=!0):n=e.prototype.getErrorEvent.call(this,t):(10==t.code?n.event={name:"AdsRequestError",errorCode:200,message:t.message,retryCount:this.retryCount}:201==t.code&&(n.event={name:"AdsRequestError",errorCode:t.code,message:t.message,retryCount:this.retryCount,timeout:!0}),n.timed=!0),this.lastError&&null!=this.lastError.code&&(n.event.imaError=this.lastError.code),n},t.prototype.onContentPauseRequested=function(){this.log("onContentPauseRequested ")},t.prototype.onContentResumeRequested=function(){this.log("onContentResumeRequested ")},t.prototype.adBreakReadyHandler=function(e){this.log("adBreakReadyHandler ",e)},t.isGoogleIMA=function(e){return null!=e.match(/\/\/[^/]*g\.doubleclick\.net/)},t}(Gt);!function(e){e[e.VIDEO_ONLY=0]="VIDEO_ONLY",e[e.VPAID_FLV_DEFAULT=1]="VPAID_FLV_DEFAULT",e[e.VPAID_JS_DEFAULT=2]="VPAID_JS_DEFAULT",e[e.VPAID_FLV_ONLY=3]="VPAID_FLV_ONLY",e[e.VPAID_JS_ONLY=4]="VPAID_JS_ONLY"}(bn||(bn={})),function(e){e[e.AD_START=1]="AD_START",e[e.AD_REQUEST=2]="AD_REQUEST"}(_n||(_n={})),function(e){e[e.VPAID_UNKNOWN_ERROR=1]="VPAID_UNKNOWN_ERROR",e[e.VPAID_TIMEOUT=2]="VPAID_TIMEOUT",e[e.VPAID_EMPTY_VAST=3]="VPAID_EMPTY_VAST",e[e.VPAID_EMPTY_BLOCKED_DOMAIN=4]="VPAID_EMPTY_BLOCKED_DOMAIN",e[e.VPAID_NO_AVAILABLE_ADS=5]="VPAID_NO_AVAILABLE_ADS",e[e.VPAID_VAST_ERROR=6]="VPAID_VAST_ERROR",e[e.VPAID_SECURITY_ERROR=7]="VPAID_SECURITY_ERROR",e[e.VPAID_STREAM_ERROR=8]="VPAID_STREAM_ERROR",e[e.VPAID_START_TIMEOUTED=9]="VPAID_START_TIMEOUTED",e[e.VPAID_INTERNAL_VPAID_ERROR=10]="VPAID_INTERNAL_VPAID_ERROR",e[e.VPAID_IMA_NON_LINEAR=11]="VPAID_IMA_NON_LINEAR",e[e.VPAID_VOLUME_VIOLATION=12]="VPAID_VOLUME_VIOLATION",e[e.VPAID_INNER_VPW_EXCEPTION=13]="VPAID_INNER_VPW_EXCEPTION"}(Tn||(Tn={})),function(e){e[e.FIRST=1]="FIRST",e[e.MIDPOINT=2]="MIDPOINT",e[e.THIRD=3]="THIRD",e[e.COMPLETE=4]="COMPLETE"}(wn||(wn={})),function(e){e[e.ACTIVE=1]="ACTIVE",e[e.FROZEN=2]="FROZEN",e[e.DEACTIVATED=3]="DEACTIVATED"}(kn||(kn={}));var Rn=[null,"firstQuartile","midpoint","thirdQuartile","complete"];function xn(e,t,n,r,i,o,a,s,l){if(e){if("function"==typeof e.vastError)return e.vastError(t,n,r,i,o,a,s,l);if(92!=n){var d,u="";if(void 0!==o&&o){if(3!=n&&o.vastErrorWasReported)return;d=o.mediaURL,d="",u=(o.state>=Ce.Started?((new Date).getTime()-o.startAdTime)/1e3:((new Date).getTime()-o.loadAdTime)/1e3).toFixed(1)}else d="";void 0===a&&(a=!1),void 0===s&&(s=!1),void 0===l&&(l="vast error"),i&&(r+=I(i));var c={errorCode:n,errorMessage:r,mediaURL:d};a&&!o.logStartWasDone&&(c.logStartRequest=1,o.logStartWasDone=!0),s&&!o.logLoadWasDone&&(c.logLoadRequest=1,o.logLoadWasDone=!0),""!=u&&(c.time=u),o.vastErrorWasReported=!0,Ge(e,M.E_VAST_ERROR,o,c),R(e,o,"errorCode "+n+" - "+r,!1),3!=n||e.keepDebugLog||e.debugLogSubmittedDueToException||!e.submitDebugLogOnVastError||w(e,{debugLogReason:l,dueToException:!0})}}}var Sn=document.createElement("video");function Dn(e){try{var t=e.split("/"),n=t[0],r=t[1];switch(n){case"video":return["video",r];case"application":if(-1!=r.indexOf("javascript"))return["jsvpaid"];if(-1!=r.indexOf("shockwave-flash"))return["flvpaid"];default:return[null]}}catch(e){return[null]}}function Ln(e,t,n,r){return n?n.fromUrlHandler?function(e,t,n,r){var o=null;switch(n.code){case i.NO_XHR_SUPPORT:o={reason:23,code:91,message:"no supported xhr object"};break;case i.OPEN:o={reason:22,code:95,message:"xhr error on open"};break;case i.SEND:o={reason:22,code:96,message:"xhr error on send"};break;case i.CORS:var a=void 0;r.withCredentials?(t.withCredentials=!1,t.lastChanceRetry=!0,a="disabling withCredentials mode",o={reason:22,code:92,message:"xhr cross origin exception"}):(a="stopping requery",o={reason:23,code:93,message:"xhr cross origin exception"}),R(e,t,"xhr cross origin exception, credentials: "+r.withCredentials+" - "+a,!1);break;case i.STATUS:o={reason:23,code:94,message:"xhr status error"};break;case i.TIMEOUT:o={reason:22,code:97,message:"xhr timeout error"};break;default:case i.UNKNOWN:o={reason:22,code:98,message:"xhr js exection"}}return o}(e,t,n,r):{reason:24,code:25,message:n.message}:function(e){for(var t=!1,n=e.documentElement.childNodes,r=0,i=n.length;r<i;r++)"Ad"===n[r].nodeName&&(t=!0);if(!t)return{reason:25,code:21,message:"no <Ad> element"};return null}(t.vastResponseXML)}function On(e,t,n){if(!n||!n.ads||!n.ads.length)return{reason:26,code:20,message:"empty response"};var r=n.ads[0];return R(e,t,"got ad",!1),C(e,r,!0),r.creatives&&r.creatives.length?L("chooseAdCreative",{players:e,playerData:t},function(){return function(e,t,n){for(var r,i=null,o=null,a=["",""],s=a[0],l=a[1],d="",u="",c=!1,p=0,h=n.creatives;p<h.length;p++){var A=h[p];if(R(e,t,"got creative",!0),C(e,A,!0),"linear"==A.type){var f=A;R(e,t,"creative is linear with "+f.mediaFiles.length+" medias",!0);for(var m=0,v=f.mediaFiles;m<v.length;m++){var g=v[m];R(e,t,"got media",!0),C(e,g,!0),R(e,t,"got media - mimeType: "+g.mimeType,!1),u+=g.mimeType+",";var y=Dn(g.mimeType),E=y[0],b=y[1];switch(E){case"video":if(!Vn(e,t,g,b))continue;break;case"jsvpaid":t.hasJSVPAID=!0;break;case"flvpaid":t.hasFlashVPAID=!0,c=!0,R(e,t,"flash mimetype but no flash support",!0);continue;default:R(e,t,"not a valid mimeType: "+g.mimeType,!0);continue}if(t.vastPreferType!=bn.VIDEO_ONLY||"video"==E)if(t.vastPreferType!=bn.VPAID_FLV_ONLY||"jsvpaid"!=E){if("video"==E){if("video"==s&&!Pn(e,t,o,l,g,b))continue}else if("video"==s){R(e,t,"prefer video over flash/js",!0);continue}s=(r=[E,f,g,b])[0],i=r[1],o=r[2],l=r[3]}else R(e,t,"only flash allowed",!0);else R(e,t,"only video vast allowed",!1)}}else"companion"==A.type&&(d=Mn(e,A,d))}if(!o)return e.DMVAST.util.track(n.errorURLTemplates,{ERRORCODE:403}),c?{reason:6,code:24,message:"only flash available, but is not supported"}:(C(e,"no suitable media: "+u,!1),{reason:5,code:22,message:"no suitable media"});return L("chooseAdCreative",{players:e,playerData:t,log:!0},function(){C(e,n,!0),C(e,i,!0),C(e,o,!0),t.adParameters=i.adParameters,n.impressionURLTemplates&&(1!=n.impressionURLTemplates.length||n.impressionURLTemplates[0])||(n.impressionURLTemplates=[]),t.ad=n,t.creative=i,t.adType="jsvpaid"==s?"jsvpaid":"video",R(e,t,"chosen ad type is "+t.adType,!1),t.mediaURL=o.fileURL,t.mediaURL.trim&&(t.mediaURL=t.mediaURL.trim()),t.companionHTML=d,t.state=Ce.Fetched},function(){return{reason:27,code:3,message:"js exception"}})}(e,t,r)},function(){return{reason:27,code:3,message:"js exception"}}):{reason:7,code:23,message:"no valid creatives"}}function Vn(e,t,n,r){if(e.usejsv){if(["webm","mp4","wmv","flv"].indexOf(r)<0)return R(e,t,"unsupported jsv video mimeType: "+n.mimeType,!0),!1;if(n.deliveryType&&"streaming"==n.deliveryType||function(e){var t=e.split("/")[0].toLowerCase(),n=!("rtsp:"!==t&&"rtp:"!==t);if(!n){var r=function(e){return e.split(".").pop().split(/\#|\?/)[0]}(e);"m3u8"!==r&&"m3u"!==r&&"swf"!==r||(n=!0)}return n}(n.fileURL)||n.fileURL.length<8)return R(e,t,"dont allow streaming",!0),!1}else try{if(!e.hasVideoSupport)return R(e,t,"no video support for mimeType: "+n.mimeType,!1),!1;if(!Sn.canPlayType(n.mimeType))return R(e,t,"unsupported mimeType: "+n.mimeType,!0),!1}catch(e){}return!0}function Pn(e,t,n,r,i,o){var a=!0;if(i.bitrate&&n.bitrate){if(a=!1,n.bitrate&&i.bitrate>n.bitrate)return R(e,t,"bitrate is higher than chosen: "+i.bitrate,!0),!1;i.bitrate==n.bitrate?a=!0:R(e,t,"choosing bitrate "+i.bitrate+" over previously chosen bitrate "+n.bitrate,!0)}else if(n.width&&i.width){a=!1;var s=n.width*n.height,l=i.width*i.height;if(s&&l>s)return R(e,t,"size is higher than chosen: "+l,!0),!1;l==s?a=!0:R(e,t,"choosing size "+l+" over previously chosen size "+s,!0)}if(a&&r){if("mp4"==r||"webm"==r||"mp4"==o&&("ogg"==r||"3gp"==r))return R(e,t,"same speed but already chosen preferred "+r+" over "+o,!0),!1;R(e,t,"choosing video "+o+" over previously chosen "+r,!0)}return!0}function Mn(e,t,n){for(var r=0,i=t.variations;r<i.length;r++){var o=i[r];o.width==e.width&&o.height==e.height&&("image/jpeg"==o.type||(n=o.htmlResource))}return n}function Nn(e,t){var n=null,r=t.quotaExpirationTime&&(new Date).getTime()>t.quotaExpirationTime;if(null!=t.allocatedQuotaImp&&(t.allocatedQuotaImp<=0||r)?n=_n.AD_START:null!=t.allocatedQuotaReq&&(t.allocatedQuotaReq<=0||r)&&(n=_n.AD_REQUEST),r||null!=n){var i=function(r){if(null!=r&&Object(D.i)(r)&&r>0){switch(R(e,t,"received "+r+" quota from server.",!1),t.quotaExpirationTime=null!=t.quotaExpirationSec?(new Date).getTime()+1e3*t.quotaExpirationSec:null,n){case _n.AD_REQUEST:t.allocatedQuotaReq=+r;break;case _n.AD_START:t.allocatedQuotaImp=+r}jn(e,t)}else R(e,t,"did not receive a positive integer as the quota. Removing from list.",!1),vr(e,t,!0)};b({url:c(e.serverHost()+"/get_vast_allocation?",{v:t.vastId,capt:n})}).then(function(e){return i(e.responseText)}).catch(function(){return i()})}else jn(e,t)}function Un(e,t,n){return!(!e.frozen&&(!e.chilled||t&&t.isUnlocked()))&&(C(e,"player chilled/frozen on "+n,!1),!0)}function jn(e,t){if(!Un(e,t,"FetchVast")){t.loadAdTime=Date.now(),t.state=Ce.Fetching,t.retryCount++,t.totalRoundNo++,e.totalVastRetries++;var n=0;if(t.maxFailedVastRetries>0&&(n=t.maxFailedVastRetries),e.maxFailedVastRetries>0&&(0==n||e.maxFailedVastRetries<n)&&(n=e.maxFailedVastRetries),n>0&&t.retryCount>n||e.maxTotalVastRetries>0&&e.totalVastRetries>e.maxTotalVastRetries){if(!t.lastChanceRetry)return R(e,t,"crossed number of allowed retries: "+n,!1),void vr(e,t,!0);R(e,t,"additional last retry granted after: "+n,!1)}t.lastChanceRetry=!1;var r=Wt(e,t)(t.vastURL);-1===r.indexOf("spotx://")?(R(e,t,"fetchPlayerVast, url: "+r+" ("+t.vastURL+")",!1),t.ad=null,t.creative=null,t.mediaURL="",t.adType=null,t.firedEvents={},t.vastTracker=null,t.skipVastTracker=!1,t.hasFlashVPAID=!1,t.hasJSVPAID=!1,function(e,t,n){(null!=t.useIMA?t.useIMA:In.isGoogleIMA(n))&&(R(e,t,"IMA - use JS SDK",!1),t.vastURL=n,t.mediaURL=n,t.adType="jsima")}(e,t,r),Bn(t),t.fetchAdUrl(r)):R(e,t,"is Spotx SDK - no longer support",!1)}}function Bn(e){!function(e,t){if(Object.setPrototypeOf)Object.setPrototypeOf(e,t);else if({__proto__:[]}instanceof Array)e.__proto__=t;else for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}(e,dr[e.adType||"vast"])}var Fn=function(){function e(e,t){this.players=e,this.playerData=t}return e.prototype.xhr=function(){return m()},e.prototype.supported=function(){return!!this.xhr()},e.prototype.get=function(e,t,n){var r=this;t.withCredentials="withCredentials"in this.xhr()&&t.withCredentials,this.playerData.requestedVastURL==e?this.playerData.wrapperCount=0:(this.playerData.wrapperCount++,this.playerData.wrapperCredentials||(t.withCredentials=!1,this.playerData.withCredentials=!1)),R(this.players,this.playerData,"xhr url: "+e+", credentials: "+t.withCredentials+", wrapper: "+this.playerData.wrapperCount,!1),b({timeout:t.timeout,url:e,withCredentials:t.withCredentials}).then(function(t){try{r.players.logVastResponse&&(R(r.players,r.playerData,"xhr response to url "+e,!1),C(r.players,t.responseText,!1)),r.playerData.vastResponseXML=function(e){return(null==e.responseXML||e.responseXML.xml)&&e.responseText?v(e.responseText):e.responseXML}(t),n(null,r.playerData.vastResponseXML)}catch(a){var o={xhr:t,code:i.UNKNOWN,message:a.message,fromUrlHandler:!0};-1!==o.message.indexOf("cross-origin")&&(R(r.players,r.playerData,"xhr cross origin error for url: "+e,!1),o.code=i.CORS),function(e,t){oe(e,{category:"xmlparse",error:t},ye)}(r.players,o.message),n(o,null)}},function(e){var t={xhr:e.xhr,code:e.code,fromUrlHandler:!0,message:e.data&&e.data.message,status:e.data&&e.data.status};n(t,null)})},e}();function qn(e,t,n,r,i){void 0===e&&(e=window),void 0===r&&(r=!1),void 0===i&&(i=null);var o=e.XMLHttpRequest,a=function(){var e=new o;return["error","load","timeout"].forEach(function(t){return e.addEventListener(t,function(e){a.event&&a.event.emit(e.type,e,this,a)})}),e.open=function(e,t,r,i,s){this.url=t;var l={type:"open",url:t,method:e},d=Hn(n,t,"xhr");if(arguments.length>=3&&(l.async=r),d&&(l.type="blocked"),a.event&&a.event.emit(l.type,l,this,a),!d)return o.prototype.open.apply(this,arguments)},e.send=function(){if(e.readyState==e.OPENED)return o.prototype.send.apply(this,arguments)},e};a.prototype=o.prototype,a.tag=i,a.parent=e.parent&&e.parent!==e&&e.parent.XMLHttpRequest,a.event=t||a.parent.event,e.XMLHttpRequest=a;try{r&&function(e){if(e!=e.parent){var t;if(e.Proxy)t=new e.Proxy(e.parent,{get:function(t,n){switch(n){case"XMLHttpRequest":return e.XMLHttpRequest;default:return"function"==typeof t[n]?t[n].bind(t):t[n]}}});else for(var n in t=Object.create(e.__proto__),Object.assign(t,e.parent),t.XMLHttpRequest=e.XMLHttpRequest,t)"function"==typeof t[n]&&(t[n]=t[n].bind(e.parent));e.parent=t}}(e)}catch(e){}return a.event}function Hn(e,t,n){return e&&e.some(function(e){return"string"==typeof e?-1!=t.indexOf(e):e.test(t)})}var Qn={lk:["lkqd.net"],dfp:["lkqd.net","palamel.com","mobileadslink.com","mytbar.com"]},Jn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Jn(t,e),t.prototype.getErrorEvent=function(t){if(this.state==Ce.Fetching){var n={};return 20==t.code||21==t.code||22==t.code||24==t.code||23==t.code||25==t.code?n={name:"VastError",errorCode:t.code,message:t.message,retryCount:t.retryCount}:99==t.code?n={name:"VastFetchError",errorCode:t.code,message:t.message,retryCount:t.retryCount,credentials:t.credentials,timeout:!0}:90!=t.code&&91!=t.code&&92!=t.code&&93!=t.code&&94!=t.code&&95!=t.code&&96!=t.code&&97!=t.code&&98!=t.code||(n={name:"VastFetchError",errorCode:t.code,message:t.message,retryCount:t.retryCount,credentials:t.credentials}),t.status&&(n.status=t.status),{event:n,timed:!0}}return e.prototype.getErrorEvent.call(this,t)},t.prototype.fetchAdUrl=function(e){var t=this;this.players.logVastResponse&&C(this.players,"vastId "+this.vastId+" - xhr request url "+e,!1),this.vastResponseXML=null;var n=function(e,t,n){var r=null,i=n.match(/^data:(.*?)(;base64)?,(.*)$/);if(i)try{var o=";base64"==i[2]?atob(i[3]):decodeURIComponent(i[3]);t.vastResponseXML=v(o)}catch(e){r="Inline VAST failed: "+e.message}else-1!==n.indexOf("noad.xml")?r="No Ads expected":(n=A(e.protocol,n))||(r="Invalid VAST url");return{error:r,vastUrl:n}}(this.players,this,e),r=n.error,i=n.vastUrl;if(!Hn(this.players.blacklist,i))if(r)C(this.players,"vastId "+this.vastId+" - "+r,!1);else{var o={withCredentials:null!=this.withCredentials?this.withCredentials:function(e){var t=e||location||window.location||document.location;return!(d(e)||t&&(-1!=t.host.indexOf("localhost")||-1!=t.host.indexOf("127.0.0.1")||t.port&&"80"!=t.port))}(),timeout:12e4,urlhandler:new Fn(this.players,this),response:this.vastResponseXML,wrapperLimit:this.wrapperLimit};this.requestedVastURL=i,this.players.DMVAST.client.totalCalls=0;var a=function(e,n){t&&t.state==Ce.Fetching&&(t.flowTimeout.cancel(),t.onVastResponse(e,n,o))},s=this.players.debug.delayReply||this.delay.Reply;if(s){var l=a;a=function(e,t){return setTimeout(function(){return l(e,t)},s)}}this.flowTimeout.Seconds(this.timers.fetchVast).start(function(){t.state==Ce.Fetching&&(R(t.players,t,"",!1),wr(t.players,t,31,{code:99,message:"",credentials:o.withCredentials,retryCount:t.retryCount}))}),this.players.DMVAST.client.get(i,o,a)}},t.prototype.onVastResponse=function(t,n,r){e.prototype.onAdResponse.call(this)&&this.handleVastResponse(t,n,r)},t.prototype.handleVastResponse=function(e,t,n){var r=this;R(this.players,this,"got vast url "+(t&&t.fromUrlHandler?"error":"response")+" fetching url "+this.requestedVastURL,!1);var i=Ln(this.players,this,t,n);i||(i=On(this.players,this,e))||L("initMedia",{players:this.players,playerData:this,log:!0},function(){Bn(r),r.players.serverEvents.demandTimedEvent(r,{name:"VastFetched",credentials:n.withCredentials,retryCount:r.retryCount}),r.initMedia()},function(){i={reason:27,code:3,message:"initMedia js exception"}}),i&&i.reason&&(xn(this.players,this.vastId,i.code,i.message,null,this,!1,!0),wr(this.players,this,i.reason,{code:i.code,message:i.message,credentials:n.withCredentials,retryCount:this.retryCount,status:t&&t.status}))},t}(Gt);function Xn(e,t){return new a.Promise(function(n,r){var i=function(e,t){return!!e.htmlOnly||void 0!==t.sandbox&&t.sandbox}(e,t),o=function(e){var t=document.createElement("iframe");return t.src="about:blank",t.width="100%",t.height="100%",t.id="vjs"+Math.floor(5e3*Math.random()),t.setAttribute("frameBorder","0"),t.setAttribute("scrolling","no"),t.style.position="absolute",t.style.left="0px",t.style.top="0px",t.style.overflow="hidden",e&&(t.sandbox="allow-scripts allow-same-origin allow-popups"),t}(i);t.jsVpaidFrame=o,t.adContainer.appendChild(o);var a=o.contentWindow&&o.contentWindow.document;if(!a)throw new Error("loadJSVpaid frame document not defined");a.write('<!DOCTYPE html>\n      <html lang="en">\n        <head>\n          <meta charset="UTF-8">\n          '+("https:"==e.protocol?'<meta http-equiv="Content-Security-Policy" content= "upgrade-insecure-requests;" >':"")+'\n        </head>\n        <body style="margin:0;padding:0;"></body>\n      </html>'),t.xhrEvent&&function e(t,n,r,i,o){qn(t,n,r,null!=o,o);var a=t.document,s=a.createElement;a.createElement=function(o){var l=s.call(a,o);if("iframe"!==o.toLowerCase())return l;var d,u=!1,c=!1,p=function(){if(u)return d&&d.disconnect(),void(d=null);try{if(l.src&&l.src.startsWith("http"))return i&&(l.parentNode.removeChild(l),n&&n.emit("iframeBlock",{type:"iframeBlock",src:l.src},null,t.XMLHttpRequest)),void(u=!0);if(!l.contentDocument)return;c||(e(l.contentWindow,n,r,i),c=!0);var o=l.contentWindow.XMLHttpRequest;o.tag?u=!0:o.tag=function(e){try{var t=e.contentDocument.querySelector("script");if(t)return t.src}catch(e){}return null}(l)}catch(e){u=!0}};return MutationObserver&&(d=new MutationObserver(p)).observe(l,{attributes:!0,childList:!0,characterData:!0}),l.addEventListener("load",p),setTimeout(p,5),l}}(o.contentWindow,t.xhrEvent,e.blacklist,e.observableOnly,t.mediaURL);var s=a.createElement("script");s.setAttribute("type","text/javascript");var l=t.mediaURL;e.isDebugVersion&&e.playerUrl&&l.match(/^http.*\/player\/cedato_vpaid.*\.js/)&&(l=l.replace(/^http.*\.js/,e.playerUrl.replace("_player","_vpaid"))),s.src=A(e.protocol,l),s.addEventListener("load",function(){L("jsVpaidLoaded",{players:e,playerData:t},function(){!function(e,t){if("function"==typeof e.jsVpaidLoaded)return e.jsVpaidLoaded(t);var n=t.jsVpaidFrame;if(!n||!n.contentWindow||!n.contentWindow.getVPAIDAd)throw new Error("couldn't find js vpaid module");je(t.videoElement)&&!t.vpaidUseJSV?(t.videoElement.style.display="none",t.vpaidJsIframeVideo=document.createElement("video"),t.adContainer.insertBefore(t.vpaidJsIframeVideo,t.adContainer.firstChild)):t.vpaidJsIframeVideo=t.videoElement;t.vpaidJsIframeVideo.setAttribute("style","margin:0;padding:0;top:0px;left:0px;position:absolute;width:100%;height:100%;"),e.muted&&(t.vpaidJsIframeVideo.volume=0,t.vpaidJsIframeVideo.muted=!e.dynamicSound);e.muteToPlay&&(t.vpaidJsIframeVideo.volume=0,t.vpaidJsIframeVideo.muted=!0);if(t.vpaidJs=n.contentWindow.getVPAIDAd(),!t.vpaidJs)throw new Error("failed to create js vpaid module");t.vpaidJs.handshakeVersion&&t.vpaidJs.handshakeVersion("2.0")}(e,t),n()},r)});var d=a.createElement("div");d.id="vpaid-js-ad-elem",d.className="vpaid-ad-slot",d.setAttribute("style","margin:0;padding:0;width:100%;height:100%;position:absolute;left:0;top:0;"),t.vpaidJsIframeAdElem=d,(t.iframeSlot||i?a.body:t.adContainer).appendChild(d),a.body.appendChild(s),t.initCompanion(a)})}var Gn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Kn(e,t){var n=void 0===t?{}:t,r=n.dataFunc,i=void 0===r?null:r,o=n.setVolume,a=void 0!==o&&o,s=n.log,d=void 0===s||s;return function(t,n){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(t.vpaidJs)try{d&&R(t.players,t,"got js "+n+" event",!1),i&&(r=i.apply(t,r)),l.a.delay(t.delay[n]||0).then(function(){e(t.players,t,r)}).catch(P(t.players,"jsvpaid event "+n)),a&&(t.syncVolume(),R(t.players,t,"sync volume",!1))}catch(e){re(t.players,3,"jsVpaid"+n+" hanlder JS exception: ",e),e&&e.terminateVpaid&&wr(t.players,t,9,{code:10,message:"volume violation",vpaidError:Tn.VPAID_VOLUME_VIOLATION})}else!function(e,t,n){oe(e,{category:"vpaidjs",event:"disappeared",error:"vpaidJS event called after destroy:"+n,url:t.mediaURL,vast:t.vastId},ce)}(t.players,t,n)}}}var zn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gn(t,e),t.prototype.getAdRemainingTime=function(){var e;try{e=(e=this.vpaidJs.getAdRemainingTime())<0?null:e}catch(e){}return e},t.prototype.getAdDuration=function(){var e;try{e=(e=this.vpaidJs.getAdDuration())<0?null:e}catch(e){}return e},t.prototype.verifyDuration=function(){if(!this.durationKnown){var e=this.getAdDuration();e&&(this.duration=e,this.durationKnown=!0)}},t.prototype.isNonLinear=function(){return this.vpaidJs.getAdLinear&&!this.vpaidJs.getAdLinear()},t.prototype.initNonLinearCompleter=function(){var e=this;!this.isNonLinear()&&this.durationKnown||(R(this.players,this,"init non-linear completer timer: "+this.duration+" seconds",!1),this.nonLinearCompleteTimer=l.a.Seconds(this.duration),this.nonLinearCompleteTimer.start(function(){R(e.players,e,"non-linear completer timer call - stop player data",!1),En(e.players,e)}))},t.guessError=function(e){return void 0===e?e="unknown error":"string"!=typeof e&&(e=e.message?e.message:e.data&&e.data.message?e.data.message:"Couldnt extract error message"),{errorMsg:e}},t.clickData=function(e,t,n){return Array.isArray(e)?{url:e[0]||"",id:e[1],playerHandles:e[2]}:{url:e||"",id:t,playerHandles:n}},t.prototype.considerVolumeChange=function(){if(!this.players.AllowedUnmute()){var e=!1,t=null,n=!1;try{if(0==this.vpaidJs.getAdVolume())return;this.viewable?this.viewableForSeconds()<1?t="JS VPAID - AdVolume change too soon after adStarted":(e=!0,t="JS VPAID - AdVolume change allowed"):t="JS VPAID - AdVolume change before viewable",e||(this.vpaidJs.setAdVolume(0),0==this.vpaidJs.getAdVolume()&&(n=!0,t="JS VPAID - AdVolume change reverted"))}catch(e){t="JS VPAID - AdVolumeChanged exception"+(e&&e.message?e.message:"")}!function(e,t,n,r){oe(e,{category:"sound",event:n?"enabled":"rejected",error:r,url:t.mediaURL,vast:t.vastId},n?ue:de)}(this.players,this,e||n,t)}},t.prototype.subscribe=function(){var e=t.VpaidEvents;for(var n in this.eventSubscriptions={},e)e.hasOwnProperty(n)&&(this.eventSubscriptions[n]=e[n](this,n),this.vpaidJs.subscribe(this.eventSubscriptions[n],n))},t.prototype.unsubscribe=function(){for(var e in this.eventSubscriptions)this.eventSubscriptions.hasOwnProperty(e)&&(this.vpaidJs.unsubscribe(this.eventSubscriptions[e],e),delete this.eventSubscriptions[e])},t.prototype.insertCompanion=function(){this.vpaidJsIframeAdElem.appendChild(this.companionsElementDiv)},t.prototype.isUnlocked=function(){return!1},t.prototype.initMedia=function(){var t=this;if(this.vpaidJs=null,function(e,t){e.thirdPartyTimeout&&(-1!=t.mediaURL.indexOf("liverail.com")&&(-1==t.mediaURL.indexOf("LR_TIMEOUT_ADSOURCE")&&(t.mediaURL+="&LR_TIMEOUT_ADSOURCE="+e.thirdPartyTimeout,R(e,t,"initMedia: added timeout to media file, new url: "+t.mediaURL,!1)),-1==t.mediaURL.indexOf("LR_TIMEOUT_DELIVERY")&&(t.mediaURL+="&LR_TIMEOUT_DELIVERY="+e.thirdPartyTimeout,R(e,t,"initMedia: added timeout to media file, new url: "+t.mediaURL,!1))),-1!=t.mediaURL.indexOf("adap.tv")&&-1==t.mediaURL.indexOf("breakLoadedTimeout")&&(t.mediaURL+="&breakLoadedTimeout="+1e3*e.thirdPartyTimeout,R(e,t,"initMedia: added timeout to media file, new url: "+t.mediaURL,!1)))}(this.players,this),!Hn(this.players.blacklist,this.mediaURL))return this.players.xhrInterceptEnabled&&this.xhrIntercept(),e.prototype.initMedia.call(this).then(function(){return Xn(t.players,t).then(function(){t.players.showBrandMenu&&ft(t.players,t.vpaidJsIframeAdElem,t),t.subscribe(),jt(t.players,t,function(){return en(t.players,t)}),R(t.players,t,"initMedia: done",!0)}).catch(function(e){xn(t.players,t.vastId,100,e.message,null,t),wr(t.players,t,15,{code:100,message:e.message})})});wr(this.players,this,29)},t.prototype.xhrIntercept=function(){var e=this;this.xhrStats={},this.xhrEvent=new o.EventEmitter2({wildcard:!0}),this.xhrEvent.on("*",function(t,n,r){var i="error"==t.type||"timeout"==t.type||"blocked"==t.type||"iframeBlock"==t.type;e.xhrStats[t.type]=(e.xhrStats[t.type]||0)+1,"open"==t.type&&"async"in t&&!t.async&&(i=!0,e.xhrStats.sync=(e.xhrStats.sync||0)+1);for(var o=-1,a="",s=r;s;)o++,a=(s.tag||"")+"\n"+a,s=s.parent;if((e.xhrStats.maxDep||0)<o&&(e.xhrStats.maxDep=o),e.players.xhrTraceToConsole){var l=n?n.url+" "+(n.statusText||"")+" "+(n.status||""):t.src;console[i?"error":"warn"]("XHR",e.vastId,t.type,l,"\n"+o+" => "+a)}})},t.prototype.initAd=function(){var e={AdParameters:this.adParameters||""},t={slot:this.vpaidJsIframeAdElem,videoSlot:this.vpaidJsIframeVideo,videoSlotCanAutoPlay:this.players.mainAutoplay},n=this.vpaidJs.initAd(this.players.widthOverwrite||this.players.width,this.players.heightOverwrite||this.players.height,"normal",4800,e,t);if(!n&&void 0!==n)return"jsVpaid error"},t.prototype.startAd=function(e){this.players.rootDivElem.style.top="0px",this.syncVolume(e);try{this.vpaidJs.startAd(),this.sureFastStart=!1,function(e,t){e.parallelStartAd&&t.startAdHalfTimeout.start(function(){R(e,t,"half stopper point, starting more if ready",!1),Nt(e)})}(this.players,this),function(e,t){t.flowTimeout.Seconds(e.parallelStartAd?t.timers.startAdParallel:t.timers.startAdNonParallel).start(function(){Ar(e,t),xn(e,t.vastId,41,"",null,t,e.parallelStartAd),wr(e,t,18,{code:41,message:""}),Nt(e)})}(this.players,this)}catch(e){return"jsVpaid start error"}return null},t.prototype.pauseAd=function(){this.vpaidJs&&this.vpaidJs.pauseAd&&this.vpaidJs.pauseAd()},t.prototype.resumeAd=function(){this.vpaidJs&&this.vpaidJs.resumeAd&&this.vpaidJs.resumeAd()},t.prototype.stopAd=function(){this.vpaidJs&&(this.vpaidJs.stopAd&&this.vpaidJs.stopAd(),this.vpaidJs.pauseAd&&this.vpaidJs.pauseAd())},t.prototype.showAd=function(){e.prototype.showAd.call(this),this.vpaidJsIframeAdElem&&(this.vpaidJsIframeAdElem.style.zIndex="10000"),this.vpaidJsIframeVideo&&(this.vpaidJsIframeVideo.style.margin="0",this.vpaidJsIframeVideo.style.padding="0",this.vpaidJsIframeVideo.style.top="0px",this.vpaidJsIframeVideo.style.left="0px",this.vpaidJsIframeVideo.style.position="absolute")},t.prototype.hideAd=function(){this.vpaidJsIframeAdElem&&(this.vpaidJsIframeAdElem.style.zIndex=(1-this.uniqId).toString()),this.vpaidJsIframeVideo&&(this.vpaidJsIframeVideo.style.zIndex=(1-this.uniqId).toString()),e.prototype.hideAd.call(this)},t.prototype.clearAd=function(){try{this.vpaidJs&&(this.firedEvents.AdError||this.firedEvents.AdStopped||this.vpaidJs.stopAd(),this.vpaidJs.clearAd&&this.vpaidJs.clearAd(),this.unsubscribe()),this.players.showBrandMenu&&function(e,t,n){var r=n||e;if(r.brandMenuHandlers)for(var i=0;i<e.brandMenuListeners.length;i++){var o=e.brandMenuListeners[i],a=o.eventName;(o.bodyHandler?window.document:t).removeEventListener(a,r.brandMenuHandlers[i],!0),o.bodyHandler&&t.ownerDocument!==window.document&&t.ownerDocument.removeEventListener(a,r.brandMenuHandlers[i],!0)}}(this.players,this.vpaidJsIframeAdElem,this),this.jsVpaidFrame.parentNode.removeChild(this.jsVpaidFrame)}catch(e){}this.initialSound=!1,this.jsVpaidFrame=null,this.vpaidJsIframeAdElem=null,this.vpaidJsIframeVideo=null,this.vpaidJsIframeVideoCanvas=null,this.vpaidJs=null,this.xhrStats&&R(this.players,this,"XHR trace: "+JSON.stringify(this.xhrStats),!1)},t.prototype.resizeAd=function(e,t,n){this.vpaidJs&&this.vpaidJs.resizeAd&&this.vpaidJs.resizeAd(e,t,n)},t.prototype.setAdVolume=function(e,t,n){if(this.vpaidJs&&this.vpaidJs.setAdVolume){if(this.players.muteToPlay&&!t&&!n&&!this.isUnlocked()){if(this.initialSound)return;t=!0}this.muted=t,e=t?0:e;try{this.vpaidJsIframeVideo.volume=e,this.vpaidJsIframeVideo.muted=t,this.initialSound&&this.vpaidJs.getAdVolume&&this.vpaidJs.getAdVolume()===e||this.vpaidJs.setAdVolume(e),this.initialSound=!0}catch(e){}}},t.prototype.getAdVolume=function(){return this.vpaidJs&&this.vpaidJs.getAdVolume&&{volume:this.vpaidJs.getAdVolume()}},t.prototype.isLinear=function(){return!this.vpaidJs||this.vpaidJs.getAdLinear()},t.prototype.getProgress=function(){this.verifyDuration();var e=this.duration;return{time:e-this.getAdRemainingTime(),duration:e}},t.prototype.getAdSkippableState=function(){return this.vpaidJs.getAdSkippableState&&this.vpaidJs.getAdSkippableState()||e.prototype.getAdSkippableState.call(this)},t.prototype.skipAd=function(){var e=this;this.vpaidJs.getAdSkippableState&&this.vpaidJs.getAdSkippableState()?(this.vpaidJs.skipAd(),this.failSkipTimer.start(function(){R(e.players,e,"slow skipAd, force skip"),e.onSkip()})):(R(this.players,this,"ad is not in skippable state, force skip"),this.onSkip())},t.prototype.getErrorEvent=function(t){var n={event:{},timed:!0};return this.state==Ce.Initing?(n.event={name:"AdLoadError",errorCode:10==t.code?30:t.code,message:t.message},31==t.code&&(n.event.timeout=!0)):n=e.prototype.getErrorEvent.call(this,t),t.vpaidError&&(n.event.vpaidError=t.vpaidError),n},t.VpaidEvents={AdLoaded:Kn(tn,{setVolume:!0}),AdError:Kn(nn,{dataFunc:t.guessError}),AdStarted:Kn(rn,{dataFunc:function(){this.state<Ce.Started&&(R(this.players,this,"unrequested start - same vast prefetch disabled",!1),this.disableSameVastPrefetch=!0),this.verifyDuration()},setVolume:!0}),AdStopped:Kn(cn),AdPlaying:Kn(mn),AdPaused:Kn(fn),AdVideoStart:Kn(an,{dataFunc:function(){this.verifyDuration(),this.nonLinearCompleteTimer.cancel()},setVolume:!0}),AdVideoFirstQuartile:Kn(sn),AdVideoMidpoint:Kn(ln),AdVideoThirdQuartile:Kn(dn),AdVideoComplete:Kn(un),AdImpression:Kn(on,{setVolume:!0}),AdRemainingTimeChange:Kn(An,{dataFunc:function(){return{t:this.getAdRemainingTime()}},log:!1}),AdDurationChange:Kn(hn,{dataFunc:function(){return{t:this.getAdDuration()}}}),AdVolumeChange:Kn(vn,{dataFunc:function(){this.considerVolumeChange()}}),AdClickThru:Kn(pn,{dataFunc:t.clickData}),AdSkipped:Kn(gn),AdSkippableStateChange:Kn(yn),AdUserClose:Kn(En)},t}(Wn),Yn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.firstPlayEventTriggered=!1,t.completed=!1,t}return Yn(t,e),t.prototype.initMedia=function(){var t=this;return e.prototype.initMedia.call(this).then(function(){t.initCompanion(),function(e,t){if(t.videoElementPrepared)return;L("prepareVideoElem",{players:e,playerData:t,log:!0},function(){Me(t.videoElement,"video_element"),t.videoElement.style.zIndex=(9994-t.uniqId).toString(),t.firstPlayEventTriggered=!1;var n=tr;if(t.delay.AdLoaded){var r=tr;n=function(e,t){return setTimeout(function(){return r(e,t)},t.delay.AdLoaded)}}var i=er;if(je(t.videoElement)){var o=er;i=function(e,t){return l.a.delay(0).then(function(){return o(e,t)}).catch(P(e,"ad video event play"))}}V(t.videoElement,"ad video event",{players:e,playerData:t},[{type:"canplay",playerDataAction:n},{type:"play",playerDataAction:i},{type:"pause",playerDataAction:$n},{type:"ended",playerDataAction:nr},{type:"timeupdate",playerDataAction:or},{type:"volumechange",playerDataAction:ar},{type:"error",playerDataAction:rr},{type:"click",playerDataAction:ir}]),t.videoElementPrepared=!0})}(t.players,t),Be(t.players,t.videoElement,t.mediaURL),je(t.videoElement)||(t.videoElement.autoplay=!1,t.videoElement.controls=t.players.controlBar&&"native"==t.players.controlBarType,t.videoElement.loop=!1,t.videoElement.load()),R(t.players,t,"initMedia: done",!0)}).catch(P(this.players,"initMedia"))},t.prototype.getSkipOffset=function(){var t=this.creative.skipDelay||-1;return e.prototype.getSkipOffset.call(this)>0&&(t=t>0?Math.min(e.prototype.getSkipOffset.call(this),t):e.prototype.getSkipOffset.call(this)),t},t.prototype.initAd=function(){},t.prototype.startAd=function(e){this.showAd(),this.sureFastStart=!0,this.syncVolume(e),ge(this.players,this.videoElement,this.videoElement.play(),"vast")},t.prototype.pauseAd=function(){this.videoElement.pause()},t.prototype.resumeAd=function(){this.videoElement.play()},t.prototype.stopAd=function(){this.videoElement.pause()},t.prototype.showAd=function(){this.adContainer.style.zIndex="10000",this.adContainer.style.position="absolute"},t.prototype.hideAd=function(){this.adContainer.style.zIndex=(1-this.uniqId).toString()},t.prototype.clearAd=function(){je(this.videoElement)&&this.videoElement.pause()},t.prototype.destroyAd=function(){this.clearAd(),this.adContainer&&this.adContainer.parentNode&&this.adContainer.parentNode.removeChild(this.adContainer)},t.prototype.resizeAd=function(e,t,n){},t.prototype.setAdVolume=function(e,t,n){!this.players.muteToPlay||t||n||this.isUnlocked()?(this.muted=t,this.videoElement&&(this.videoElement.muted!==t&&(this.videoElement.muted=t),this.videoElement.volume!==e&&(this.videoElement.volume=e))):!this.muted&&this.state<=Ce.Started&&this.setAdVolume(e,!0,!1)},t.prototype.getAdVolume=function(){return this.videoElement&&{volume:this.videoElement.volume,muted:this.videoElement.muted}},t.prototype.getProgress=function(){var e=this.videoElement.duration;return{time:Math.min(this.videoElement.currentTime,e),duration:e}},t.prototype.getErrorEvent=function(t){var n=e.prototype.getErrorEvent.call(this,t);return t.videoError&&(n.event.videoError=t.videoError),n},t}(Wn);function $n(e,t){t.videoElement.duration>0&&t.videoElement.duration>t.videoElement.currentTime&&(R(e,t,"got video paused callback",!0),Qr(e,t))}function er(e,t){if(Jr(e,t),e.beingVpaid){Ir(e,"jsAdDurationChange",{duration:(t.duration?t.duration:t.videoElement.duration).toFixed(2)})}R(e,t,"onplay",!1),t.firstPlayEventTriggered?R(e,t,"already handled play event",!1):(t.firstPlayEventTriggered=!0,t.state==Ce.Started?(Yt(e,t),Zt(e,t)||(e.beingVpaid&&Ir(e,"jsAdVideoStart",{}),t.errorCount=0,R(e,t,"onplay done",!1))):R(e,t,"invalid state, was probably stopped - "+t.state,!1))}function tr(e,t){R(e,t,"video oncanplay",!1),"video"==t.adType?t.state>=Ce.Ready?R(e,t,"video oncanplay but state is "+t.state,!1):function(e,t){R(e,t,"video loaded handler",!1),Xe(e,t),ii(e,t,"ad.loaded",e.mediaPreview?{mediaUrl:t.videoElement&&t.videoElement.src}:null),t.durationKnown=!0;try{t.duration=t.videoElement.duration,t.vastTracker&&(t.vastTracker.duration=t.duration,t.vastTracker.setDuration(t.duration))}catch(e){t.durationKnown=!1}var n=Math.floor(e.width),r=Math.floor(e.height),i=(e.height-r)/2;R(e,t,"video width: "+n+", height: "+r+", top: "+(i=Math.floor(i)),!1),t.videoElement.style.cssText="background-color: black; width:100%; height:100%; position: relative; top: "+i+"px",t.state=Ce.Ready,e.beingVpaid&&Ir(e,"jsAdReadyToStart",{});try{t.syncVolume()}catch(e){}Nt(e)}(e,t):R(e,t,"adType not video: "+t.adType,!1)}function nr(e,t,n){t.completed?R(e,t,"dup video ended event",!1):(t.completed=!0,t.onComplete(),wr(e,t,1))}function rr(e,t,n){if(t.state!=Ce.Error&&"video"==t.adType){R(e,t,"video onerror",!1),ii(e,t,"aderror"),ii(e,t,"ad.error");var r=n.target.error.code;xn(e,t.vastId,10,"video player error code: "+r,null,t,!1),wr(e,t,21,{code:10,message:Fe(n.target),videoError:r})}}function ir(e,t){gr(e,t,null)}function or(e,t){if(!(t.state<Ce.Initing||t.state==Ce.Error||"video"!=t.adType)){var n=t.videoElement;t.vastTracker&&t.vastTracker.setProgress(n.currentTime),e.beingVpaid&&Ir(e,"jsAdRemainingTimeChange",{remainingTime:(n.duration-n.currentTime).toFixed()});var r=Math.floor(n.currentTime/n.duration*4);r>0&&r<4&&t.quartile!=r&&t.onQuartile(r)}}function ar(e,t){t.viewable&&t.videoElement.controls&&(R(e,t,"got video volumeChange callback",!0),Kr(e,t.videoElement.volume,t.videoElement.muted,t))}var sr=n(13),lr=!0;var dr={video:Zn.prototype,jsvpaid:zn.prototype,jsima:In.prototype,vast:Wn.prototype};function ur(e,t){if(!t.viewable){t.viewable=!0,t.viewableAt=t.playedAt=Date.now();try{t.showAd()}catch(n){R(e,t,"showAd gave exception of "+t.adType+" : "+n.message,!1)}e.content&&(e.content.setWait(!1),e.content.hide())}}function cr(e,t){mr(e,t),t.viewable=!1,t.viewableAt=t.playedAt=null,e.content&&e.content.start()}function pr(e){return e.findPlayerData(function(e){return e.state==Ce.Playing})}function hr(e,t){t.adContainersReady=e.playerReady.then(function(){lr&&e.unlockedVideos.length>0?(t.reusableVideoTrace=e.unlockedVideos.pop(),t.videoElement=t.reusableVideoTrace.target,t.unlocked=!0):(t.videoElement=Ue(e),t.reusableVideoTrace=Object(sr.traceEventListeners)(t.videoElement)),t.adContainer=function(e){return dt("div",{id:"__cedato_ad_container_"+e+"_"+Math.floor(5e3*Math.random()),style:{zIndex:"-1",width:"100%",height:"100%",position:"absolute",top:"0px",left:"0px",margin:"0",padding:"0",backgroundColor:"#000",overflow:"hidden"}})}(t.vastId),t.adContainer.appendChild(t.videoElement),e.divElem.appendChild(t.adContainer)}).catch(P(e,"prepareAdContainers"))}function Ar(e,t){try{t.stopAd&&t.stopAd()}catch(n){R(e,t,"parallel stopAd of "+t.adType+" gave exception: "+n.message,!1)}}function fr(e,t){try{t.clearAd&&t.clearAd(),t.companionsElementDiv&&(t.companionsElementDiv.parentNode.removeChild(t.companionsElementDiv),t.companionsElementDiv.innerHTML="",t.companionsElementDiv=null),lr&&t.reusableVideoTrace&&t.videoElement&&(t.reusableVideoTrace.reset(),t.videoElement.removeAttribute("src"),t.videoElement.removeAttribute("style"),t.videoElement.removeAttribute("autoplay"))}catch(n){C(e,"clearAd gave exception on "+t.adType+": "+n.message,!1)}}function mr(e,t){t.viewable=!1;try{t.hideAd&&t.hideAd()}catch(n){R(e,t,"hideAd gave exception of "+t.adType+" : "+n.message,!1)}}function vr(e,t,n){L("destroyPlayerData",{players:e,playerData:t,log:!0},function(){if(-1===e.plist.indexOf(t))return!1;if(t.state==Ce.Finished&&null==t.requeryTimeout)return!1;t.state=Ce.Finished,null!=t.requeryTimeout&&(clearTimeout(t.requeryTimeout),t.requeryTimeout=null),t.flowTimeout.cancel(),t.startAdHalfTimeout.cancel(),t.sameVastTimer.cancel(),t.skipTimer.cancel(),null!=t.initAdThrottler&&(clearInterval(t.initAdThrottler),t.initAdThrottler=null),mr(e,t),-1!==e.plist.indexOf(t)&&(e.plist.splice(e.plist.indexOf(t),1),function(e,t,n){for(var r=0,i=e.plist;r<i.length;r++){var o=i[r];if(o.demandId==t||""+o.vastId==t)return}n?e.vastList[t]=kn.DEACTIVATED:e.vastList[t]!=kn.DEACTIVATED&&(e.vastList[t]=kn.FROZEN)}(e,t.demandId||t.vastId,n));try{fr(e,t),lr&&t.reusableVideoTrace&&t.unlocked&&t.videoElement&&!je(t.videoElement)&&(e.unlockedVideos.push(t.reusableVideoTrace),t.videoElement.parentNode&&t.videoElement.parentNode.removeChild(t.videoElement),t.videoElement=null),t.destroyAd&&t.destroyAd(),t.adContainer&&t.adContainer.parentNode&&(t.adContainer.parentNode.removeChild(t.adContainer),t.adContainer=null)}catch(t){C(e,"destroyAd gave exception: "+t.message,!1)}})}function gr(e,t,n,r){void 0===r&&(r=!1),!t.skipVastTracker&&t.vastTracker?t.vastTracker.click():t.skipVastTracker||re(e,6,"no vastTracker for click",null),R(e,t,"adClick url:"+(n=n||t.adClickUrl),!1),ii(e,t,"click",{url:n}),ze(e,t,"adclick",{clickUrl:n}),Ge(e,M.E_CLICK,t,{url:n}),e.serverEvents.demandEvent(t,{name:"AdClick",clickUrl:n}),e.beingVpaid&&Ir(e,"jsAdClickthrough",{url:n}),r?R(e,t,t.adType+" - external handling of the click through",!1):n&&"string"==typeof n&&window.open(n,"_blank")}function yr(e,t){var n=t.getSkipOffset();n>0&&(R(e,t,"init skip offset timer: "+n+" seconds",!1),t.skipTimer.Seconds(n).start(function(){Er(e,t,!0)}))}function Er(e,t,n){var r=null!==n?n:t.isSkippable();t.skippable!=r&&(e.beingVpaid&&Ir(e,"jsAdSkippableState",{}),t.skippable=!!r,t.skippable&&t.skipTimer.cancel(),ii(e,t,"ad.skippableStateChanged",{skippable:t.skippable}))}var br={error:1},_r=[{action:{terminate:!0},reasons:[2,1,5,7,8,3,9,21,20,17,23,29,30,12]},{action:{error:0},reasons:[10,11,4]},{action:{error:100},reasons:[18]},{action:{error:105,maxRetries:3},reasons:[6]},{action:{error:105},reasons:[19]}];function Tr(e,t){return null!=e.findPlayerData(function(e){return e!=t&&e.state==Ce.Playing})}function wr(e,t,n,r){if(void 0===n&&(n=28),"function"==typeof e.finishPlayerData)return e.finishPlayerData(t,n,r);if(t.state!=Ce.Error&&t.state!=Ce.Finished){if(function(e,t,n,r){void 0===n&&(n=28);var i="finish reason - "+n;r&&(i+=(r.code?", errorCode: "+r.code:"")+(r.message?", errorMessage: "+r.message:"")),R(e,t,i,!1)}(e,t,n,r),e.anyPlaying=e.anyPlaying&&Tr(e,t),cr(e,t),t.flowTimeout.cancel(),r&&function(e,t,n){if(3!=n.code){var r=t.getErrorEvent(n);r&&(r.timed?e.serverEvents.demandTimedEvent(t,r.event):e.serverEvents.demandEvent(t,r.event))}}(e,t,{code:r.code,message:r.message,status:r.status,credentials:r.credentials,retryCount:r.retryCount,vpaidError:r.vpaidError,videoError:r.videoError,imaError:r.imaError}),t.state==Ce.Playing){var i={listCompleted:e.frozen,skipped:2==n,error:!!r,tooLong:3==n};ii(e,t,"adcomplete",i),ii(e,t,"ad.complete",i),e.frozen&&!e.content&&ii(e,t,"player.finished"),t.finishPromiseResolve()}if(Un(e,t,"FinishPlayerData")||function(e,t){for(var n=br,r=0,i=_r;r<i.length;r++){var o=i[r];if(o.reasons.indexOf(t)>=0){n=o.action;break}}if(n.terminate)return!0;n.error&&n.error>=1&&(e.state=Ce.Error,e.errorCount=e.errorCount+n.error);n.maxRetries&&(e.maxFailedVastRetries=Math.min(n.maxRetries,e.maxFailedVastRetries));return!1}(t,n))return Un(e,null,"FinishPlayerData - duplicate")||1!=n&&2!=n?t.sameVastTimer.cancel():t.sameVastTimer.trigger(),vr(e,t,(1==n||2==n)&&t.reachedMaxAdStarts()),void(2==n&&e.paused?Jr(e,"ui"):Nt(e));!function(e,t,n){if(!e.getPlayerDataByUniq(t.uniqId))return void R(e,t,"requery vast removed from plist - ignoring",!1);if(null!=t.requeryTimeout)return void R(e,t,"requery vast already scheduled - ignoring",!1);t.state=Ce.Finished,R(e,t,"requeryAd: start",!1),t.flowTimeout.cancel(),t.startAdHalfTimeout.cancel(),null!=t.initAdThrottler&&(clearInterval(t.initAdThrottler),t.initAdThrottler=null);fr(e,t),R(e,t,"scheduling requery vast",!1),t.requeryTimeout=setTimeout(function(){t.requeryTimeout=null,R(e,t,"requery",!1),Nn(e,t)},n)}(e,t,t.getRequeryFrequency())}}function kr(e,t,n){return void 0===n&&(n=!0),C(e,"freezing players",!1),e.frozen=!0,e.playNextRepeatTimer.cancel(),function(e,t,n){C(e,t?"destroying all players except for vastId "+t.vastId:"destroying all players",!1);for(var r=e.plist.length-1;r>=0;r--)e.plist[r]!==t&&vr(e,e.plist[r],n)}(e,t,n),ii(e,null,"player.adspaused"),t?(t.sameVastTimer.cancel(),C(e,"leaving players objects for now",!1)):(e.anyPlaying=!1,e.content&&e.content.start(),C(e,"removing players objects",!1),null!=e.domLoadTimeout&&(clearTimeout(e.domLoadTimeout),e.domLoadTimeout=null)),null!=e.requeryGpvTimer&&(clearInterval(e.requeryGpvTimer),e.requeryGpvTimer=null),t?t.finishPromise:a.Promise.resolve()}function Cr(e){if(e.beingVpaid){C(e,"post prepare js callbacks",!1);var t=new o.EventEmitter2;t.on("inPlayAd",function(){return e.playerReady.then(function(){return function(e){ii(e,null,"adplay"),e.paused=!1,C(e,"play callback called",!1),Nt(e,!0),e.anyPlaying||(e.autoplay=!0)}(e)})}),t.on("inStopAd",function(){return setTimeout(function(){e.autoplay=!1,C(e,"vp stop callback called",!1),kr(e),Ir(e,"jsAdStopped",{})},0)}),t.on("inPauseAd",function(){return setTimeout(function(){e.autoplay=!1,C(e,"vp pause callback called",!1),Qr(e,"vpaidplayer")},0)}),t.on("inResumeAd",function(){return setTimeout(function(){C(e,"vp resume callback called",!1),Jr(e,"vpaidplayer")},0)}),t.on("inSetAdVolume",function(t){return setTimeout(function(){C(e,"vp set volume callback called",!1),Kr(e,t&&t.volume)},0)}),t.on("inResizeAd",function(t){return setTimeout(function(){C(e,"vp resize callback called",!1),Gr(e,t.viewMode,t.width,t.height)},0)}),t.on("inResizeAd",function(){return setTimeout(function(){C(e,"vpExpandAdCallbackFuncName called",!1)},0)}),t.on("inInitAd",function(t){var n=t.slot,r=e.beingVpaidUseSlot;if(n&&!1!==r){var i=e.rootDivElem;i.parentNode.removeChild(i),n.parentNode.style.margin=0,n.parentNode.style.padding=0,(Math.abs(n.offsetTop)>50||Math.abs(n.offsetLeft)>50)&&(n.style.position="fixed",n.style.top=0,n.style.left=0),n.appendChild(i)}setTimeout(function(){Gr(e,t.viewMode,t.width||e.width,t.height||e.height),Ir(e,"jsAdReadyToStart",{})},0)});var n=document.createElement("div");n.setAttribute("id",e.divId);var r=e.widthOverwrite||e.width,i=e.heightOverwrite||e.height;if(n.setAttribute("style","width:"+r+"px;height:"+i+"px;position:relative;top:0px;"),e.rootDivElem=n,e.jsCallingVpaid)document.querySelector("body").appendChild(n),e.callingJSVpaid.handshake(function(e,n){return t.emit(e,n)});if(e.companionsRootDivElem=document.createElement("div"),e.companionsDivElem=document.createElement("div"),e.companionsDivElem.setAttribute("style","width:100%;height:100%;position:relative;top:0px; display: block;"),e.companionsRootDivElem.appendChild(e.companionsDivElem),e.jsCallingVpaid)document.querySelector("body").appendChild(e.companionsRootDivElem);return!0}}function Ir(e,t,n){e.jsCallingVpaid&&L(t,{players:e,log:!0},function(){e.callingJSVpaid.pEvent(t,n)})}var Rr,xr=function(){return function(){this.duplicate=10,this.requestAds=60,this.fetchVast=86400,this.loadAd=60,this.impressionAfterStart=3,this.longImpression=70,this.startAdHalf=7,this.startAdParallel=70,this.startAdNonParallel=20,this.waitHigherGroup=[5,12,12,0]}}(),Sr=function(){return(Sr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Dr(e){switch(typeof e){case"boolean":return{muted:!e};case"number":if(e>=0&&e<=1)return{volume:e};break;case"string":if("on"===e||"off"===e)return{muted:"on"===e}}return null}function Lr(e,t){C(e,"gpvAnswer: get order to destroy player with vastId or demainId "+t,!1);for(var n=[],r=0,i=e.plist;r<i.length;r++){var o=i[r];o.demandId?o.demandId==t&&n.push(o):(o.vastId==t||o.cxvid&&o.cxvid==t)&&n.push(o)}e.anyPlaying=n.length>0||e.anyPlaying;for(var a=0,s=n;a<s.length;a++){var l=s[a];e.anyPlaying=e.anyPlaying&&Tr(e,l),vr(e,l,!0)}return n.length}function Or(e,t){if(t.is&&function(e,t){var n=A(e.protocol,t),r=(new Date).getTime().toString();n=n.replace(/\[CB\]/g,r).replace(/\[DIVID\]/g,e.divId),Object(D.f)(n),C(e,"gpv requested script: "+n,!1)}(e,t.is),Se(e,t),Se(e,e.tagConfig),function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r={};Object(S.g)(function(n,i){var o=t.map(function(e){return n.parser(e[n.parName])}).filter(n.filter);o.length?r[i]=e[i]=o[0]:e[i]=void 0},ke),C(e,"Demand configuration (by supply):"+JSON.stringify(r),!1)}(e,e.tagConfig,t),Object(S.e)(S.b,e,{beacons:t.callbacks,moat:t.moat,customVars:t.cvars,blacklist:t.bll,gpvCookie:t.gpvck,supplyCookieJson:t.cookieJson,gpvRequeryInterval:Object(S.j)(t.gpvnext),gpvUrl:t.gpvurl,networkId:Object(S.j)(t.ni),retryTestGroup:Object(S.j)(t.rtg),vastWaitFactor:Object(S.j)(t.vwf,1),gpvMethod:Object(S.j)(t.gpvm),areqMethod:Object(S.j)(t.areqm),multipleEventMethod:Object(S.j)(t.multim)}),e.timers=Object(S.d)({},new xr,t.timers),Object(S.e)(S.c,e,{keepDebugLog:Object(S.f)(t.sdl),debugLogReason:Object(S.k)(t.sdlr),logVastResponse:Object(S.f)(t.lvr),submitDebugLogOnPlayerError:Object(S.f)(t.sdlpe),submitDebugLogOnVastError:Object(S.f)(t.sdlve),submitDebugLogForVastId:Object(S.j)(t.vd)}),e.keepDebugLog&&(C(e,"gpv turned sdl on",!1),T(e)),t.rvu&&(e.urlReplacer=[],e.urlReplacer.vastId=t.rvu.v,e.urlReplacer.searchFor=t.rvu.s,e.urlReplacer.replaceWith=t.rvu.r),t.ho&&1==t.ho&&(e.htmlOnly=!0),e.customVars&&C(e,"macros values - "+Object(D.l)(e.customVars),!1),!e.gpvConfLoaded){e.vastWaitFactor=e.vastWaitFactor/2,e.maxFailedVastRetries>1&&e.maxFailedVastRetries<50&&(e.maxFailedVastRetries=2*e.maxFailedVastRetries);for(var n,r,i={},o=0,a=e.initOverrides;o<a.length;o++){var s=a[o],l=s.name,d=s.value;switch(l){case"autoplay":e.mainAutoplay=!!d;break;case"interactive":e.interactive=!!d;break;case"content":n=d;break;case"schedule":r=d;break;case"moat":e.moat=d;break;case"contentUrl":case"contentClickUrl":case"contentImage":case"contentImagePosition":case"contentExternal":i[l.substr(7)]=d;break;case"rotate":switch(d){case!0:d=null;break;case!1:d=1;break;default:d*=1}e.maxAdStarts=d;break;case"sound":var u=Dr(d);null!=u&&(e.volume=null!=u.volume?u.volume:u.muted?0:1,e.muted=null!=u.muted?u.muted:!u.volume);break;case"allowSound":"must"==d?(d=!0,e.muteToPlay&&(e.mainAutoplay=!1)):"dynamic"==d&&(e.dynamicSound=!0,d=!1);case"skipButton":case"closeButton":null!=d&&(e[l]=d);break;case"uiControls":d&&(e.extControls=d)}if(e.isDebugVersion)switch(l){case"timers":e.timers=Object(S.d)(e.timers,d);break;case"callbacks":e.beacons=d;break;case"debug":case"customVars":Object(S.e)(S.b,e[l],d)}}e.initOverrides=[],e.gpvConfLoaded=!0,e.beingVpaid?e.mainAutoplay=!1:(e.clickToPlay&&(e.mainAutoplay=!1),e.mainAutoplay||(e.usejsv=!1)),null==e.parallelStartAd&&(e.info.mobile&&e.mainAutoplay?e.parallelStartAd=!1:e.parallelStartAd=!0),e.volume=null!=e.volume?e.volume:e.allowSound?1:0,e.muted=null!=e.muted?e.muted:!e.allowSound,e.dynamicSound=null!=e.dynamicSound?e.dynamicSound:!e.muted,e.controlBar&&e.usejsv&&"native"==e.controlBarType&&(e.controlBar=!1),e.interactive=null!=e.interactive?e.interactive:e.controlBar,e.blacklist=e.blacklist||Qn[e.blackListName],function(e,t,n,r){if(e.contentDefinition=t?{video:{url:t.url,clickUrl:t.click,loop:!!t.cl,shuffle:null!=t.shuffle?!!t.shuffle:null,controlBar:null!=t.co?t.co:e.controlBar},image:{url:t.loader_image_url,position:""},variants:t.variants,wait:t.wait,external:null}:{video:{controlBar:e.controlBar},image:{},variants:null,wait:!1,external:null},n&&Ft(e,n),r)try{r.Url&&(e.contentDefinition.video.url=r.Url),r.ClickUrl&&(e.contentDefinition.video.clickUrl=r.ClickUrl),r.Image&&(e.contentDefinition.image.url=r.Image),r.ImagePosition&&(e.contentDefinition.image.position=r.ImagePosition),r.External&&(e.contentDefinition.external=r.External)}catch(t){C(e," overrride content settings error"+t.message,!1)}}(e,t.content,n,i),function(e,t,n,r){var i,o={time:{wake:10,wait:10},api:!1};!n&&t&&(e.postRoll=!!t.cpf);(i=Object(S.d)({},n,r)).content&&(Object(S.e)(S.a,i.content,o.content),i.content.wait||(i.content=null));i.time&&(Object(S.e)(S.a,i.time,o.time),i.time.start||(i.time=null));if(i.api=!!i.api,i.time||i.content||i.api){if(e.schedule=i,i.api)return C(e,"Frozen until API request",!1),void(e.frozen=!0);i.time&&C(e,"initiating midRoll every "+i.time.start+" sec., wake "+i.time.wake+" sec., wait "+i.time.wait+" sec.",!1),i.content&&C(e,"initiating preroll timeout "+i.content.wait+" sec.",!1),i.time&&!i.content&&(C(e,"Frozen until midRoll",!1),e.frozen=!0)}}(e,t.content,t.schedule,r),e.autoplay=!1,e.paused=!0}}function Vr(e){Pr(e).then(function(t){return Mr(e,t)}).catch(P(e,"getPlayerVast"))}function Pr(e){var t=function(e){var t,n=[],r=[],i=[];for(var o in e.vastList)e.vastList.hasOwnProperty(o)&&(e.vastList[o]==kn.ACTIVE?n.push(o):e.vastList[o]==kn.DEACTIVATED&&-1==r.indexOf(o)?r.push(o):e.vastList[o]==kn.FROZEN&&-1==i.indexOf(o)&&i.push(o));var a=null,s={av:n.length?n.join(","):"",dv:r.length?r.join(","):"",fv:i.length?i.join(","):""};return e.gpvUrl?(t=e.gpvUrl,-1==e.gpvUrl.indexOf("?")&&-1==e.gpvUrl.indexOf("&")||(t+="&"),a=s):(t=e.serverHost()+"/player/gpv",a=Sr({p:e.playerId,d:e.domain,sid:e.subid,pv:e.playerVersion,w:e.width,h:e.height,f:"0",dd:e.domainDetected!==e.domain?e.domainDetected:"",vs:e.hasVideoSupport?"1":"0",sa:e.detect,gpvck:e.gpvCookie,s:Object(D.c)(e.startTime)},s,e.gpvExtraParams)),{url:t,params:a,usePost:1==e.gpvMethod}}(e);return C(e,"gpv url: "+t.url,!1),new a.Promise(function(n,r){var i=2;function o(n){if(i--<=0)return C(e,"gpv load failed, url: "+t.url,!1),void r(n);setTimeout(a,e.gpvRetryInterval)}function a(){e.gpvAttempt++,E(t).then(function(e){return e?n(e):o({name:"GPV",message:"Empty GPV data"})},o)}a()})}function Mr(e,t){L("gpvAnswer",{players:e,log:!0},function(){e.gpvTime=Object(D.c)(e.startTime),C(e,t,!0),C(e,"gpvAnswer: initializing players",!1);var n=t.fs?t.fs[0]:t;e.urlReplacer=null;for(var r=0,i=[],o=0,a=n;o<a.length;o++){if("c"==(d=a[o]).id&&"d"==d.c)return C(e,"gpvAnswer: get order from gpv to destroy all players",!1),void kr(e);"c"==d.id?Or(e,d):"d"==d.c&&(r+=Lr(e,d.id))}for(var s=0,l=n;s<l.length;s++){var d;if((d=l[s]).id&&"c"!=d.id&&"d"!=d.c){C(e,"gpvAnswer: initializing player for vastId "+d.id+", group: "+d.group+", url: "+d.url,!1);var u=new zt(e,d);i.push(u),e.vastList[u.demandId||u.vastId]=kn.ACTIVE}}C(e,"gpvAnswer: adding vasts to playlist and fetch",!1),function(e,t){if(t.length>0)for(var n=0,r=t;n<r.length;n++)0==(l=r[n]).group&&C(e,"premium vast found, vastId: "+l.vastId,!1),e.plist.push(l);C(e,"initiating fetch player vasts",!1),e.fetchTime=Date.now();for(var i=0,o=function(t){if(t.state==Ce.None&&(t.adContainersReady||hr(e,t),!e.frozen)){var n=(e.debug.delayRequest||0)+(t.delay.Request||0)+50*i++;setTimeout(function(){jn(e,t)},n)}},a=0,s=e.plist;a<s.length;a++){var l;o(l=s[a])}}(e,i),r&&Nt(e),e.schedule&&(e.schedule.time||e.schedule.api)||(C(e,"gpvAnswer: scheduled gpv, next query after "+e.gpvRequeryInterval/1e3+" seconds"),e.requeryGpvTimer=setTimeout(function(){return Vr(e)},e.gpvRequeryInterval))})}var Nr=n(31).initMoatTracking,Ur=((Rr={})["ad.start"]="AdVideoStart",Rr["ad.firstQuartile"]="AdVideoFirstQuartile",Rr["ad.midpoint"]="AdVideoMidpoint",Rr["ad.thirdQuartile"]="AdVideoThirdQuartile",Rr["ad.complete"]="AdVideoComplete",Rr);function jr(e,t,n){var r=Ur[n];if(!r)return!1;if("ad.start"==n&&(t.moatAPI=function(e,t){var n=t.moat;if(null!=n.rate&&Math.random()>n.rate||!n.ids||!n.partnerCode)return null;var r={},i=Wt(e,t);for(var o in n.ids)n.ids.hasOwnProperty(o)&&(r[o]=i(n.ids[o]));return R(e,t,"init moat, ids: "+JSON.stringify(r)+", partner code: "+n.partnerCode+", rate: "+n.rate,!1,null),Nr(e.divElem,r,t.duration,n.partnerCode,e.content?e.content.getUrl():"")}(e,t)),t.moatAPI){R(e,t,"dispatch moat event: "+r,!1,null);var i={type:r,adVolume:e.volume};t.moatAPI.dispatchEvent(i)}}var Br=function(){return(Br=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Fr(e,t){t.isPaused=!0,C(e,"pause - got playing playerData, vastId: "+t.vastId,!1);try{t.playedAt=null,t.pauseAd(),t.skipTimer.cancel()}catch(n){C(e," pause gave exception on "+t.adType+" pause: "+n.message)}}function qr(e){return e instanceof Gt?e.vastId:e}function Hr(e,t,n,r){var i=qr(r),o=pr(e);return C(e,t+" player requested by "+i,!1),n?(C(e,"redundant "+t+" player ignored, requested by "+i,!1),{allowed:!1,playerData:o}):r instanceof Gt&&r!==o?(C(e,t+" player canceled - not playing ad, requested by "+i,!1),{allowed:!1,playerData:o}):"content"==r&&o?(C(e,t+" player canceled - playing ad, requested by "+i,!1),{allowed:!1,playerData:o}):(C(e,t+" player allowed - "+(o?"playing "+o.vastId:"no playing ad")+", caller: "+i,!1),{allowed:!0,playerData:o})}function Qr(e,t){var n=Hr(e,"pause",e.paused,t),r=n.playerData;n.allowed&&(e.interactive||!("content"==t||t instanceof Gt)?(e.autoplay=!1,e.paused=!0,r?(r.isPaused=!0,t!==r&&Fr(e,r),r.flowTimeout.pause(),ii(e,r,"adpause")):"content"!==t&&e.content instanceof Bt&&e.content.isVisible()&&e.content.pauseContent(),setTimeout(function(){ii(e,null,"player.paused")},0),e.beingVpaid&&Ir(e,"jsAdPaused",{})):C(e,"pause player canceled - not interactive, requested by "+qr(t),!1))}function Jr(e,t,n,r){var i=Hr(e,"resume",e.started&&!e.paused&&e.autoplay,t),o=i.playerData;if(i.allowed){if(e.paused=!1,e.autoplay=!r&&!e.playingVastId,e.started){if(o){if(e.content&&e.content.hide(),e.allowLongImpressions||o.flowTimeout.resume(),o.isPaused=!1,t!=o)try{o.resumeAd(),o.playedAt=Date.now(),yr(e,o)}catch(t){C(e,"resume played gave exception on "+o.adType+" resume: "+t.message)}ii(e,o,"adplay")}else"content"!=t&&e.content&&e.content.start(),r?Vt(e,r,n):Nt(e,n);ii(e,null,"player.resumed")}else St(e,n,r);e.beingVpaid&&Ir(e,"jsAdPlaying",{})}}function Wr(e){var t=pr(e);return e.autoplay=!1,kr(e,t,!1)}function Xr(e,t){return void 0===t&&(t=!0),C(e,"resume ads",!1),e.maxAdStarts&&e.curAdStarts>=e.maxAdStarts?(C(e,"resume ads rejected - reached reached maximum number of allowed ad starts",!1),!1):(e.chilled=!1,e.clickToPlay=!1,e.frozen&&(e.autoplay=t&&!e.paused,e.frozen=!1,e.playingVastId=null,Vr(e)),!0)}function Gr(e,t,n,r){if((e.width!=n||e.height!=r)&&e.rootDivElem){var i=!1;if(void 0===n&&void 0===r){var o=Ct(e);if(!o)return;n=o.width,r=o.height}else i=!0,n=Number(n),r=Number(r);if(n>=0&&r>=0){e.width=n,e.height=r,i&&(e.widthOverwrite=n,e.heightOverwrite=r,e.rootDivElem.style.width=n+"px",e.rootDivElem.style.height=r+"px");for(var a=0,s=e.plist;a<s.length;a++){var l=s[a];try{l.resizeAd&&l.resizeAd(n,r,t)}catch(t){C(e," resizeAd gave exception on "+l.adType+" resize: "+t.message)}}}}}function Kr(e,t,n,r,i){void 0===t&&(t=e.volume),void 0===i&&(i=!1);var o=null!=n?n:0==t;if(Yr(e,t,o,r,i),!(e.volume==t&&e.muted==o||e.muted&&o)){t>0&&(e.dynamicSound=!0),o&&null==n||(e.volume=t),e.muted=o,e.content instanceof Bt&&e.content.setVolume(e.volume,e.muted,i);for(var a=0,s=e.plist;a<s.length;a++){var l=s[a];try{l.syncVolume(i)}catch(t){C(e," syncVolume gave exception on "+l.adType+" syncVolume: "+t.message)}}e.beingVpaid&&Ir(e,"jsAdVolumeChange",{}),bt(e,!0)}}function zr(e,t,n){if(!e.closed){e.serverEvents.supplyEvent({name:"SupplyClosed",reason:n}),ii(e,null,"closed",{preserveDiv:t,reason:n}),e.closed=!0,kr(e),ei(e),e.controls&&e.controls.destroy();var r=t?e.divElem:e.rootDivElem;r&&r.parentNode&&r.parentNode.removeChild(r)}}function Yr(e,t,n,r,i){var o=pr(e);o&&r!=o&&o.setAdVolume(t,n,i)}function Zr(e,t){void 0===t&&(t=!0);var n=pr(e);t&&(C(e,"hard skip enabled, skip all ads",!1),kr(e,n,!1)),n&&n.skipAd()}function $r(e){var t=pr(e);if(t){(!t.skippableLastCheck||Date.now()-t.skippableLastCheck>=1e3)&&(t.skippableLastCheck=Date.now(),t.skippableChecked=t.getAdSkippableState());var n=e.contentDefinition.video.controlBar&&!e.controlBar;return Br({content:!1,paused:e.paused},t.getProgress(),{controlBar:!n&&t.showControlBar(),skippable:t.skippableChecked,volume:e.volume,muted:null!=t.muted?t.muted:e.muted,requestedMuted:!e.muted&&!0===t.muted})}return e.content instanceof Bt?Br({content:!0,paused:e.paused},e.content.getProgress(),{controlBar:e.controlBar||e.contentDefinition.video.controlBar,skippable:!1,volume:e.volume,muted:e.muted,requestedMuted:e.muted}):null}function ei(e){e.scheduleEnabled()&&(C(e,"cancel player schedule"),e.preRollTimer.cancel(),e.midRollTimer.cancel())}function ti(e){return!e.scheduleEnabled()||(ei(e),C(e,"resetting player schedule"),e.autoScheduleReset&&(e.curAdStarts=0,e.content instanceof Bt&&(e.content.paused=e.schedule&&!!e.schedule.content)),e.clickToPlay=!1,xt(e),kr(e,null,!1),e.schedule&&e.schedule.content&&Xr(e),!1)}function ni(e,t){e.content&&function(e,t){e.contentDefinition.external={params:t},e.content&&Jt(e)}(e,t)}function ri(e,t){var n={_pause:function(){Qr(e,"api")},_play:function(t){Jr(e,"api",t.data&&t.data.userInteraction,t.data&&t.data.vastId)},_overrideInit:function(t){var n=t.data;if(!1===e.gpvConfLoaded)for(var r in n)n.hasOwnProperty(r)&&e.initOverrides.push({name:r,value:n[r]});else void 0!==n.allowSound&&e.allowSound!=n.allowSound&&Kr(e,n.allowSound?1:0,!n.allowSound),void 0!==n.contentUrl&&Ht(e,n.contentUrl),void 0!==n.contentImage&&Qt(e,n.contentImage,n.contentImagePosition||"")},_setContentUrls:function(t){!1===e.gpvConfLoaded?e.initOverrides.push({name:"contentUrl",value:t.data.urls}):Ht(e,t.data.urls,t.data.samePosition)},_setContentVariant:function(t){!0===e.gpvConfLoaded&&function(e,t){e.content instanceof Bt&&e.content.setVideoVariant(t)}(e,t.data)},_setContentImage:function(t){!1===e.gpvConfLoaded?(e.initOverrides.push({name:"contentImage",value:t.data.url}),e.initOverrides.push({name:"contentImagePosition",value:t.data.pos})):Qt(e,t.data.url,t.data.pos)},_seekContent:function(t){!0===e.gpvConfLoaded&&function(e,t){e.content instanceof Bt&&e.content.seekContent(t)}(e,t.data)},_setContent:function(t){!1===e.gpvConfLoaded?e.initOverrides.push({name:"content",value:t.data}):function(e,t){Ft(e,t),e.content instanceof Bt&&e.content.setContent(e.contentDefinition)}(e,t.data)},_setExtContent:function(t){!1===e.gpvConfLoaded?e.initOverrides.push({name:"contentExternal",value:t.data}):ni(e,t.data)},_setUIControls:function(t){e.initOverrides.push({name:"uiControls",value:t.data})},_setPausable:function(t){e.initOverrides.push({name:"pausable",value:t.data})},_sound:function(t){if(!1===e.gpvConfLoaded)e.initOverrides.push({name:"sound",value:t.data});else{var n=t.data;if(!n)return;var r=Dr(n.value);null!=r&&(void 0===r.volume&&!1===r.muted&&(r.volume=e.volume||1),Kr(e,r.volume,r.muted,null,n.userInteraction))}},_resize:function(t){Gr(e,"normal",t.data.width,t.data.height)},_skip:function(){Zr(e)},_close:function(t){zr(e,t.data.preserveDiv,t.data.reason)},_pauseads:function(){ei(e),Wr(e)},_resumeads:function(t){ti(e)&&Xr(e,t.data.autoplay)},_resetSchedule:function(){ti(e)},_show:function(){!function(e,t,n){void 0===n&&(n="__cedato_");var r=Ve(Pe(t,n)),i=e.className.replace(r,"");e.className!=i&&(e.className=i)}(e.rootDivElem,"hidden")},_hide:function(){Me(e.rootDivElem,"hidden")}};for(var r in e.apiInterface=t.registerPlayer(e.rootDivElem.id,new De(e.playerVersion)),e.apiInterface.getProgress=function(){return $r(e)},e.apiInterface.CJSX=mt,e.initOverrides=[],n)n.hasOwnProperty(r)&&e.apiInterface.on(r,n[r]);if("function"==typeof e.apiInterface.init)try{var i=e.apiInterface.init(e.rootDivElem.id,{playerEvents:e.playerEvents,serverEvents:e.serverEvents.emitter});if(i&&"function"==typeof i.then)return i}catch(t){C(e,"Init API gave exception: "+t.message,!1)}return a.Promise.resolve()}function ii(e,t,n,r){var i={playerId:e.playerId,subid:e.subid};t&&(i.vastId=t.cxvid||t.vastId,Object(S.e)(S.b,i,t.customVars)),Object(S.e)(S.b,i,r),t&&t.moat&&jr(e,t,n),bt(e);try{e.apiInterface.trigger(n,i)}catch(e){}}var oi=function(){function e(e){var t;this.players=e,this.EventDeferTime=((t={}).AdImpression=50,t.VastFetched=500,t.startAd=500,t.default=2500,t),this.EventSendRate={default:1},this.DryRun=!this.players.isDebugVersion,this.serverEventUrl=this.players.isDebugVersion?"/dev-server-event":null,this.serverEventRoute="/events",this.supplyEvents=[],this.demandEvents=[],this.emitter=new o.EventEmitter2({wildcard:!0,maxListeners:5}),this.scheduledTimer=new l.a}return e.prototype.isDryRun=function(e){var t=Object(S.i)(this.EventSendRate[e],this.EventSendRate.default);return this.DryRun||Math.random()>Object(S.j)(t)},e.prototype.supplyEvent=function(e,t){var n=this.isDryRun(e.name);this.extractSupplyParams();var r=this.stamp(e,t);n||this.supplyEvents.push(r),this.postEvent(e.name,n,r)},e.prototype.demandEvent=function(e,t){try{this._demandEvent(e,t)}catch(e){}},e.prototype.demandTimedEvent=function(e,t){this._demandEvent(e,t,e.flowTimeout)},e.prototype._demandEvent=function(e,t,n){var r=this.isDryRun(t.name);this.extractSupplyParams();var i=Object(D.a)(this.demandEvents,function(t){return t.playerData==e});i||(i={playerData:e,demandData:function(e){return{uniqId:e.uniqId,vastId:e.vastId,demandId:e.demandId,adType:e.adType,rotationNo:e.rotationNo,gpvNo:e.originalUniqId,group:e.group,cookie:e.cookie,cookieJson:e.cookieJson}}(e),events:[]},r||this.demandEvents.push(i));var o=this.stamp(t,n);r||i.events.push(o),this.postEvent(t.name,r,o,i.demandData)},e.prototype.stamp=function(e,t){return Object(S.d)({},e,{ts:this.fromStartNow()},t&&{elapsed:this.toSeconds(t.elapsed)})},e.prototype.toSeconds=function(e){return parseFloat((e/1e3).toFixed(2))},e.prototype.fromStartNow=function(){return parseFloat(((Date.now()-this.players.startTime)/1e3).toFixed(2))},e.prototype.extractSupplyParams=function(){this.supplyData||(this.supplyData=function(e){var t=function(e){return+e.toFixed(1)},n={supplyId:e.playerId,subid:e.subid,domain:e.domain,sessionId:e.sessionId,playerVersion:e.playerVersion,detect:e.detect,cookieJson:e.supplyCookieJson,gpvCookie:e.gpvCookie,detectedDomain:e.domainDetected,width:e.width,height:e.height,detectedWidth:null!=e.widthDetected?t(e.widthDetected):null,detectedHeight:null!=e.heightDetected?t(e.heightDetected):null,startTime:Math.floor(e.startTime/1e3)};if(e.isApp){var r=n;for(var i in e.appParams)e.appParams.hasOwnProperty(i)&&(r[i]=e.appParams[i]);return r}return n}(this.players))},e.prototype.postEvent=function(e,t,n,r){var i=this;try{this.emitter.emit(e,n,t,this.supplyData,r)}catch(e){}if(!t){var o=Object(S.i)(this.EventDeferTime[e],this.EventDeferTime.default);null!=this.scheduledTime&&Date.now()+o>this.scheduledTime||(this.scheduledTime=Date.now()+o,this.scheduledTimer.reset(o).start(function(){i.scheduledTime=null,i.sendStoredEvent()}))}},e.prototype.sendStoredEvent=function(){var e={supply:{},demand:[]};Object(S.e)(S.b,e.supply,this.supplyData),this.supplyEvents.length&&(e.supply.e=this.supplyEvents),this.demandEvents.forEach(function(t){var n={e:[]};Object(S.e)(S.b,n,t.demandData),n.e=t.events,e.demand.push(n)}),e.demand.length||delete e.demand,this.serverEventUrl&&b({url:this.serverEventUrl,postData:JSON.stringify(e,null,2),method:"POST"}),this.demandEvents=[],this.supplyEvents=[]},e}();n.d(t,"needMuteToPlay",function(){return di}),n.d(t,"default",function(){return pi});var ai=n(16),si=n(17),li=n(18);function di(e){return void 0===e&&(e=navigator.userAgent),!!e.match(/Safari\/604/)}function ui(e,t){var n={},r=0,i=!1;try{if(window&&(window.onerror=function(e,t,r){try{-1!==t.indexOf("algovid")&&C(n,"Unhandeled exception "+e+" at "+t+" : "+r,!1)}catch(e){}}),n=xe(function(e,t){var n;n=t?{}:[];try{for(var r=e.slice(e.indexOf("?")+1).split("&"),i=0,o=r;i<o.length;i++){var a=o[i].split("=");t||n.push(a[0]);var s=a[1];t&&(s=p(s)),n[a[0]]||(n[a[0]]=s)}}catch(e){n={}}return n}(e.params,!0))){n.JSV=t.jsv,n.DMVAST=si,function(e){e.sendPixel=function(e){(new Image).src=e},e.injectScript=function(e){Object(D.f)(e)},e.injectIframe=function(e){Object(D.e)(e)},e.playerEvents=new o.EventEmitter2({wildcard:!0,maxListeners:20}),e.serverEvents=new oi(e)}(n);try{if(n.src=e.params,e.currentScript&&(n.currentScript=e.currentScript),r=1,i=!1,k(n),C(n,"Tag: "+n.src,!1),C(n,"player initialized. player version: "+n.playerVersion+", playerId: "+n.playerId+", subid: "+n.subid+", domain: "+n.domain+", protocol: "+n.protocol+", width: "+n.width+", height: "+n.height,!1),C(n,"ua: "+window.navigator.userAgent,!1),n.divId||re(n,6,"divId not defined"),!n.playerId)return void re(n,6,"playerId not defined");C(n,"domain detected: "+n.domainDetected,!1),n.domain!==n.domainDetected?C(n,"domain received in param: "+n.domain,!1):C(n,"using detected domain: "+n.domain,!1),n.hasVideoSupport=function(){try{var e=document.createElement("video");return e.volume=.5,!!e.canPlayType}catch(e){return!1}}(),n.hasVideoSupport||C(n,"no video support",!1),n.info=li.getDeviceInfo(),n.info?C(n,"get device info returned mobile: "+n.info.mobile+", os: "+n.info.os+", osv: "+n.info.osv+", make: "+n.info.make+", model: "+n.info.model,!1):(n.info={mobile:!1},C(n,"unknown device info",!1)),n.pageTitle=function(){var e;try{e=window.top.document.title}catch(t){e=document.title}return e||""}(),r=5,n.jsCallingVpaid&&(n.beingVpaid=!0,n.maxAdStarts=1,function(e){if(e.jsCallingVpaid){var t=window;if(!t[e.jsCallingVpaid]||!t[e.jsCallingVpaid].pEvent)return re(e,6,"vpaid parent not found in post calling js obj: "+e.jsCallingVpaid),!1;e.callingJSVpaid=t[e.jsCallingVpaid]}}(n)),n.detect=function(e){if(e){var t="h";"https:"===e.protocol&&(t="s");var n="h";e.beingVpaid&&(n="j");var r="d";return e.info&&e.info.mobile&&(r="m"),e.isApp&&(r="a"),t+n+r}}(n),r=41,ai.include(),r=42,(n.isApp||n.forceJSV)&&(n.info.mobile=!0),r=50,n.info.mobile?(n.muteToPlay=!0,n.freqRetry=!0):n.muteToPlay=di();var s=n.muteToPlay?function(e){e.JSV||(e.forceJSV=!1);null!=e.forceJSV&&C(e,"jsv override - "+(e.forceJSV?"forced":"disabled"),!1);return function(){if(1==e.forceJSV)return a.Promise.resolve(!1);return function(){try{var e=document.createElement("video");e.src="data:video/mp4;base64,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",e.muted=!0,e.playsInline=!0,e.style.display="none";var t=null,n=null;e.addEventListener("playing",function(){t&&t(!0)}),e.addEventListener("error",function(){n&&n()}),document.body.appendChild(e),e.load();var r=e.play();return r&&r.then?r:new a.Promise(function(e,r){t=e,n=r,setTimeout(n,100)})}catch(e){}return a.Promise.reject(null)}().then(function(){return C(e,"detected video autoplay",!1),!0},function(){return C(e,"detected video autoplay - not supported",!1),!1})}().then(function(t){t||(0!=e.forceJSV?(e.usejsv=!0,function(e,t){oe(e,{category:"jsv",event:"init",loadable:!!e.JSV,videoSupported:e.hasVideoSupport,forced:t},pe)}(e,e.forceJSV),e.JSV.include(),e.hasVideoSupport=!0,C(e,"jsv loaded",!1)):e.clickToPlay=!0)}).catch(P(e,"JSV loading error"))}(n):a.Promise.resolve(null);$(n,M.E_START,{},{}),i=!0,r=52,Cr(n),r=54;var l,d=function(e,t){return t&&(t.onloadGPV||t.gpvData)?t.gpvData?(le(e,!0,"Ready"),a.Promise.resolve(t.gpvData)):new a.Promise(function(n,r){var i=function(){return Pr(e).then(n,r)},o=setTimeout(function(){le(e,!1,"Timeout expecting FatsTag GPV"),i()},e.gpvRetryInterval);t.onloadGPV=function(t){clearTimeout(o),t?(le(e,!0,"Arrived"),n(t)):(le(e,!1,"Error retrieving/parsing FatsTag GPV"),i())}}):(le(e,!1,"FastTag is off"),Pr(e))}(n,e),u=Rt(n);a.Promise.all([d,s,u]).then(function(e){var r=e[0];return l=r,ri(n,t.api||window.CEDATO_API)}).then(function(){!function(e){var t={passback:_t,content:Tt,params:wt},n=e.rootDivElem;e.rootDivElem.parentElement&&(n=e.rootDivElem.parentElement);for(var r=0,i=n.getElementsByTagName("script");r<i.length;r++){var o=i[r],a=o.getAttribute("type"),s=a&&a.match(/^(cedato|video-player)\/(.+)/i);s&&d(s[2],o)}var l=Object(D.a)(e.initOverrides,function(e){return"passback"==e.name});function d(n,r){L("load plugin "+n,{players:e,log:!0},function(){t[n]&&t[n]({pluginElement:r,api:e.apiInterface,playerDiv:e.rootDivElem,log:function(t){return C(e,t)}})})}l&&l.value&&d("passback",{textContent:l.value.script,dataset:{timeout:l.value.timeout}})}(n),Mr(n,l),It(n)}).catch(function(e){return re(n,6,e||"init stage unknown error")})}catch(e){re(n,3,"init stage "+r+" gave JS exception: "+e.message,e)}}}catch(e){n.playerId||(n.playerId=0),n.serverHost||(n.serverHost=function(e){return"https://p.algovid.com"}),n.subid||(n.subid=""),n.playerVersion||(n.playerVersion="114.32"),n.sessionId||(n.sessionId="");try{r&&(r=r)}catch(e){r=0}0===r&&k(n),re(n,3,"init error  gave JS exception: "+encodeURIComponent(e.message),e),i||$(n,M.E_START,{},{})}}function ci(){var e,t;return(t=document.currentScript?(e=document.currentScript).src:function(){try{throw new Error}catch(o){var e=o.stack.split("\n"),t=0;for(var n in e)if(e.hasOwnProperty(n)&&e[n].match(/http[s]?:\/\//)){t=Number(n)+1;break}var r=void 0;e[t+1]&&(r=e[t+1].match(/((http[s]?:\/\/.+\/)([^\/]+\.js).*?):\d+/)),r&&r[1]||(r=e[t].match(/((http[s]?:\/\/.+\/)([^\/]+\.js).*?):\d+/)),r&&r[1]||!e[t+1]||(r=e[t+1].match(/((http[s]?:\/\/.+\/)([^\/]+\.js).*?):/)),r&&r[1]||(r=e[t].match(/((http[s]?:\/\/.+\/)([^\/]+\.js).*?):/)),r&&r[1]||!e[t+1]||(r=e[t+1].match(/((\/\/.+\/)([^\/]+\.js).*?):\d+/)),r&&r[1]||(r=e[t].match(/((\/\/.+\/)([^\/]+\.js).*?):\d+/));var i="";return r[1]&&(i=r[1]),i&&":"===i.substr(i.length-1)&&(i=i.substring(0,i.length-1)),i}}())&&be(t)||(e||(e=_e()),e&&(t=e.src)),{src:t,currentScript:e}}function pi(e){var t=e.tag;t?(t.init||(t.init=function(){!function(e,t){for(var n=0,r=e.players;n<r.length;n++){var i=r[n];i.inited||(ui(i,t),i.inited=!0)}}(t,e)}),t.init()):function(e){var t=ci();-1!==t.src.indexOf("?ob=")&&-1!==t.src.indexOf("&ob=")||-1!==t.src.indexOf("?job=")&&-1!==t.src.indexOf("&job=")||ui({params:t.src,currentScript:t.currentScript,gpvData:null,onloadGPV:null},e)}(e)}l.a.Promise=a.Promise},,function(e,t){t.include=function(){try{Object.getPrototypeOf||(Object.getPrototypeOf=function(e){if(e!==Object(e))throw TypeError("Object.getPrototypeOf called on non-object");return e.__proto__||e.constructor.prototype||Object.prototype}),"function"!=typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(e){if(e!==Object(e))throw TypeError("Object.getOwnPropertyNames called on non-object");var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n}),"function"!=typeof Object.create&&(Object.create=function(e,t){if("object"!=typeof e)throw TypeError();function n(){}n.prototype=e;var r=new n;if(e&&(r.constructor=n),void 0!==t){if(t!==Object(t))throw TypeError();Object.defineProperties(r,t)}return r}),function(){if(!Object.defineProperty||!function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()){var e=Object.defineProperty;Object.defineProperty=function(t,n,r){if(e)try{return e(t,n,r)}catch(e){}if(t!==Object(t))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in r&&Object.prototype.__defineGetter__.call(t,n,r.get),Object.prototype.__defineSetter__&&"set"in r&&Object.prototype.__defineSetter__.call(t,n,r.set),"value"in r&&(t[n]=r.value),t}}}(),"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(e,t){if(e!==Object(e))throw TypeError("Object.defineProperties called on non-object");var n;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&Object.defineProperty(e,n,t[n]);return e}),Object.keys||(Object.keys=function(e){if(e!==Object(e))throw TypeError("Object.keys called on non-object");var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n}),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw TypeError("Bind must be called on a function");var t=[].slice,n=t.call(arguments,1),r=this,i=function(){return r.apply(this instanceof o?this:e,n.concat(t.call(arguments)))};function o(){}return o.prototype=r.prototype,i.prototype=new o,i}),Array.isArray=Array.isArray||function(e){return Boolean(e&&"[object Array]"===Object.prototype.toString.call(Object(e)))},Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),n=t.length>>>0;if(0===n)return-1;var r=0;if(arguments.length>0&&(r=Number(arguments[1]),isNaN(r)?r=0:0!==r&&r!==1/0&&r!==-1/0&&(r=(r>0||-1)*Math.floor(Math.abs(r)))),r>=n)return-1;for(var i=r>=0?r:Math.max(n-Math.abs(r),0);i<n;i++)if(i in t&&t[i]===e)return i;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),n=t.length>>>0;if(0===n)return-1;var r=n;arguments.length>1&&((r=Number(arguments[1]))!=r?r=0:0!==r&&r!==1/0&&r!==-1/0&&(r=(r>0||-1)*Math.floor(Math.abs(r))));for(var i=r>=0?Math.min(r,n-1):n-Math.abs(r);i>=0;i--)if(i in t&&t[i]===e)return i;return-1}),Array.prototype.every||(Array.prototype.every=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw TypeError();var r,i=arguments[1];for(r=0;r<n;r++)if(r in t&&!e.call(i,t[r],r,t))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw TypeError();var r,i=arguments[1];for(r=0;r<n;r++)if(r in t&&e.call(i,t[r],r,t))return!0;return!1}),Array.prototype.forEach||(Array.prototype.forEach=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw TypeError();var r,i=arguments[1];for(r=0;r<n;r++)r in t&&e.call(i,t[r],r,t)}),Array.prototype.map||(Array.prototype.map=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw TypeError();var r=[];r.length=n;var i,o=arguments[1];for(i=0;i<n;i++)i in t&&(r[i]=e.call(o,t[i],i,t));return r}),Array.prototype.filter||(Array.prototype.filter=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw TypeError();var r,i=[],o=arguments[1];for(r=0;r<n;r++)if(r in t){var a=t[r];e.call(o,a,r,t)&&i.push(a)}return i}),Array.prototype.reduce||(Array.prototype.reduce=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw TypeError();if(0===n&&1===arguments.length)throw TypeError();var r,i=0;if(arguments.length>=2)r=arguments[1];else for(;;){if(i in t){r=t[i++];break}if(++i>=n)throw TypeError()}for(;i<n;)i in t&&(r=e.call(void 0,r,t[i],i,t)),i++;return r}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw TypeError();if(0===n&&1===arguments.length)throw TypeError();var r,i=n-1;if(arguments.length>=2)r=arguments[1];else for(;;){if(i in this){r=this[i--];break}if(--i<0)throw TypeError()}for(;i>=0;)i in t&&(r=e.call(void 0,r,t[i],i,t)),i--;return r}),String.prototype.trim||(String.prototype.trim=function(){return String(this).replace(/^\s+/,"").replace(/\s+$/,"")}),Date.now||(Date.now=function(){return Number(new Date)}),Date.prototype.toISOString||(Date.prototype.toISOString=function(){function e(e){return("00"+e).slice(-2)}return this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"."+function(e){return("000"+e).slice(-3)}(this.getUTCMilliseconds())+"Z"})}catch(e){}}},function(e,t,n){var r;e.exports=function e(t,n,i){function o(s,l){if(!n[s]){if(!t[s]){var d="function"==typeof r&&r;if(!l&&d)return r(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return o(n||e)},c,c.exports,e,t,n,i)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,s,l,d;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(a(n=this._events[e]))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),d=n.slice(),r=d.length,l=0;l<r;l++)d[l].apply(this,s);return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(n=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){if(!i(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},r.prototype.removeListener=function(e,t){var n,r,a,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},{}],2:[function(e,t,n){var r;r=function(){this.id=null,this.sequence=null,this.system=null,this.title=null,this.description=null,this.advertiser=null,this.pricing=null,this.survey=null,this.errorURLTemplates=[],this.impressionURLTemplates=[],this.creatives=[],this.extensions=[]},t.exports=r},{}],3:[function(e,t,n){var r,i,o;i=e("./parser"),o=e("./util"),r=function(){function e(){}return e.cappingFreeLunch=0,e.cappingMinimumTimeInterval=0,e.options={withCredentials:!1,timeout:0},e.get=function(e,t,r){var o,a,s,l;if(a=+new Date,o=n.extend=function(e,t){var n,r;for(n in t)r=t[n],e[n]=r;return e},r||("function"==typeof t&&(r=t),s={}),s=o(this.options,t),this.totalCallsTimeout<a?(this.totalCalls=1,this.totalCallsTimeout=a+36e5):this.totalCalls++,!(this.cappingFreeLunch>=this.totalCalls)){if((l=a-this.lastSuccessfullAd)<0)this.lastSuccessfullAd=0;else if(l<this.cappingMinimumTimeInterval)return void r(null,new Error("VAST call canceled  ("+this.cappingMinimumTimeInterval+")ms minimum interval reached"));return i.parse(e,s,function(e,t){return r(e,t)})}r(null,new Error("VAST call canceled  FreeLunch capping not reached yet "+this.totalCalls+"/"+this.cappingFreeLunch))},function(){var t,n;n=o.storage,t=Object.defineProperty,["lastSuccessfullAd","totalCalls","totalCallsTimeout"].forEach(function(r){t(e,r,{get:function(){return n.getItem(r)},set:function(e){return n.setItem(r,e)},configurable:!1,enumerable:!0})}),null==e.lastSuccessfullAd&&(e.lastSuccessfullAd=0),null==e.totalCalls&&(e.totalCalls=0),null==e.totalCallsTimeout&&(e.totalCallsTimeout=0)}(),e}(),t.exports=r},{"./parser":12,"./util":18}],4:[function(e,t,n){var r;r=function(){this.id=null,this.width=0,this.height=0,this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.altText=null,this.companionClickThroughURLTemplate=null,this.companionClickTrackingURLTemplates=[],this.trackingEvents={}},t.exports=r},{}],5:[function(e,t,n){var r,i,o,a,s=function(e,t){for(var n in t)l.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},l={}.hasOwnProperty;o=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.type="linear",this.duration=0,this.skipDelay=null,this.mediaFiles=[],this.videoClickThroughURLTemplate=null,this.videoClickTrackingURLTemplates=[],this.videoCustomClickURLTemplates=[],this.adParameters=null,this.icons=[]}return s(t,e),t}(r=function(e){null==e&&(e={}),this.id=e.id||null,this.adId=e.adId||null,this.sequence=e.sequence||null,this.apiFramework=e.apiFramework||null,this.trackingEvents={}}),a=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.type="nonlinear",this.variations=[]}return s(t,e),t}(r),i=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.type="companion",this.variations=[]}return s(t,e),t}(r),t.exports={VASTCreativeLinear:o,VASTCreativeNonLinear:a,VASTCreativeCompanion:i}},{}],6:[function(e,t,n){var r;r=function(){this.attributes={},this.children=[]},t.exports=r},{}],7:[function(e,t,n){var r;r=function(){this.name=null,this.value=null,this.attributes={}},t.exports=r},{}],8:[function(e,t,n){var r;r=function(){this.program=null,this.height=0,this.width=0,this.xPosition=0,this.yPosition=0,this.apiFramework=null,this.offset=null,this.duration=0,this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.iconClickThroughURLTemplate=null,this.iconClickTrackingURLTemplates=[],this.iconViewTrackingURLTemplate=null},t.exports=r},{}],9:[function(e,t,n){t.exports={client:e("./client"),tracker:e("./tracker"),parser:e("./parser"),util:e("./util")}},{"./client":3,"./parser":12,"./tracker":14,"./util":18}],10:[function(e,t,n){var r;r=function(){this.id=null,this.fileURL=null,this.deliveryType="progressive",this.mimeType=null,this.codec=null,this.bitrate=0,this.minBitrate=0,this.maxBitrate=0,this.width=0,this.height=0,this.apiFramework=null,this.scalable=null,this.maintainAspectRatio=null},t.exports=r},{}],11:[function(e,t,n){var r;r=function(){this.id=null,this.width=0,this.height=0,this.expandedWidth=0,this.expandedHeight=0,this.scalable=!0,this.maintainAspectRatio=!0,this.minSuggestedDuration=0,this.apiFramework="static",this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.nonlinearClickThroughURLTemplate=null,this.nonlinearClickTrackingURLTemplates=[],this.adParameters=null},t.exports=r},{}],12:[function(e,t,n){var r,i,o,a,s,l,d,u,c,p,h,A,f,m,v,g=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};i=e("./urlhandler"),m=e("./response"),o=e("./ad"),a=e("./extension"),s=e("./extensionchild"),v=e("./util"),u=e("./creative").VASTCreativeLinear,d=e("./creative").VASTCreativeCompanion,c=e("./creative").VASTCreativeNonLinear,h=e("./mediafile"),p=e("./icon"),l=e("./companionad"),A=e("./nonlinear"),r=e("events").EventEmitter,f=function(){var e;function t(){}return e=[],t.addURLTemplateFilter=function(t){"function"==typeof t&&e.push(t)},t.removeURLTemplateFilter=function(){return e.pop()},t.countURLTemplateFilters=function(){return e.length},t.clearUrlTemplateFilters=function(){return e=[]},t.parse=function(e,t,n){return n||("function"==typeof t&&(n=t),t={}),this._parse(e,null,t,function(e,t){return n(t,e)})},t.vent=new r,t.track=function(e,t){return this.vent.emit("VAST-error",t),v.track(e,t)},t.on=function(e,t){return this.vent.on(e,t)},t.once=function(e,t){return this.vent.once(e,t)},t._parse=function(t,n,r,o){var a,s,l;for(o||("function"==typeof r&&(o=r),r={}),s=0,l=e.length;s<l;s++)a=e[s],t=a(t);return null==n&&(n=[]),n.push(t),i.get(t,r,function(e){return function(i,a){var s,l,d,u,c,p,h,A,f,v,y;if(null!=i)return o(i);if(y=new m,null==(null!=a?a.documentElement:void 0)||"VAST"!==a.documentElement.nodeName)return o(new Error("Invalid VAST XMLDocument"));for(f=a.documentElement.childNodes,d=0,c=f.length;d<c;d++)"Error"===(A=f[d]).nodeName&&y.errorURLTemplates.push(e.parseNodeText(A));for(v=a.documentElement.childNodes,u=0,p=v.length;u<p;u++)"Ad"===(A=v[u]).nodeName&&(null!=(s=e.parseAdElement(A))?y.ads.push(s):e.track(y.errorURLTemplates,{ERRORCODE:101}));for(l=function(t,n){var r,i,a,l;if(null==t&&(t=null),null==n&&(n=!1),y){for(a=!0,l=y.ads,r=0,i=l.length;r<i;r++){if(null!=(s=l[r]).nextWrapperURL)return;s.creatives.length>0&&(a=!1)}return a&&(n||e.track(y.errorURLTemplates,{ERRORCODE:303})),0===y.ads.length&&(y=null),o(t,y)}},h=y.ads.length;h--;)null!=(s=y.ads[h]).nextWrapperURL&&function(i){var o,a,s;n.length>(null!==r.wrapperLimit?r.wrapperLimit:9)||(s=i.nextWrapperURL,g.call(n,s)>=0)?(e.track(i.errorURLTemplates,{ERRORCODE:302}),y.ads.splice(y.ads.indexOf(i),1),l(new Error("Wrapper limit reached, as defined by the video player"))):(0===i.nextWrapperURL.indexOf("//")?(a=location.protocol,i.nextWrapperURL=""+a+i.nextWrapperURL):-1===i.nextWrapperURL.indexOf("://")&&(o=t.slice(0,t.lastIndexOf("/")),i.nextWrapperURL=o+"/"+i.nextWrapperURL),e._parse(i.nextWrapperURL,n,r,function(t,n){var r,o,a,s,d,u,c,p,h,A,f,m,v,g,E,b,_,T,w,k,C,I,R,x;if(a=!1,null!=t)e.track(i.errorURLTemplates,{ERRORCODE:301}),y.ads.splice(y.ads.indexOf(i),1),a=!0;else if(null==n)e.track(i.errorURLTemplates,{ERRORCODE:303}),y.ads.splice(y.ads.indexOf(i),1),a=!0;else for(y.errorURLTemplates=y.errorURLTemplates.concat(n.errorURLTemplates),d=y.ads.indexOf(i),y.ads.splice(d,1),T=n.ads,u=0,c=T.length;u<c;u++){if((x=T[u]).errorURLTemplates=i.errorURLTemplates.concat(x.errorURLTemplates),x.impressionURLTemplates=i.impressionURLTemplates.concat(x.impressionURLTemplates),x.extensions=i.extensions.concat(x.extensions),null!=i.trackingEvents)for(w=x.creatives,v=0,p=w.length;v<p;v++)if(o=w[v],null!=i.trackingEvents[o.type])for(k=Object.keys(i.trackingEvents[o.type]),g=0,h=k.length;g<h;g++)s=k[g],(r=o.trackingEvents)[s]||(r[s]=[]),o.trackingEvents[s]=o.trackingEvents[s].concat(i.trackingEvents[o.type][s]);if(null!=i.videoClickTrackingURLTemplates)for(C=x.creatives,E=0,A=C.length;E<A;E++)"linear"===(o=C[E]).type&&(o.videoClickTrackingURLTemplates=o.videoClickTrackingURLTemplates.concat(i.videoClickTrackingURLTemplates));if(null!=i.videoCustomClickURLTemplates)for(I=x.creatives,b=0,f=I.length;b<f;b++)"linear"===(o=I[b]).type&&(o.videoCustomClickURLTemplates=o.videoCustomClickURLTemplates.concat(i.videoCustomClickURLTemplates));if(null!=i.videoClickThroughURLTemplate)for(R=x.creatives,_=0,m=R.length;_<m;_++)"linear"===(o=R[_]).type&&null==o.videoClickThroughURLTemplate&&(o.videoClickThroughURLTemplate=i.videoClickThroughURLTemplate);y.ads.splice(++d,0,x)}return delete i.nextWrapperURL,l(t,a)}))}(s);return l()}}(this))},t.childByName=function(e,t){var n,r,i,o;for(o=e.childNodes,r=0,i=o.length;r<i;r++)if((n=o[r]).nodeName===t)return n},t.childsByName=function(e,t){var n,r,i,o,a;for(r=[],a=e.childNodes,i=0,o=a.length;i<o;i++)(n=a[i]).nodeName===t&&r.push(n);return r},t.parseAdElement=function(e){var t,n,r,i,o;for(i=e.childNodes,n=0,r=i.length;n<r;n++)if(t=i[n],"Wrapper"===(o=t.nodeName)||"InLine"===o){if(this.copyNodeAttribute("id",e,t),this.copyNodeAttribute("sequence",e,t),"Wrapper"===t.nodeName)return this.parseWrapperElement(t);if("InLine"===t.nodeName)return this.parseInLineElement(t)}},t.parseWrapperElement=function(e){var t,n,r,i,o,a,s;for(t=this.parseInLineElement(e),null!=(s=this.childByName(e,"VASTAdTagURI"))?t.nextWrapperURL=this.parseNodeText(s):null!=(s=this.childByName(e,"VASTAdTagURL"))&&(t.nextWrapperURL=this.parseNodeText(this.childByName(s,"URL"))),o=t.creatives,r=0,i=o.length;r<i;r++)n=o[r],a=null,"linear"!==n.type&&"nonlinear"!==n.type||null!=(a=n)&&(null!=a.trackingEvents&&(t.trackingEvents||(t.trackingEvents={}),t.trackingEvents[a.type]=a.trackingEvents),null!=a.videoClickTrackingURLTemplates&&(t.videoClickTrackingURLTemplates=a.videoClickTrackingURLTemplates),null!=a.videoClickThroughURLTemplate&&(t.videoClickThroughURLTemplate=a.videoClickThroughURLTemplate),null!=a.videoCustomClickURLTemplates&&(t.videoCustomClickURLTemplates=a.videoCustomClickURLTemplates));if(null!=t.nextWrapperURL)return t},t.parseInLineElement=function(e){var t,n,r,i,a,s,l,d,u,c,p,h,A,f,m;for((t=new o).id=e.getAttribute("id")||null,t.sequence=e.getAttribute("sequence")||null,A=e.childNodes,s=0,u=A.length;s<u;s++)switch((h=A[s]).nodeName){case"Error":t.errorURLTemplates.push(this.parseNodeText(h));break;case"Impression":t.impressionURLTemplates.push(this.parseNodeText(h));break;case"Creatives":for(f=this.childsByName(h,"Creative"),l=0,c=f.length;l<c;l++)for(i=f[l],r={id:i.getAttribute("id")||null,adId:this.parseCreativeAdIdAttribute(i),sequence:i.getAttribute("sequence")||null,apiFramework:i.getAttribute("apiFramework")||null},m=i.childNodes,d=0,p=m.length;d<p;d++)switch((a=m[d]).nodeName){case"Linear":(n=this.parseCreativeLinearElement(a,r))&&t.creatives.push(n);break;case"NonLinearAds":(n=this.parseNonLinear(a,r))&&t.creatives.push(n);break;case"CompanionAds":(n=this.parseCompanionAd(a,r))&&t.creatives.push(n)}break;case"Extensions":this.parseExtension(t.extensions,this.childsByName(h,"Extension"));break;case"AdSystem":t.system={value:this.parseNodeText(h),version:h.getAttribute("version")||null};break;case"AdTitle":t.title=this.parseNodeText(h);break;case"Description":t.description=this.parseNodeText(h);break;case"Advertiser":t.advertiser=this.parseNodeText(h);break;case"Pricing":t.pricing={value:this.parseNodeText(h),model:h.getAttribute("model")||null,currency:h.getAttribute("currency")||null};break;case"Survey":t.survey=this.parseNodeText(h)}return t},t.parseExtension=function(e,t){var n,r,i,o,l,d,u,c,p,h,A,f,m,v,g,y,E,b,_;for(b=[],u=0,A=t.length;u<A;u++){if(l=t[u],r=new a,l.attributes)for(g=l.attributes,c=0,f=g.length;c<f;c++)d=g[c],r.attributes[d.nodeName]=d.nodeValue;for(y=l.childNodes,p=0,m=y.length;p<m;p++)if(n=y[p],_=this.parseNodeText(n),"#comment"!==n.nodeName&&""!==_){if((i=new s).name=n.nodeName,i.value=_,n.attributes)for(E=n.attributes,h=0,v=E.length;h<v;h++)o=E[h],i.attributes[o.nodeName]=o.nodeValue;r.children.push(i)}b.push(e.push(r))}return b},t.parseCreativeLinearElement=function(e,t){var n,r,i,o,a,s,l,d,c,A,f,m,v,g,y,E,b,_,T,w,k,C,I,R,x,S,D,L,O,V,P,M,N,U,j,B,F,q,H,Q,J,W,X,G,K,z,Y,Z,$,ee,te,ne,re,ie,oe,ae,se,le,de;if((o=new u(t)).duration=this.parseDuration(this.parseNodeText(this.childByName(e,"Duration"))),-1===o.duration&&"Wrapper"!==e.parentNode.parentNode.parentNode.nodeName)return null;if(null==(ie=e.getAttribute("skipoffset"))?o.skipDelay=null:"%"===ie.charAt(ie.length-1)?(q=parseInt(ie,10),o.skipDelay=o.duration*(q/100)):o.skipDelay=this.parseDuration(ie),null!=(de=this.childByName(e,"VideoClicks"))){for(o.videoClickThroughURLTemplate=this.parseNodeText(this.childByName(de,"ClickThrough")),J=this.childsByName(de,"ClickTracking"),d=0,_=J.length;d<_;d++)i=J[d],o.videoClickTrackingURLTemplates.push(this.parseNodeText(i));for(W=this.childsByName(de,"CustomClick"),y=0,T=W.length;y<T;y++)a=W[y],o.videoCustomClickURLTemplates.push(this.parseNodeText(a))}for(null!=(n=this.childByName(e,"AdParameters"))&&(o.adParameters=this.parseNodeText(n)),G=this.childsByName(e,"TrackingEvents"),E=0,k=G.length;E<k;E++)for(se=G[E],K=this.childsByName(se,"Tracking"),b=0,C=K.length;b<C;b++)if(ae=K[b],s=ae.getAttribute("event"),le=this.parseNodeText(ae),null!=s&&null!=le){if("progress"===s){if(!(B=ae.getAttribute("offset")))continue;s="%"===B.charAt(B.length-1)?"progress-"+B:"progress-"+Math.round(this.parseDuration(B))}null==(r=o.trackingEvents)[s]&&(r[s]=[]),o.trackingEvents[s].push(le)}for(z=this.childsByName(e,"MediaFiles"),O=0,I=z.length;O<I;O++)for(N=z[O],Y=this.childsByName(N,"MediaFile"),U=0,R=Y.length;U<R;U++)M=Y[U],(P=new h).id=M.getAttribute("id"),P.fileURL=this.parseNodeText(M),P.deliveryType=M.getAttribute("delivery"),P.codec=M.getAttribute("codec"),P.mimeType=M.getAttribute("type"),P.apiFramework=M.getAttribute("apiFramework"),P.bitrate=parseInt(M.getAttribute("bitrate")||0),P.minBitrate=parseInt(M.getAttribute("minBitrate")||0),P.maxBitrate=parseInt(M.getAttribute("maxBitrate")||0),P.width=parseInt(M.getAttribute("width")||0),P.height=parseInt(M.getAttribute("height")||0),(re=M.getAttribute("scalable"))&&"string"==typeof re&&("true"===(re=re.toLowerCase())?P.scalable=!0:"false"===re&&(P.scalable=!1)),(V=M.getAttribute("maintainAspectRatio"))&&"string"==typeof V&&("true"===(V=V.toLowerCase())?P.maintainAspectRatio=!0:"false"===V&&(P.maintainAspectRatio=!1)),o.mediaFiles.push(P);if(null!=(v=this.childByName(e,"Icons")))for(Z=this.childsByName(v,"Icon"),j=0,x=Z.length;j<x;j++){for(m=Z[j],(c=new p).program=m.getAttribute("program"),c.height=parseInt(m.getAttribute("height")||0),c.width=parseInt(m.getAttribute("width")||0),c.xPosition=this.parseXPosition(m.getAttribute("xPosition")),c.yPosition=this.parseYPosition(m.getAttribute("yPosition")),c.apiFramework=m.getAttribute("apiFramework"),c.offset=this.parseDuration(m.getAttribute("offset")),c.duration=this.parseDuration(m.getAttribute("duration")),$=this.childsByName(m,"HTMLResource"),F=0,S=$.length;F<S;F++)l=$[F],c.type=l.getAttribute("creativeType")||"text/html",c.htmlResource=this.parseNodeText(l);for(ee=this.childsByName(m,"IFrameResource"),H=0,D=ee.length;H<D;H++)g=ee[H],c.type=g.getAttribute("creativeType")||0,c.iframeResource=this.parseNodeText(g);for(te=this.childsByName(m,"StaticResource"),Q=0,L=te.length;Q<L;Q++)oe=te[Q],c.type=oe.getAttribute("creativeType")||0,c.staticResource=this.parseNodeText(oe);if(null!=(f=this.childByName(m,"IconClicks")))for(c.iconClickThroughURLTemplate=this.parseNodeText(this.childByName(f,"IconClickThrough")),X=this.childsByName(f,"IconClickTracking"),ne=0,w=X.length;ne<w;ne++)A=X[ne],c.iconClickTrackingURLTemplates.push(this.parseNodeText(A));c.iconViewTrackingURLTemplate=this.parseNodeText(this.childByName(m,"IconViewTracking")),o.icons.push(c)}return o},t.parseNonLinear=function(e,t){var n,r,i,o,a,s,l,d,u,p,h,f,m,v,g,y,E,b,_,T,w,k,C,I,R,x,S,D,L,O,V,P,M,N;for(o=new c(t),I=this.childsByName(e,"TrackingEvents"),l=0,f=I.length;l<f;l++)for(M=I[l],R=this.childsByName(M,"Tracking"),u=0,m=R.length;u<m;u++)P=R[u],a=P.getAttribute("event"),N=this.parseNodeText(P),null!=a&&null!=N&&(null==(r=o.trackingEvents)[a]&&(r[a]=[]),o.trackingEvents[a].push(N));for(x=this.childsByName(e,"NonLinear"),p=0,v=x.length;p<v;p++){for(k=x[p],(w=new A).id=k.getAttribute("id")||null,w.width=k.getAttribute("width"),w.height=k.getAttribute("height"),w.expandedWidth=k.getAttribute("expandedWidth"),w.expandedHeight=k.getAttribute("expandedHeight"),w.scalable=this.parseBoolean(k.getAttribute("scalable")),w.maintainAspectRatio=this.parseBoolean(k.getAttribute("maintainAspectRatio")),w.minSuggestedDuration=this.parseDuration(k.getAttribute("minSuggestedDuration")),w.apiFramework=k.getAttribute("apiFramework"),S=this.childsByName(k,"HTMLResource"),h=0,g=S.length;h<g;h++)s=S[h],w.type=s.getAttribute("creativeType")||"text/html",w.htmlResource=this.parseNodeText(s);for(D=this.childsByName(k,"IFrameResource"),_=0,y=D.length;_<y;_++)d=D[_],w.type=d.getAttribute("creativeType")||0,w.iframeResource=this.parseNodeText(d);for(L=this.childsByName(k,"StaticResource"),T=0,E=L.length;T<E;T++)V=L[T],w.type=V.getAttribute("creativeType")||0,w.staticResource=this.parseNodeText(V);for(null!=(n=this.childByName(k,"AdParameters"))&&(w.adParameters=this.parseNodeText(n)),w.nonlinearClickThroughURLTemplate=this.parseNodeText(this.childByName(k,"NonLinearClickThrough")),O=this.childsByName(k,"NonLinearClickTracking"),C=0,b=O.length;C<b;C++)i=O[C],w.nonlinearClickTrackingURLTemplates.push(this.parseNodeText(i));o.variations.push(w)}return o},t.parseCompanionAd=function(e,t){var n,r,i,o,a,s,u,c,p,h,A,f,m,v,g,y,E,b,_,T,w,k,C,I,R,x,S,D,L,O,V,P,M,N,U,j,B;for(s=new d(t),x=this.childsByName(e,"Companion"),p=0,v=x.length;p<v;p++){for(a=x[p],(o=new l).id=a.getAttribute("id")||null,o.width=a.getAttribute("width"),o.height=a.getAttribute("height"),o.companionClickTrackingURLTemplates=[],S=this.childsByName(a,"HTMLResource"),A=0,g=S.length;A<g;A++)c=S[A],o.type=c.getAttribute("creativeType")||"text/html",o.htmlResource=this.parseNodeText(c);for(D=this.childsByName(a,"IFrameResource"),f=0,y=D.length;f<y;f++)h=D[f],o.type=h.getAttribute("creativeType")||0,o.iframeResource=this.parseNodeText(h);for(L=this.childsByName(a,"StaticResource"),m=0,E=L.length;m<E;m++){for(N=L[m],o.type=N.getAttribute("creativeType")||0,O=this.childsByName(a,"AltText"),k=0,b=O.length;k<b;k++)r=O[k],o.altText=this.parseNodeText(r);o.staticResource=this.parseNodeText(N)}for(V=this.childsByName(a,"TrackingEvents"),C=0,_=V.length;C<_;C++)for(j=V[C],P=this.childsByName(j,"Tracking"),I=0,T=P.length;I<T;I++)U=P[I],u=U.getAttribute("event"),B=this.parseNodeText(U),null!=u&&null!=B&&(null==(n=o.trackingEvents)[u]&&(n[u]=[]),o.trackingEvents[u].push(B));for(M=this.childsByName(a,"CompanionClickTracking"),R=0,w=M.length;R<w;R++)i=M[R],o.companionClickTrackingURLTemplates.push(this.parseNodeText(i));o.companionClickThroughURLTemplate=this.parseNodeText(this.childByName(a,"CompanionClickThrough")),o.companionClickTrackingURLTemplate=this.parseNodeText(this.childByName(a,"CompanionClickTracking")),s.variations.push(o)}return s},t.parseDuration=function(e){var t,n,r,i,o;return null==e?-1:v.isNumeric(e)?parseInt(e):3!==(t=e.split(":")).length?-1:(o=t[2].split("."),i=parseInt(o[0]),2===o.length&&(i+=parseFloat("0."+o[1])),r=parseInt(60*t[1]),n=parseInt(60*t[0]*60),isNaN(n||isNaN(r||isNaN(i||r>3600||i>60)))?-1:n+r+i)},t.parseXPosition=function(e){return"left"===e||"right"===e?e:parseInt(e||0)},t.parseYPosition=function(e){return"top"===e||"bottom"===e?e:parseInt(e||0)},t.parseBoolean=function(e){return"true"===e||"TRUE"===e||"1"===e},t.parseNodeText=function(e){return e&&(e.textContent||e.text||"").trim()},t.copyNodeAttribute=function(e,t,n){var r;if(r=t.getAttribute(e))return n.setAttribute(e,r)},t.parseCreativeAdIdAttribute=function(e){return e.getAttribute("AdID")||e.getAttribute("adID")||e.getAttribute("adId")||null},t}(),t.exports=f},{"./ad":2,"./companionad":4,"./creative":5,"./extension":6,"./extensionchild":7,"./icon":8,"./mediafile":10,"./nonlinear":11,"./response":13,"./urlhandler":15,"./util":18,events:1}],13:[function(e,t,n){var r;r=function(){this.ads=[],this.errorURLTemplates=[]},t.exports=r},{}],14:[function(e,t,n){var r,i,o,a,s,l,d,u={}.hasOwnProperty;i=e("./client"),d=e("./util"),a=e("./creative").VASTCreativeLinear,s=e("./nonlinear"),o=e("./companionad"),r=e("events").EventEmitter,l=function(e){function t(e,t,n){var r,l,d;for(r in this.ad=e,this.creative=t,this.variation=null!=n?n:null,this.muted=!1,this.impressed=!1,this.skipable=!1,this.skipDelayDefault=-1,this.trackingEvents={},this.emitAlwaysEvents=["creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","resume","pause","rewind","skip","closeLinear","close"],d=this.creative.trackingEvents)l=d[r],this.trackingEvents[r]=l.slice(0);this.creative instanceof a?(this.setDuration(this.creative.duration),this.skipDelay=this.creative.skipDelay,this.linear=!0,this.clickThroughURLTemplate=this.creative.videoClickThroughURLTemplate,this.clickTrackingURLTemplates=this.creative.videoClickTrackingURLTemplates):(this.skipDelay=-1,this.linear=!1,this.variation&&(this.variation instanceof s?(this.clickThroughURLTemplate=this.variation.nonlinearClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.nonlinearClickTrackingURLTemplates):this.variation instanceof o&&(this.clickThroughURLTemplate=this.variation.companionClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.companionClickTrackingURLTemplates))),this.on("start",function(){i.lastSuccessfullAd=+new Date})}return function(e,t){for(var n in t)u.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.setDuration=function(e){return this.assetDuration=e,this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100}},t.prototype.setProgress=function(e){var t,n,r,i,o,a,s,l,d;if(-1===(l=null===this.skipDelay?this.skipDelayDefault:this.skipDelay)||this.skipable||(l>e?this.emit("skip-countdown",l-e):(this.skipable=!0,this.emit("skip-countdown",0))),this.linear&&this.assetDuration>0){if(n=[],e>0)for(a in n.push("start"),o=Math.round(e/this.assetDuration*100),n.push("progress-"+o+"%"),n.push("progress-"+Math.round(e)),s=this.quartiles)(d=s[a])<=e&&e<=d+1&&n.push(a);for(r=0,i=n.length;r<i;r++)t=n[r],this.track(t,!0);e<this.progress&&this.track("rewind")}return this.progress=e},t.prototype.setMuted=function(e){return this.muted!==e&&this.track(e?"mute":"unmute"),this.muted=e},t.prototype.setPaused=function(e){return this.paused!==e&&this.track(e?"pause":"resume"),this.paused=e},t.prototype.setFullscreen=function(e){return this.fullscreen!==e&&this.track(e?"fullscreen":"exitFullscreen"),this.fullscreen=e},t.prototype.setExpand=function(e){return this.expanded!==e&&this.track(e?"expand":"collapse"),this.expanded=e},t.prototype.setSkipDelay=function(e){if("number"==typeof e)return this.skipDelay=e},t.prototype.load=function(){if(!this.impressed)return this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates),this.track("creativeView")},t.prototype.errorWithCode=function(e){return this.trackURLs(this.ad.errorURLTemplates,{ERRORCODE:e})},t.prototype.complete=function(){return this.track("complete")},t.prototype.close=function(){return this.track(this.linear?"closeLinear":"close")},t.prototype.stop=function(){},t.prototype.skip=function(){return this.track("skip"),this.trackingEvents=[]},t.prototype.click=function(){var e,t,n;if((null!=(t=this.clickTrackingURLTemplates)?t.length:void 0)&&this.trackURLs(this.clickTrackingURLTemplates),null!=this.clickThroughURLTemplate)return this.linear&&(n={CONTENTPLAYHEAD:this.progressFormated()}),e=d.resolveURLTemplates([this.clickThroughURLTemplate],n)[0],this.emit("clickthrough",e)},t.prototype.track=function(e,t){var n,r;null==t&&(t=!1),"closeLinear"===e&&null==this.trackingEvents[e]&&null!=this.trackingEvents.close&&(e="close"),r=this.trackingEvents[e],n=this.emitAlwaysEvents.indexOf(e),null!=r?(this.emit(e,""),this.trackURLs(r)):-1!==n&&this.emit(e,""),!0===t&&(delete this.trackingEvents[e],n>-1&&this.emitAlwaysEvents.splice(n,1))},t.prototype.trackURLs=function(e,t){var n;return null==t&&(t={}),this.linear&&(null!=(null!=(n=this.creative.mediaFiles[0])?n.fileURL:void 0)&&(t.ASSETURI=this.creative.mediaFiles[0].fileURL),t.CONTENTPLAYHEAD=this.progressFormated()),d.track(e,t)},t.prototype.progressFormated=function(){var e,t,n,r,i;return i=parseInt(this.progress),(e=i/3600).length<2&&(e="0"+e),(t=i/60%60).length<2&&(t="0"+t),(r=i%60).length<2&&(r="0"+t),n=parseInt(100*(this.progress-i)),e+":"+t+":"+r+"."+n},t}(r),t.exports=l},{"./client":3,"./companionad":4,"./creative":5,"./nonlinear":11,"./util":18,events:1}],15:[function(e,t,n){var r,i,o;o=e("./urlhandlers/xmlhttprequest"),i=e("./urlhandlers/flash"),r=function(){function t(){}return t.get=function(t,n,r){var a,s;return r||("function"==typeof n&&(r=n),n={}),null!=n.response?(s=n.response,delete n.response,r(null,s)):(null!=(a=n.urlhandler)?a.supported():void 0)?n.urlhandler.get(t,n,r):"undefined"==typeof window||null===window?e("./urlhandlers/node").get(t,n,r):o.supported()?o.get(t,n,r):i.supported()?i.get(t,n,r):r(new Error("Current context is not supported by any of the default URLHandlers. Please provide a custom URLHandler"))},t}(),t.exports=r},{"./urlhandlers/flash":16,"./urlhandlers/xmlhttprequest":17}],16:[function(e,t,n){var r;r=function(){function e(){}return e.xdr=function(){var e;return window.XDomainRequest&&(e=new XDomainRequest),e},e.supported=function(){return!!this.xdr()},e.get=function(e,t,n){var r,i;return(i="function"==typeof window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLDOM"):void 0)?(i.async=!1,(r=this.xdr()).open("GET",e),r.timeout=t.timeout||0,r.withCredentials=t.withCredentials||!1,r.send(),r.onprogress=function(){},r.onload=function(){return i.loadXML(r.responseText),n(null,i)}):n(new Error("FlashURLHandler: Microsoft.XMLDOM format not supported"))},e}(),t.exports=r},{}],17:[function(e,t,n){var r;r=function(){function e(){}return e.xhr=function(){var e;if("withCredentials"in(e=new window.XMLHttpRequest))return e},e.supported=function(){return!!this.xhr()},e.get=function(e,t,n){var r;if("https:"===window.location.protocol&&0===e.indexOf("http://"))return n(new Error("XHRURLHandler: Cannot go from HTTPS to HTTP."));try{return(r=this.xhr()).open("GET",e),r.timeout=t.timeout||0,r.withCredentials=t.withCredentials||!1,r.overrideMimeType&&r.overrideMimeType("text/xml"),r.onreadystatechange=function(){if(4===r.readyState)return 200===r.status?n(null,r.responseXML):n(new Error("XHRURLHandler: "+r.statusText))},r.send()}catch(e){return n(new Error("XHRURLHandler: Unexpected error"))}},e}(),t.exports=r},{}],18:[function(e,t,n){var r;r=function(){function e(){}return e.track=function(e,t){var n,r,i,o,a,s;for(r=this.resolveURLTemplates(e,t),s=[],o=0,a=r.length;o<a;o++)n=r[o],"undefined"!=typeof window&&null!==window&&(i=new Image,s.push(i.src=n));return s},e.resolveURLTemplates=function(e,t){var n,r,i,o,a,s,l,d,u;for(null==t&&(t={}),r=[],null!=t.ASSETURI&&(t.ASSETURI=this.encodeURIComponentRFC3986(t.ASSETURI)),null!=t.CONTENTPLAYHEAD&&(t.CONTENTPLAYHEAD=this.encodeURIComponentRFC3986(t.CONTENTPLAYHEAD)),null==t.ERRORCODE||/^[0-9]{3}$/.test(t.ERRORCODE)||(t.ERRORCODE=900),t.CACHEBUSTING=this.leftpad(Math.round(1e8*Math.random()).toString()),t.TIMESTAMP=this.encodeURIComponentRFC3986((new Date).toISOString()),t.RANDOM=t.random=t.CACHEBUSTING,i=0,a=e.length;i<a;i++)if(n=e[i],d=n){for(o in t)u=t[o],s="["+o+"]",l="%%"+o+"%%",d=(d=d.replace(s,u)).replace(l,u);r.push(d)}return r},e.encodeURIComponentRFC3986=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16)})},e.leftpad=function(e){return e.length<8?function(){var t,n,r;for(r=[],t=0,n=8-e.length;0<=n?t<n:t>n;0<=n?t++:t--)r.push("0");return r}().join("")+e:e},e.storage=function(){var e,t;try{t="undefined"!=typeof window&&null!==window?window.localStorage||window.sessionStorage:null}catch(e){t=null}return(null==t||function(e){var t;try{if(t="__VASTUtil__",e.setItem(t,t),e.getItem(t)!==t)return!0}catch(e){return!0}return!1}(t))&&(e={},t={length:0,getItem:function(t){return e[t]},setItem:function(t,n){e[t]=n,this.length=Object.keys(e).length},removeItem:function(t){delete e[t],this.length=Object.keys(e).length},clear:function(){e={},this.length=0}}),t}(),e.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},e}(),t.exports=r},{}]},{},[9])(9)},function(e,t){t.getDeviceInfo=function(){var e,t,n={os:"",osv:"0",make:"",model:"",mobile:!1};try{(e=navigator.userAgent)||(e=window.navigator.userAgent)}catch(t){e=window.navigator.userAgent}if(/iPod/i.test(e))n.os="iOS",n.osv=(e.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/)||[""])[0].replace(/_/g,"."),n.make="Apple",n.model="iPod",n.mobile=!0;else if(/iPhone/i.test(e))n.os="iOS",n.osv=(e.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/)||[""])[0].replace(/_/g,"."),n.make="Apple",n.model="iPhone",n.mobile=!0;else if(/iPad/i.test(e))n.os="iOS",n.osv=(e.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/)||[""])[0].replace(/_/g,"."),n.make="Apple",n.model="iPad",n.mobile=!0;else if(/Android/i.test(e)){if(n.os="Android",n.mobile=!0,t=/\Android.([\d\.]+).*;\s(\w*;\s)?(.*)\sBuild.*\)/i.exec(e)){n.osv=t[1]||"0";var r=t[3]||"";/HTC/i.test(r)?(n.make="HTC",t=/HTC\s(.*)/i.exec(r),n.model=t?t[1]:""):/ASUS/i.test(r)?(n.make="ASUS",t=/ASUS\s(.*)/i.exec(r),n.model=t?t[1]:""):/ALCATEL/i.test(r)?(n.make="ALCATEL",t=/ALCATEL\s(.*)/i.exec(r),n.model=t?t[1]:""):/BLU/i.test(r)?(n.make="BLU",t=/BLU\s(.*)/i.exec(r),n.model=t?t[1]:""):/ME17\d/i.test(r)?(n.make="ASUS",n.model=r):/Nexus/i.test(r)?(n.make="Google",n.model=r):/Lenovo/i.test(r)?(n.make="Lenovo",/Lenovo\s(.*)/i):/IdeaTab/i.test(r)?(n.make="Lenovo",n.model=r):/Huawei/i.test(e)?(n.make="Huawei",n.model=r):/SGP\d/i.test(r)?(n.make="Sony",n.model=r):/LT[1-9]\d/i.test(r)?(n.make="Sony",n.model=r):/HP/i.test(r)?(n.make="HP",t=/HP\s(.*)/i.exec(r),n.model=t?t[1]:""):/A1-/i.test(r)||/B11-/i.test(r)?(n.make="Acer",n.model=r):/GT-/i.test(r)?(n.make="Samsung",t=/(GT-.*)/i.exec(r),n.model=t?t[1]:""):/SM-/i.test(r)?(n.make="Samsung",t=/(SM-.*)/i.exec(r),n.model=t?t[1]:""):/SPH-/i.test(r)?(n.make="Samsung",t=/(SPH-.*)/i.exec(r),n.model=t?t[1]:""):/SCH-/i.test(r)?(n.make="Samsung",t=/(SCH-.*)/i.exec(r),n.model=t?t[1]:""):/SGH-/i.test(r)?(n.make="Samsung",t=/(SGH-.*)/i.exec(r),n.model=t?t[1]:""):/DROID/i.test(r)?(n.make="Motorola",t=/(DROID.*)/i.exec(r),n.model=t?t[1]:""):/XT/i.test(r)?(n.make="Motorola",t=/(XT.*)/i.exec(r),n.model=t?t[1]:""):/LG-/i.test(r)?(n.make="LG",t=/(LG-.*)/i.exec(r),n.model=t?t[1]:""):/VS/i.test(r)?(n.make="LG",t=/(VS.*)/i.exec(r),n.model=t?t[1]:""):/Z[1-9]/i.test(r)?(n.make="ZTE",t=/(Z[1-9].*)/i.exec(r),n.model=t?t[1]:""):/NX[1-9]/i.test(r)?(n.make="NEXTBOOK",t=/(NX[1-9].*)/i.exec(r),n.model=t?t[1]:""):/C5[1-9]/i.test(r)?(n.make="Kyocera",t=/(C5[1-9].*)/i.exec(r),n.model=t?t[1]:""):n.model=r}}else/Windows.Phone/i.test(e)||/WPDesktop/i.test(e)?(n.os="WindowsPhone",n.osv=(e.match(/Windows.Phone\s([0-9]+\.[0-9])/)||[""])[1]||8,n.mobile=!0,/NOKIA/i.test(e)&&(n.make="Nokia",t=/NOKIA;\s(.*?)(;|\))/i.exec(e),n.model=t?t[1]:"")):/BlackBerry/i.test(e)||navigator.userAgent.match(/BB10/i)?(n.os="BlackBerry",e.indexOf("Version/")>=0?(t=/Version\/(.*?)\s/i.exec(e),n.osv=t?t[1]:""):(t=/BlackBerry.*\/(.*?)\s/i.exec(e),n.osv=t?t[1]:""),n.mobile=!0):/Windows/i.test(e)?(n.os="Windows",t=/Windows\sNT\s(.*?)(;|\)|\s)/i.exec(e),n.osv=t?t[1]:""):/Mac\sOS/i.test(e)&&(n.os="MacOS",t=/Mac\sOS\sX\s(.*?)(;|\)|\s)/i.exec(e),n.osv=t?t[1]:"");return n}},function(e,t,n){var r=n(20);e.exports="string"==typeof r?r:r.toString()},function(e,t,n){var r=n(21);(e.exports=n(10)(!1)).push([e.i,'#__cedato_root_container,.__cedato_root_container{background-color:#000;border:0 none;display:block;height:100%;margin:0;overflow:hidden;padding:0;position:relative;top:0;width:100%}#__cedato_root_container .__cedato_hidden,.__cedato_root_container .__cedato_hidden{position:absolute;top:-10000px;left:-10000px;right:auto;bottom:auto}#__cedato_root_container,.__cedato_root_container,.__cedato_content_container,.__cedato_control_bar,.__cedato_time_tracker span{-webkit-touch-callout:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.__cedato_content_container{width:100%;height:100%;top:0;left:0;position:absolute;background:#000;z-index:10001}.__cedato_content_container .__cedato_content_video{height:100% !important;display:block;width:100%;position:relative;z-index:0}.__cedato_content_container .__cedato_content_video.__cedato_active{z-index:2}.__cedato_video_element{height:100% !important;width:100%;position:relative;top:0;left:0;background-color:#000}jsv.__cedato_video_element{display:block}.__cedato_jsv_marker:before{content:"JSV";display:block;color:#fff;background:#333;top:0;left:0;position:absolute;padding:10px;box-shadow:0 0 7px #fff}.__cedato_jsvpaid_element{position:absolute;top:0;left:0;width:100%;height:100%;z-index:0;padding:0;margin:0}.__cedato_unmute_button{width:49px;height:54px;position:absolute;top:auto;left:0;bottom:84px;z-index:10010;cursor:pointer;background:url('+r(n(22))+") no-repeat 0 0}.__cedato_skip_button{border:1px solid #888;cursor:pointer;color:#fff;font-size:.75em;text-align:center;position:absolute;top:auto;left:auto;right:1px;bottom:103px;z-index:10012;padding:3px 20px 3px 9px;background:#000 url("+r(n(12))+") no-repeat 102% center}.__cedato_close_button{position:absolute;z-index:10012;top:9px;right:9px;width:20px;height:20px;cursor:pointer;background:url("+r(n(23))+") no-repeat center 0}.__cedato_spinner{width:100%;height:100%;position:absolute;top:0;left:0;z-index:1;background-image:url("+r(n(24))+");background-repeat:no-repeat;background-position:center center}.__cedato_play_button{width:100%;height:100%;position:absolute;top:0;left:0;z-index:10003;cursor:pointer;background:url("+r(n(25))+") no-repeat center center}.__cedato_content_poster{width:100%;height:100%;position:absolute;top:0;left:0;z-index:1;background-color:#000;background-repeat:no-repeat;background-position:center center}.__cedato_playback_button,.__cedato_volume_button,.__cedato_bitrate_button{width:30px;height:30px;display:inline-block;cursor:pointer;background-repeat:no-repeat}.__cedato_playback_button{margin-left:7px;background:url("+r(n(26))+")}.__cedato_volume_button{background-image:url("+r(n(27))+")}.__cedato_bitrate_button{margin-left:auto;background-image:url("+r(n(28))+')}.__cedato_playback_button.__cedato_playback_play_button,.__cedato_volume_button.__cedato_volume_mute_button,.__cedato_bitrate_button{background-position:center 0}.__cedato_playback_button.__cedato_playback_pause_button,.__cedato_volume_button.__cedato_volume_unmute_button{background-position:center -30px}.__cedato_bitrate_list{min-width:80px;right:13px;bottom:58px;position:absolute;background-color:rgba(0,0,0,0.9)}.__cedato_bitrate_list:before{content:"Quality";display:block;height:30px;background-color:rgba(0,0,0,0.9);font-size:12px;text-align:center;line-height:30px;border-bottom:solid 1px #979797}.__cedato_bitrate_list .__cedato_bitrate_item{font-size:12px;height:30px;line-height:30px;padding:0 15px;text-align:right;cursor:pointer}.__cedato_bitrate_list .__cedato_bitrate_item:hover{background-color:rgba(255,255,255,0.2)}.__cedato_bitrate_list .__cedato_bitrate_item.__cedato_selected{background:url('+r(n(29))+") no-repeat 6px center}.__cedato_progress,.__cedato_hover_progress{width:100%;height:100%;transform:scaleX(0);transform-origin:0 0}.__cedato_volume_control{font-size:0;line-height:0;cursor:pointer}.__cedato_volume_line{width:2px;height:14px;display:inline-block;background-color:#fff;margin-left:4px;border-radius:1px}.__cedato_volume_line:first-child{margin-left:0}.__cedato_volume_line:hover,.__cedato_volume_line.__cedato_volume_line_colored{background-color:#48e6d8}.__cedato_volume_bar{width:56px;height:28px;display:flex;align-items:center;cursor:pointer}.__cedato_volume_bar .__cedato_progress_placeholder{position:relative;height:4px;background:#fff;border-radius:2px;overflow:hidden;flex:1 1 0}.__cedato_volume_bar .__cedato_progress{background-color:#48e6d8}.__cedato_volume_bar .__cedato_hover_progress{background-color:rgba(72,230,216,0.5);position:absolute;top:0;left:0;opacity:0}.__cedato_seek_bar{height:8px;top:0;left:13px;right:13px;position:absolute;margin-top:10px;display:flex;align-items:center}.__cedato_seek_bar .__cedato_progress_placeholder{position:relative;height:3px;flex:1 1 0;background:#fff;border-radius:2px}.__cedato_seek_bar.__cedato_interactive{cursor:pointer}.__cedato_seek_bar.__cedato_interactive .__cedato_hover_progress{background-color:rgba(72,230,216,0.5);position:absolute;top:0;left:0;opacity:0}.__cedato_seek_bar.__cedato_interactive .__cedato_scrubber{width:2px;height:9px;background:#fff;margin-top:-6px;opacity:0;z-index:1}.__cedato_seek_bar.__cedato_interactive:hover .__cedato_progress_placeholder{height:6px;transform:translateZ(0)}.__cedato_seek_bar.__cedato_interactive:hover .__cedato_scrubber{margin-top:-8px;height:11px}.__cedato_seek_bar .__cedato_progress{background:#48e6d8;position:relative}.__cedato_time_tracker{display:-ms-flexbox;display:-webkit-box;display:flex;padding-left:14px;align-items:center}.__cedato_time_tracker span{display:inline-block;height:12px;font-size:.75em;font-weight:300;line-height:12px;padding-right:6px}.__cedato_controls_skip_button{border:1px solid #888;cursor:pointer;font-size:.75em;text-align:center;position:absolute;top:auto;left:auto;right:1px;bottom:103px;z-index:10012;padding:3px 20px 3px 9px;background:#000 url("+r(n(12))+") no-repeat 102% center}.__cedato_skip_countdown_button,.__cedato_skip_text{box-sizing:border-box;text-align:center;display:flex;align-items:center;justify-content:center}.__cedato_brand_menu{position:absolute;top:0;left:0;display:block;padding:8px;border-radius:4px;cursor:pointer;background-color:#f5f5f5;font-size:.8em;color:#000000;-webkit-box-shadow:0 2px 2px 0 rgba(0,0,0,0.2);-moz-box-shadow:0 2px 2px 0 rgba(0,0,0,0.2);box-shadow:0 2px 2px 0 rgba(0,0,0,0.2);z-index:99999;visibility:hidden;white-space:nowrap}.__cedato_brand_menu:hover{background-color:#e5f4f4}.__cedato_brand_menu figure,.__cedato_brand_menu span{pointer-events:none;display:inline-block;vertical-align:top;line-height:32px;font-family:Arial,sans-serif}.__cedato_brand_menu figure{display:inline-block;width:32px;height:32px;margin:0 8px 0 0;border:0;background-image:url("+r(n(30))+');background-size:contain;background-repeat:no-repeat}.__cedato_desktop .__cedato_control_bar{opacity:0;-webkit-transition:all .5s ease-out;-moz-transition:all .5s ease-out;-o-transition:all .5s ease-out;transition:all .5s ease-out}.__cedato_desktop:hover .__cedato_control_bar{opacity:1}.__cedato_desktop .__cedato_seek_bar:hover .__cedato_hover_progress{opacity:1}.__cedato_desktop .__cedato_close_button:hover{background-position:center bottom}.__cedato_desktop .__cedato_playback_button.__cedato_playback_play_button:hover,.__cedato_desktop .__cedato_volume_button.__cedato_volume_mute_button:hover{background-position:center -60px}.__cedato_desktop .__cedato_playback_button.__cedato_playback_pause_button:hover,.__cedato_desktop .__cedato_volume_button.__cedato_volume_unmute_button:hover,.__cedato_desktop .__cedato_bitrate_button:hover{background-position:center bottom}.__cedato_desktop .__cedato_seek_bar:hover .__cedato_scrubber{opacity:1}.__cedato_desktop .__cedato_volume_bar:hover .__cedato_hover_progress{opacity:1}.__cedato_control_bar{width:100%;height:65px;padding:13px 13px 0;position:absolute;bottom:0;left:0;z-index:10010;box-sizing:border-box;display:-ms-flexbox;display:-webkit-box;display:flex;align-items:center;background-image:-webkit-linear-gradient(top, rgba(0,0,0,0), #000000);background-image:linear-gradient(to bottom, rgba(0,0,0,0), #000000);font:normal normal normal 16px "Helvetica Neue",Helvetica,sans-serif;color:#fff}.__cedato_control_bar *{box-sizing:border-box}@media (hover:hover){.__cedato_close_button:hover{background-position:center bottom}.__cedato_playback_button.__cedato_playback_play_button:hover,.__cedato_volume_button.__cedato_volume_mute_button:hover{background-position:center -60px}.__cedato_playback_button.__cedato_playback_pause_button:hover,.__cedato_volume_button.__cedato_volume_unmute_button:hover,.__cedato_bitrate_button:hover{background-position:center bottom}.__cedato_seek_bar:hover .__cedato_scrubber{opacity:1}}',""])},function(e,t){e.exports=function(e){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAA2CAMAAABZR4GWAAAAilBMVEUAAAAAAABUVFQAAAAAAAAAAAAAAAD6+vo0NDSBgYHv7++urq54eHgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC2traKiopqampQUFA/Pz8oKCji4uLa2tqgoKAZGRnw8PDU1NTJycm+vr6vr6+VlZWIiIh+fn5ISEgjIyP///9BWO/iAAAALXRSTlPMANozyL14/tTj+uzhvLKvo5mSflhTRiQb7eTe2tfS+Pbp0Pv08u/s5+Ti2NF29ih6AAABGklEQVRIx7XW246CMBSF4TVTCpVBRRGEQVDnfNrv/3rTyZBg0lqzLvrf0JsvAdK0G/4Svdqku/2dJwRbVooUtnVDClupSGHbtqyAVqxAUpPClrLCElqgpkWiWAHdsgJbWkDRoqQFGlqsaQHlE0lIVB7xmZmAWLriUeQegfYuuCF2Drgl0nk5vnfdm0yi7wEsfHQzL7/ENolepMBZssEVq3m5uBDfmcirSD66QvsFDplYYOCWXBHo7PMDhDjLXwWCbzW8nE7HSRQieZGJHAJfPvXwL8xzbuy3HJ9Cf3cmVmD8AWA8ACkcQu2SiQzUTrQZhHc7WUULFf9kaOKfcCr6Sa3b6DdOHf3mTGNPAFpFnmRKFWEiC099/GT5C2olG7oy3NE9AAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAoCAMAAADJ7yrpAAAA81BMVEUAAAD6+vr5+fmrq6sBAQF1dXX////5+fkcHBwVFRX19fXw8PCMjIwkJCTy8vINDQ0VFRUVFRX8/Pzt7e2SkpJ+fn4yMjJpaWkSEhIRERFoaGjr6+vz8/Pn5+fw8PD8/Pz6+vqdnZ3////9/f12dnZISEjJycldXV2Dg4MxMTHz8/MlJSWkpKTOzs7p6emrq6uNjY17e3sCAgLq6uo0NDRAQEBubm6Pj4/t7e3X19fAwMC9vb22traxsbHq6ur7+/uVlZWbm5t7e3uAgIDx8fGvr6/19fW8vLySkpJAQECioqJAQECioqLe3t40NDQAAAD///+A0wQyAAAAUHRSTlMABAgHBQoL/BMN+eO0UEVELyLr27ahemM+Jg739O3d3NbAtrKhjINuaWJgXllUUExDQTIpKR4XEerp29PSzcbDvLepiIOAZVpXSEI/OjUwG+ThgmsAAAFNSURBVCjPnZLHdsIwEEWtYnDD2PQOAUILvab3Xuf/vyYjidheeJHkLZ49V3NGT0fS/ihKfz5E+4+e2hP0SXscYYtjsGfazIb6PIRFALB7NnoxhOV8EoSS+bKsCcEUfNm1kFndJSd7KKxfQ1jrY6UCU4SvWRDKzveQIFw0cN5pEul72DnALmfooA/Cc3q5qlMySk4157EAmulC2tS4cKrIl8k5x1iG7xtckxBrJS6XcNsYxUIWD1VOQmhCiOAP1SWM7fzNTBqskMeOSxJ01HEV3AmbZqDlklEGmh80aH8AgNZ9BiD5LOuEsLcD2N/ROoTblKTWbakSQrq7sxDWi4xGck4bIHS5iuR0mzjvBOnVSh5TWg/rXOECfcwC+HIG16n18BxuPiWUZhwdprZsg26qF8KMsrfRKWUV3/MrREJdZ0SIMV3XNaIgiUqxeH0Dbtor/zpirkAAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/gif;base64,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"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAA21BMVEUAAAAAAAAAAAAlJSX////////m5ub///+0tLQfHx////8NDQ2fn5////8tLS3Q0NB/f39nZ2deXl41NTX///+ampoUFBT+/v7////Q0ND///9KSkr///////////////+RkZH///9ERET////////////////////////////i4uL////GxsZQUFA/Pz////////+/v7+Pj4/////V1dWYmJhzc3MYGBj+/v7////z8/Ps7Oy4uLj///+Hh4f////////////////////8/Pzj4+P4+Pjs7Ozb29v0FickAAAAQ3RSTlPMAMnSDLD99u/Skc7s5NT35eDe1TDu0Gcl/d7au3xfP+nZ2c/LoxbxnTP7+fTb2MSZ8eka9+niz6ZI/Prv6eWngHpUSXa3QwAAAgpJREFUSMeV1mdzm0AQBuBjaaapF9R7t2wVlzg9eUHS//9FgXiYSNxBfPtNc3qYO9jbXaakQ6s1bX068rzRVLebNY37Q5qseo8mEJzDyyU8B4D52FvlksFsgVOrXu4UrEbDKnTK9dYJi9kgk/hLE+Fh7NBVOONDCHPni0m/jbCkEhG7iuinWgrR7guIZiNwI8C4iJAbwNbS5KjDqCSARxUD+vyWHLsoVhMgQtUiuvNroum4VxMhNuo9dO2K7FDkBGeKsP+RJgx+V/zeDPQTUvsWVHjBm0rg+e9E68LlhNC4WL6TJgz1Y0Q1NoOYaBOUeCE2JXyKyW+srY8Sa23WIjLDkBOZZoiewo7eacwRh5GYPJymGnvDk8MtPd89EImI0zJr7Bfq/OIe54M4q+tosiXK/NIdgMuLQzwpw2bdYCsmwH5LlCadQGeTcyGL4ORWU4gK5wkbhVYmAb58v10lK2yz9qWRQ4Cnm6NS4+Kx0X8IvjppMsndGNYvr9zGujnHx+fnAhF3/FnQySRxDghecg/lDFKsOCT8lG+bupAYpVciccL4ixb/sH3gJocQpKU2EST/dssoO/mVn4IrRpR3xZSVKXGRw78XWfkhXS6UwUa2KCnKUrr0Kb4nWWCj6EuW8Ths2WYh35LimMs2vtjItlf5Ji4/KiTh70yEw/RAMhQMJPJjj/xwJT/C/QFL21vVbwm3hgAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAB4CAMAAADSQ7LXAAAAeFBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////GqOSsAAAAJ3RSTlMAJN4YNudLPA8e2axj+goyKhS+705GpGpC42/rL1yzyIZUl4x/0dDgZsXmAAABh0lEQVRIx+2U23KCMBCGuyaQBIGEQzRUPLXqvv8bltWpDibIDBed6vjd7MUXcth/h4+XZ1vWj3SD2RcM6wQRk6Uc1sTGPdRYfcOwJk5pPqyJOX+k6YQRPXnzY5pPfdjGTWqqH4kf6JtXopwlZRc4lMmsDOgV4oo01YCeIc5IU33rKXqk52OJvXlyCqWNMarIw5qJZJM6YZQMLoB9htU8tRxYaIFJM0RsvtZOdws8rZcZEsfd3rXgXYF/XjRm5WcsgMmgJqrFuvO5p68kB62kr29szDTtb+5fjQPLBx9meffwcFtOh/jWeL+pe+H1jIA66w7tReIHyg3JAFK1xgCNw5u/QhYMQLGiqwqgqz2bM+DOOg0KWmHt/TBJJsooanbQwq6JVlvRH8UC6ggRF1zoRVejvWG9aWjXDWlnBelmrftap/T1PI7tnL5OeV/zXx2f9VIEdX3V6r9p7+Yj7x7v2njPpRLbqorOiUVVtXVK3uUt4tpyUKBtHXv/NVkoAGDsMi2KyY9n5wdK00rzs+WyqAAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAB4CAMAAADSQ7LXAAAAgVBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////9d3yJTAAAAKnRSTlMABw4gVBbrOi4m70warGzeZ/Vb0oZBKuSic5CLe2I1l723RaXHspyAy9fKPRK9AAACTElEQVRIx+2UV27rMBAA2Yuo3rt7yd7/gI8WkiBeS+8/iAcGDGgkElhqRN58Yjq6YWjMCbFJMa/bFnLCK3oNzJo9AQhiVEROBV5fCxGB15TX2Y4FOdIBLDijqgrCNlrXgpQFUyI+b+nxgzWvOvte3GngV7y4S6e914JZrlqqJvICO3hNanWgu4SSFX95jEXQIdNkDXarCeFFUpFt5lKSN28Q64UicKEIXChNNSHpvFEoOYI6DlBsFErk4y6VbyVIWAMwkA2NnsaF+r0D5/feKJTQSRMSz1uFInChCFzomz8CXWALlL5aJj0h51yGEmsvubW1rXn8kXLOkJbcaD0V8ayPEexsiLTVTowK+qo75CWUOORZpH0AcBVxEsRtUCF9uhfeQjvu4iRJVb8eUTRklxJu+/16gpc0Urfg2m70HXXnZMx20R1pBQunXpUtdPcL0ml/Lbxu07SEQ5x1SJujiM8AOzfCXhQfuDVu9NEdYNAiFudAhDhOyWujS2fqXCWCy5UDC7nknLvShCEjiK/DlsuPkje/APrgPxKli2TIQylXb/DSN2q6wYbsdY9F6mOZNVXNJcObsNDOLt9lkIium3KRa/tTSyvGIQKAJr0Fe9EHPWdPb/kdFlQ8ACQ+Jiufvg3Jp+5SvwUcnAl/6upLj2nr//bO8J+L62/dAxQZRPxJm0ipzOsm7prIlU3Jw6fPls7jXnk9VU7rufLzew7QVGJsIBHfl55n6gejpyapjLXWP8vwWBm3tZvs10zpSsHycWIbx06xwDzkryn7H4+ZPRd7fWNAAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAA8CAMAAABGivqtAAAAclBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////9eWEHEAAAAJXRSTlMACR0QFSszziR0Q8XxpOi9W19PPRkN27asqYV5ZVVI7p/Wi3+WSI/w7gAAATRJREFUOMvt0duOgyAQBuAyMCBQPGutWnvaef9XXGjaJrJsN3u5m/4mevE5fyaweefnIBF+Z2BLTaQrK5Js6Z4iyYcHH1IqJ6IdwM73Y4LJB/wG4ft7Rv0on+TL1crk5sWDbZKFrcKxlBZeHuo7/yJswzouhOCcsRRzARlKRGg5+4KMA0qzLMY0CILFLDJp6vmi1HgwMoudgzT6dLVEhf6oJHAWDTc6p/5IdOypL7FdM8j6RM9c/PiqO2vKqfew3fqXqhqM2IzF0YNziigfZhRsPa3CrDu5fZi3WcTyxnt3Z1hxB1IPuS8fhlC+n9ersRZNpZ6rLQjdin37SM9cfXd8qPWZVO6bFZ0XweMbabN6rB2RM5MRnKXuU85FUSLcNS4QAEK0HoMmfug4513AdNjt+SP5BNMsHxq1IUVjAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAKlBMVEUAAAD///////////////////////////////////////////////////+Gu8ovAAAADXRSTlMAT/rtL9oabefImD8VVJDr+wAAAEBJREFUCNdjIAR4NkAZqdchNFvsZSDJ7sCQelcRyFhrwhZ7SQDI6L0sChZgcL57FyzAwGILEgALgQTAQhMJWAcAQZsPSo4v24wAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAC/VBMVEUAAAAwXakmdbMyVqYyVqYxWqgQr8szUaQRrMoxV6YyVKUwXKk0UKMvXKgOrcszUqQQrMoSqMkxWKcQrMovXakwXKgtZawRqsoWnsQzU6QPqsoQrsstZawPq8oxWqcuYasgjb4yVqYTp8gih7swXqkle7YQr8sOrssQr8sncbElc7MxVqYfl8IZoMUck8AihboTp8gQrssTp8glfLcwWqcmb7EJp8kjl8Elf7gldrM0UqQwXqkgkb8mdLIkhLkcmsMme7Ymd7MQr8s0UKMwXagjdbIuZaw0T6MwV6YlerYkd7QkcbEkb7EtY6szUqQkhLktaa0jl8EkgbglfLchi7wmba8uZKshjr0pbK8ra64kc7IvYKoiibsvWaf///8GqMklmcIyVKUMr8sKpcclfrgjhrouZ6wwX6kPscwWoMUfm8MhlMEgkL4Hq8oRo8YimsIBX6YxVaUHpsgbnMQvW6gQMpPy9voKrcoAl78hkb8FhLcuYqsCZars8/nH4O7G0+gTocYZnsUgksACdrAwYas4WKc2U6QjQpwBO5bi7PXT3O3O2uuardQyZ60HaqswXqkpTaELUKAFKo/j8ffd7vbE5O+uyuKkw96svt2PrNINpMZVk8QCiLcAgbVRcrUUebQCfLMpdLMMcbAnWKYAWqQBVaI1S6EvS6EASpwBQ5kXPpkNO5fp7vbN4e/K1+q41uie1OWLx96VuNifsdZxqdBnrM+Epc92n8sNosYEkbwUiLoggLcxba8cZKoOXacQR50OQZoDMpEAJIr4+/3T6fPY4O+o0uWWxd+4w99+w9yiudqEs9WXqNFPrs9WoMponspxkcQglMFEjMA3jL9shL4mjr0Zjr1WhL04cbIXcLBBZ68Cb60fW6YXVqMuUKIkT6EAUJ4bSZ4AHoe75vDL5PDc4vDA3ey/1em8yuRawdmIudhvs9NGnMZmjsIgirsthborg7kcebUfcbBQaLA9Xarb5fG10eZ4udems9dnuNQ1oMYsk8A/grsSfrUlaq1UKEzxAAAAQnRSTlMAFQawpV706nlTRgz17My7s6eaXzkqHx4S3sKXjop8bGppUTX46Obf2Mydjox1UEZDNiwr9+vp49nWycbEuKKZf103iP0+AAAFV0lEQVRYw+2UZVxTURjGJyomStjd3d2xsQ3RjRRlwBUMmIEOcXOOBQiDkdIhXdJd0mB3B112d8fPc++VXWBXBPymPt//7/OcNw7hv/4WDVIZ2n32H/Dd5ZlEIrFP94Ed5IcCHJXimI7wMwAv1cThc9pdoA9SANMQlUHtKyBPbCl5pVkdLIBpUjs6OoGIJyZRUUWubQUmEfG12XzB8DbF6IPP7zfftOWotVIbBjuEiWe/f9PeLbutbXbsWTht7G8KKOLxwP7w7u2WO4y1tHYeWDaq1cEqyfKo/XbLPQA/uGvDhueGK2a2ssk49nuBPYhvDOx3bdDVNdTQ0Fi0ai4BX8OZst07bA3HR+11DbdpaGtv1dFZs3x1L9xbZMp0D7HXQu1RHuDqZDJ5/pR+sgWm43YP8AcPoPYawH4NzDPWrlu/cfLIlvulwmzCA/ujcPew+Bi/Fub1NU0VhjWPMQYnvjEWP/QV4NXVYfvwwsICTYqeHs1u6chOWIFZTNnhY/Hzr79Qb4z/vayMRtGjWRkcUlWd16VnY4HZLYYP7K8ebOxefsSJ83zEft16fY/0ZA8azcBs3z5VIyM1i8Ej+iMF5vy053K5uVwbYM/j8cLybuoa5ldGRPBZXudZZBarKLqoQLM0wLm02jWypL4+oVZsYUInkfrC3RiIdo/76I7PnYtBxrd4Z318Tj23vRla+TgpKUX9/vmo6MtC5+TbsbSAdwL/Z5Lac05O/u7xYsBTqUe6gj9dngm6x009nvYpDUoNCr7v9SQrhXM9IkIoyLzsK3C8HOcHZV9Jh3LicpwSXULqE52u3BBxxA4kWNQj/QlyEzabA3/IJig37OLd4DSBG9+t7rR31OnjfBY/NhP6eg3aGFstuQ2FNGSLPEudnDwTEo6J7rGpSIUjnQmEieZ7t+SeSA3eY2ycx+N5nXqalXUpC7ouzGStIb+Ocgz084srMHWViPyPuTgnVCRWxJuYOIgT36ARSN3AjwKWh+t9NggMfxcvz/uuMCnpRIrfNWGgG5kRHv0gxzfbg0KhSPwfggKlIfdq3On0GIeTN+LRAr3Bj3J09/YgHx/bqztv8b6EeaVFh4byX12LckyPZYQXFXLK/EQSmmukxBFJ4M654Wlv7xnCEcdIEyha21jmfobOhtnapnpXXoIusVjlx9/HBkKBdXVFjs5xBVBAnKTkHBTQkHEynn0BEnt6kqAMNknaAyVLsLvBFwXCU0Lvp6FumZwUXy9ft9dROZwHvo6iqqri24LkMycfijIaLiTH17AvcM6cEXxkowGoJLBMK+HL1wq+9eH0k2+2L7T5Lx+nB7LKw9dGhwece+ZR5epaHJmdcaUkssL97dsa+xj2GxeXEHaMPTrF0WCTpiGnczMPPCH/5VadreV8lhuDAS6v0MOjWo9iZWAXWVxSrFbrLnZ3AJi9A5vtgNBUUl/kIKZLT0e75eUip2OmqrrPSE3NhE4nYQL0EnALiEZdBaeDx1MAD+OqALdAeAzvpox9CqOwjwu9fBQHPM3KDrVHeYzu0qPptzSjeXwGFt8OXD4a34TeCFN7d+nR4m+difGIPX58Kh6Naqwh8u/pNLfXs2piT0fpzl07EXA0V/bfhO0NYHsj1B7Q9jCNrwEaMt0D9o3do9Pp8MBHIzS+Ov2iewBXQ+z7jh5AaE1y43V+NXzw9sFTAf0bjW8SH+A0O+nuDZ7ak9AGLVZvFt8MiW9h0U0Z0G3SZDIyfM2m8RWUe8oR2qop66T26PAV4FVth8YypMMH/grwsrVTw/T1TSmwv9m4zl0B3X6NcDWl0Gjj4GXroAaMVB4G6P/6Z/UD1B0N8Vw/aBYAAAAASUVORK5CYII="},function(e,t){t.initMoatTracking=function(e,t,n,r,i){var o,a,s=document.createElement("script"),l=[];t={adData:{ids:t,duration:n,url:i},dispatchEvent:function(e){this.sendEvent?(l&&(l.push(e),e=l,l=!1),this.sendEvent(e)):l.push(e)}},n="_moatApi"+Math.floor(1e8*Math.random());try{a=(o=e.ownerDocument).defaultView||o.parentWindow}catch(e){o=document,a=window}return a[n]=t,s.type="text/javascript",e&&e.insertBefore(s,e.childNodes[0]||null),s.src="https://z.moatads.com/"+r+"/moatvideo.js#"+n,t}},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(14);Object(r.default)({jsv:null,tag:window.CEDATO_TAG})}]);