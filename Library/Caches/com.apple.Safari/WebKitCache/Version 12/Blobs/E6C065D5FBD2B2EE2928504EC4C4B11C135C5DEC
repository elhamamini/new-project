!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=124)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(18),i=r(4);function a(e){if(""!=e.debugLog){e.bSubmitted+=e.debugLog.length,(e.bSubmitted>5e5||(new Date).getTime()-e.startTime>18e4)&&(e.debugLog="last packet",e.keepDebugLog=!1),e.debugLogLastSubmitted=(new Date).getTime();var t=e.debugLog;if(e.debugLog="",e.serverHost){var r=i.buildUrl(e.serverHost()+"/sdl?",{p:e.playerId,pv:e.playerVersion,se:e.sessionId,sid:e.subid,domain:e.domain,r:e.debugLogReason});n.requestWithAjax({url:r,postData:t,method:t?"POST":"GET"})}}}function o(e){if(e.debugLogBuffer.length<1e5)e.debugLog=e.debugLogBuffer,e.debugLogBuffer="";else{e.debugLog=e.debugLogBuffer.substr(e.debugLogBuffer.length-1e5);var t=e.debugLog.indexOf("\n");e.debugLog=-1===t?"":e.debugLog.substr(t+1),e.debugLogBuffer=""}}function s(e,t,r){if(e&&(!r||e.keepDetailedDebugLog)){var n;e.logDebugToConsole&&window.console&&window.console.log((new Date).getTime()+"\t"+t),e.logToHTML&&(e.debugDocElement.innerHTML+=t+"<br>"),n=JSON&&JSON.stringify?JSON.stringify(t):'"'+t+'"';var i=(new Date).getTime()+"\t"+n+"\n",o=i.length;if(o>1e5&&(o=(i=(new Date).getTime()+"\ttruncated line\n").length),e.keepDebugLog){var s=e.debugLog.length;s>0&&s+o>1e5&&a(e),e.debugLog+=i,((new Date).getTime()-e.debugLogLastSubmitted>3e3||e.debugLog.length>1e5)&&a(e)}else{if(e.debugLogBuffer&&e.debugLogBuffer.length>1e7)return;e.debugLogBuffer+=i}}}t.submitDebugLog=a,t.submitDebugLogBuffer=o,t.submitFullDebugLog=function(e,t){var r=t.debugLogReason,n=void 0===r?void 0:r,i=t.keepDebugLog,s=void 0!==i&&i,l=t.dueToException,d=void 0!==l&&l;void 0!==n&&(e.debugLogReason=n),o(e),a(e),s&&(e.keepDebugLog=!0),d&&(e.debugLogSubmittedDueToException=!0)},t.initDebugLog=function(e){if(e.debugLog="",e.debugLogBuffer="",e.debugLogLastSubmitted=(new Date).getTime(),e.bSubmitted=0,e.debugLogSubmittedDueToException=!1,e.logToHTML){var t=window.document.createElement("div"),r=window.document.createElement("pre");t.style.cssText="border: 1px solid; height: 300px; width: 1200px; resize: both; overflow: auto;",t.appendChild(r),window.document.body.appendChild(t),e.debugDocElement=r}},t.debugLog=s,t.errFullDetails=function(e){var t="";for(var r in e)e.hasOwnProperty(r)&&(t+="property: "+r+" value: ["+e[r]+"]\n");return t+="toString():  value: ["+e.toString()+"]"},t.debugLogVast=function(e,t,r,n,i){var a="";t.cxpid&&(a+="cxp:"+t.cxpid),t.cxvid&&(a+=" cxv:"+t.cxvid),(t.cxpid||t.cxvid)&&(a=" ("+a+")");var o="";try{o=i&&i.length?JSON.stringify(i):""}catch(e){}s(e,"vastId "+t.vastId+" uniqId "+t.uniqId+a+" - "+r+o,n)}},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i,a=r(8),o=r(14),s=r(30),l=r(9);!function(e){e[e.JS_EXCEPTION=3]="JS_EXCEPTION",e[e.GENERAL=6]="GENERAL"}(t.PlayerError||(t.PlayerError={})),function(e){e[e.GET=0]="GET",e[e.POST=1]="POST"}(i=t.requestMethod||(t.requestMethod={})),function(e){e[e.AD_COMPLETE=1]="AD_COMPLETE",e[e.SKIP=2]="SKIP",e[e.LONG_IMPRESSION=3]="LONG_IMPRESSION",e[e.IMPRESSION_ON_PAUSED=4]="IMPRESSION_ON_PAUSED",e[e.NO_SUITABLE_MEDIA=5]="NO_SUITABLE_MEDIA",e[e.ONLY_FLASH_BUT_NOT_SUPPORTED=6]="ONLY_FLASH_BUT_NOT_SUPPORTED",e[e.NO_VALID_CREATIVES=7]="NO_VALID_CREATIVES",e[e.NON_LINEAR=8]="NON_LINEAR",e[e.VPAID_VOLUME_VIOLIATION=9]="VPAID_VOLUME_VIOLIATION",e[e.DOUBLE_PARALLEL_STARTED=10]="DOUBLE_PARALLEL_STARTED",e[e.PARALLEL_STARTED=11]="PARALLEL_STARTED",e[e.UNREQUESTED_START=12]="UNREQUESTED_START",e[e.NO_VAST_TRACKER=13]="NO_VAST_TRACKER",e[e.FLASH_FAILURE=14]="FLASH_FAILURE",e[e.VPAID_LOAD_FAILURE=15]="VPAID_LOAD_FAILURE",e[e.INIT_AD_ERROR=16]="INIT_AD_ERROR",e[e.START_AD_ERROR=17]="START_AD_ERROR",e[e.START_AD_TIMEOUT=18]="START_AD_TIMEOUT",e[e.VPAID_ERROR_INITING=19]="VPAID_ERROR_INITING",e[e.VPAID_ERROR_READY=20]="VPAID_ERROR_READY",e[e.VIDEO_ERROR=21]="VIDEO_ERROR",e[e.HTTP_ERROR_REQUERY=22]="HTTP_ERROR_REQUERY",e[e.HTTP_ERROR_TERMINATE=23]="HTTP_ERROR_TERMINATE",e[e.VAST_DMVAST_ERROR=24]="VAST_DMVAST_ERROR",e[e.VAST_NO_AD=25]="VAST_NO_AD",e[e.EMPTY_RESPONSE=26]="EMPTY_RESPONSE",e[e.JS_EXCEPTION=27]="JS_EXCEPTION",e[e.UNKNOWN_ERROR=28]="UNKNOWN_ERROR",e[e.IS_BLOCKED=29]="IS_BLOCKED",e[e.LOAD_AD_TIMEOUT=30]="LOAD_AD_TIMEOUT",e[e.FETCH_VAST_TIMEOUT=31]="FETCH_VAST_TIMEOUT",e[e.IMA_REQUEST_ADS_TIMEOUT=32]="IMA_REQUEST_ADS_TIMEOUT"}(t.TerminateReason||(t.TerminateReason={}));var d=function(e){function t(){var t=e.call(this)||this;return t.observableOnly=!1,t.beingVpaid=!1,t.curUniq=0,t.freqRetry=!1,t.anyPlaying=!1,t.allowSound=!1,t.allowPausedImpressions=!0,t.usejsv=!1,t.areqMethod=i.GET,t.multipleEventMethod=i.GET,t.mediaPreview=!1,t.areqEventsQueue={},t.areqEntryCount=0,t.areqTimer=null,t.eventsQueue={},t.gpvExtraParams={},t.gpvMethod=i.GET,t.gpvAttempt=0,t.debug={},t.conf={},t.initOverrides=[],t.gpvConfLoaded=!1,t.gpvRequeryInterval=6e5,t.gpvRetryInterval=1e4,t.timers=null,t.thirdPartyTimeout=0,t.vastWaitFactor=1,t.totalVastRetries=null,t.maxTotalVastRetries=null,t.maxFailedVastRetries=null,t.maxAdStarts=null,t.demandMaxAdStarts=null,t.vpaidInitLimit=3,t.autoScheduleReset=!1,t.sizeTolerance=null,t.widthOverwrite=null,t.heightOverwrite=null,t.schedule=null,t.postRoll=!1,t.midrollRound=0,t.preRollTimer=new o.default,t.midRollTimer=new o.default,t.mainAutoplay=!0,t.controlBarType="cedbar",t.clickToPlay=!1,t.vastList={},t.playNextRepeatTimer=new o.default,t.debugLogReason="gpv",t.logToHTML=!1,t.submitDebugLogOnPlayerError=!1,t.submitDebugLogOnVastError=!1,t.submitDebugLogForVastId=null,t.plist=[],t.unlockedVideos=[],t.extControls={},t.domIsReady=!1,t.started=!1,t.paused=!1,t.scheduledPixelSent=!1,t.showBrandMenu=!1,t.brandMenuHandlers={},t.anyAdPlayed=!1,t.curAdStarts=0,t.now=Date.now,t.startTime=(new Date).getTime(),t.playerReady=new a.Promise(function(e){t.playerReadyResolve=function(){return t.domIsReady=!0,e()}}),t}return n(t,e),t.prototype.AllowedUnmute=function(){return this.dynamicSound||this.muteToPlay},t.prototype.findPlayerData=function(e){return l.arrayFind(this.plist,e)},t.prototype.getPlayerDataByUniq=function(e){return this.findPlayerData(function(t){return t.uniqId==e})},t.prototype.scheduleEnabled=function(){return this.started&&this.schedule&&(this.schedule.content||this.schedule.time)},t}(s.PlayerDataParams);t.Players=d,function(e){e[e.None=0]="None",e[e.Fetching=1]="Fetching",e[e.Fetched=2]="Fetched",e[e.Loading=3]="Loading",e[e.Initing=4]="Initing",e[e.Ready=5]="Ready",e[e.Started=6]="Started",e[e.Playing=7]="Playing",e[e.Completed=8]="Completed",e[e.Finished=9]="Finished",e[e.Error=10]="Error"}(t.PlayerDataState||(t.PlayerDataState={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=r(0),a=r(5);function o(e,t,r,o,s){for(var l=t.players,d=t.playerData,u=void 0===d?null:d,c=t.log,p=void 0!==c&&c,h=[],A=5;A<arguments.length;A++)h[A-5]=arguments[A];try{return p&&(u?i.debugLogVast(l,u,e,!1):i.debugLog(l,e,!1)),r.apply(s,h)}catch(t){return a.playerError(l,n.PlayerError.JS_EXCEPTION,e+" - JS exception: "+t.message,t),l.isDebugVersion,o&&o(t)}}function s(e,t){return t.playerDataAction?function(r){return t.playerDataAction(e.players,e.playerData,r)}:t.playerAction?function(r){return t.playerAction(e.players,r)}:function(e){return t.action(e)}}function l(e,t){return function(r){r&&!0!==r.cancelled&&a.playerError(e,n.PlayerError.JS_EXCEPTION,t+" - JS exception: "+r.message,r)}}t.safeguard=o,t.safeTimeout=function(e,t,r,n){var i=s(r,n);return setTimeout(function(){return o(e,r,i)},t)},t.safeEventListeners=function(e,t,r,n,i){for(var a=function(n){var a=s(r,n);e.addEventListener(n.type,function(i){return o(t+" "+n.type,r,a,n.catcher,e,i)},i)},l=0,d=n;l<d.length;l++)a(d[l])},t.safecatch=l,t.rethrow=function(e,t){return function(r){throw l(e,t)(r),r}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9),i=r(55);function a(e){return new RegExp("(^|\\s)"+e+"($|\\s)")}function o(e,t){return void 0===t&&(t="__cedato_"),n.isArray(e)?e.filter(function(e){return!!e}).map(function(e){return t+e}).join(" "):t+e}t.init=function(e){if(i){var t=document.createElement("style");t.type="text/css",t.innerHTML=i,document.getElementsByTagName("head")[0].appendChild(t),i=null}},t.cssClass=o,t.assignClass=function(e,t,r){void 0===r&&(r="__cedato_");var n=o(t,r);a(n).test(e.className)||(e.className+=" "+n)},t.removeClass=function(e,t,r){void 0===r&&(r="__cedato_");var n=a(o(t,r)),i=e.className.replace(n,"");e.className!=i&&(e.className=i)},t.toggleClass=function(e,t,r){if(void 0===r&&(r="__cedato_"),e){var n=e.className.split(" ");for(var i in t)if(t.hasOwnProperty(i)){var a=o(i,r);if(e.classList)t[i]?e.classList.add(a):e.classList.remove(a);else{var s=n.indexOf(a);t[i]&&-1==s?n.push(a):t[i]||-1==s||n.splice(s,1)}}e.classList||(e.className=n.join(" "))}}},function(e,t,r){"use strict";function n(e){try{if(e&&0===e.protocol.indexOf("file"))return!0;if(document&&document.location&&0===document.location.protocol.indexOf("file"))return!0;if(window.location&&0===window.location.protocol.indexOf("file"))return!0;if(location&&0===location.protocol.indexOf("file"))return!0}catch(e){return!0}return!1}function i(e,t){var r=[];for(var n in e)if(e.hasOwnProperty(n)&&void 0!==e[n]&&"function"!=typeof e[n]){var i=String(e[n]);n&&n.length&&i.length?r.push([n,s(i)].join("=")):n&&n.length?r.push(n+"="):i&&i.length&&r.push(i)}return t||r.push("cb="+(new Date).getTime().toFixed(0)),r.join("&")}function a(e){return e.split(".").pop().split(/\#|\?/)[0]}function o(e){try{e=decodeURIComponent(e)}catch(t){try{e=unescape(e)}catch(e){}}return e}function s(e){try{e=encodeURIComponent(e)}catch(t){try{e=escape(e)}catch(e){}}return e}function l(e,t,r){return t&&t.trim&&t.replace?(t=t.trim(),"https:"==e.toLowerCase()&&(t=t.replace(/^http:/i,"https:")),n(r)&&(t=t.replace(/^\/\//,e+"//")),t):t}Object.defineProperty(t,"__esModule",{value:!0}),t.ScriptPath=function(){try{throw new Error}catch(a){var e=a.stack.split("\n"),t=0;for(var r in e)if(e.hasOwnProperty(r)&&e[r].match(/http[s]?:\/\//)){t=Number(r)+1;break}var n=void 0;e[t+1]&&(n=e[t+1].match(/((http[s]?:\/\/.+\/)([^\/]+\.js).*?):\d+/)),n&&n[1]||(n=e[t].match(/((http[s]?:\/\/.+\/)([^\/]+\.js).*?):\d+/)),n&&n[1]||!e[t+1]||(n=e[t+1].match(/((http[s]?:\/\/.+\/)([^\/]+\.js).*?):/)),n&&n[1]||(n=e[t].match(/((http[s]?:\/\/.+\/)([^\/]+\.js).*?):/)),n&&n[1]||!e[t+1]||(n=e[t+1].match(/((\/\/.+\/)([^\/]+\.js).*?):\d+/)),n&&n[1]||(n=e[t].match(/((\/\/.+\/)([^\/]+\.js).*?):\d+/));var i="";return n[1]&&(i=n[1]),i&&":"===i.substr(i.length-1)&&(i=i.substring(0,i.length-1)),i}},t.getProtocol=function(e,t){if(null!=e)return e?"https:":"http:";try{var r=t||window.location||document.location;if(r&&"http:"==r.protocol)return"http:"}catch(e){}return"https:"},t.isFileProtocol=n,t.useCredentials=function(e){var t=e||location||window.location||document.location;return!(n(e)||t&&(-1!=t.host.indexOf("localhost")||-1!=t.host.indexOf("127.0.0.1")||t.port&&"80"!=t.port))},t.getDetectedUrl=function(){var e="";try{if(parent!==window){e=document.referrer;var t=window.location.ancestorOrigins;if(t){var r=t[t.length-1];r&&e.substring(0,r.length)!=r&&(e=r)}}else e=top.location.href}catch(e){}return e},t.getHost=function(e){try{var t=document.createElement("a");return t.href=e,t.host}catch(t){return e}},t.buildUrlParams=i,t.buildUrl=function(e,t){var r=i(t);return[e,-1==e.indexOf("?")&&r.length>0?"?":"",r].join("")},t.fileExtension=a,t.isStreamingUrl=function(e){var t=e.split("/")[0].toLowerCase(),r=!("rtsp:"!==t&&"rtp:"!==t);if(!r){var n=a(e);"m3u8"!==n&&"m3u"!==n&&"swf"!==n||(r=!0)}return r},t.getUrlVars=function(e,t){var r;r=t?{}:[];try{for(var n=e.slice(e.indexOf("?")+1).split("&"),i=0,a=n;i<a.length;i++){var s=a[i].split("=");t||r.push(s[0]);var l=s[1];t&&(l=o(l)),r[s[0]]||(r[s[0]]=l)}}catch(e){r={}}return r},t.decodeURISafe=o,t.encodeURISafe=s,t.changeProtocol=function(e,t){t.trim&&(t=t.trim());var r=t.split("//");return r.length>1?(r[0]=e,r.join("//")):null},t.upgradeProtocol=l,t.setProtocol=function(e,t){return t.indexOf("//")>0?l(e,t):e+(0==t.indexOf("//")?"":"//")+t},t.getVprUrl=function(e,t,r){var n;return n="c"==r?t.protocol+"//cdn1-m"+t.networkId+".algovid.tv":t.serverHost("mc"),-1!==e.indexOf("track.eyeviewads.com")&&(n=t.serverHost("m")),e.trim&&(e=e.trim()),n+"/vpr/"+encodeURIComponent(encodeURIComponent(e))+"/"+t.playerId+".jsv"}},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0});var i,a=r(1),o=r(0),s=r(4),l=r(14),d=r(12),u=r(18),c=r(9),p=r(2),h=7,A=15,f=!1,g=!1;!function(e){e[e.E_REQUEST=1]="E_REQUEST",e[e.E_LOADED=2]="E_LOADED",e[e.E_MIDS=3]="E_MIDS",e[e.E_END=4]="E_END",e[e.E_ADSTART=5]="E_ADSTART",e[e.E_ADSTART_WO_IMPRESSION=6]="E_ADSTART_WO_IMPRESSION",e[e.E_CLICK=7]="E_CLICK",e[e.E_VAST_ERROR=8]="E_VAST_ERROR",e[e.E_ACTUAL_REQUEST=9]="E_ACTUAL_REQUEST",e[e.E_START=10]="E_START",e[e.E_SERVED_AND_START=11]="E_SERVED_AND_START",e[e.E_CONTENT_CLICK=12]="E_CONTENT_CLICK",e[e.E_ADPLAYED=13]="E_ADPLAYED",e[e.E_SCHEDULED=14]="E_SCHEDULED",e[e.E_DETECTED=15]="E_DETECTED",e[e.E_PLAYER_ERROR=16]="E_PLAYER_ERROR",e[e.E_SUBMIT_DEBUG_LOG=17]="E_SUBMIT_DEBUG_LOG",e[e.E_CLIENT_EVENT=18]="E_CLIENT_EVENT",e[e.E_AD_SKIPPED=19]="E_AD_SKIPPED"}(i=t.CEDATO_EVENT||(t.CEDATO_EVENT={})),function(e){e[e.Video=0]="Video",e[e.FlashVpaid=1]="FlashVpaid",e[e.JsVpaid=3]="JsVpaid",e[e.ImaJs=4]="ImaJs",e[e.FlashJsVpaid=5]="FlashJsVpaid",e[e.Spotx=6]="Spotx"}(t.VastType||(t.VastType={}));var v=((n={})[i.E_REQUEST]={url:"/vpx/requesti"},n[i.E_LOADED]={url:"/vpx/loadedi"},n[i.E_MIDS]={url:"/vpx/midsi"},n[i.E_END]={url:"/vpx/endi",immediate:!0},n[i.E_ADSTART]={url:"/vpx/starti",immediate:!0},n[i.E_ADSTART_WO_IMPRESSION]={url:null,immediate:!0},n[i.E_CLICK]={url:"/vpx/click",immediate:!0},n[i.E_VAST_ERROR]={url:"/vpx/errori",immediate:!1},n[i.E_START]={url:"/ppx/starti"},n[i.E_SERVED_AND_START]={url:"/ppx/served_and_starti"},n[i.E_ADPLAYED]={url:"/ppx/adplayedi"},n[i.E_SCHEDULED]={url:null},n[i.E_DETECTED]={url:null},n[i.E_PLAYER_ERROR]={url:"/ppx/errori"},n[i.E_CONTENT_CLICK]={url:null},n[i.E_ACTUAL_REQUEST]={exclude:!0,server:"a",url:"/areq"},n[i.E_SUBMIT_DEBUG_LOG]={exclude:!0,url:"sdl"},n[i.E_CLIENT_EVENT]={exclude:!0,url:"/lpx/v1"},n),m=1e4;t.setEventThrottleTime=function(e){m=e};var y={subid:"sid",domain:"domain",domainDetected:"dd",widthDetected:"wd",heightDetected:"hd",sessionId:"se",playerVersion:"pv",timeFromStart:"s",flashSupport:"f",detect:"sa",vastId:"v",playerId:"p",demandId:"dmid",memUsed:"m",time:"t",time2:"t2",duration:"d",quartile:"qd",gpvTime:"gt",fpwReadyTime:"ft",domReadyTime:"dt",gpvM:"gm",roundNo:"r",gpvOrdNo:"gpvn",totalMemS:"tm",vastType:"y",actualVastType:"yy",state:"st",gpvAttempt:"ga",errorCode:"en",errorMessage:"em",mediaURL:"mu",logStartRequest:"ls",logLoadRequest:"lr",cedatoxPlayerId:"cxp",cedatoxVastId:"cxv",chosenVastId:"cv",parentPlayerId:"pp",retryTestGroup:"rtg",gpvCookie:"gpvck",cookie:"ck",eventCookie:"evck"},E=["playerId","vastId","demandId"],_=["cedatoxPlayerId","cedatoxVastId","chosenVastId","parentPlayerId"],T=["eventCookie","subid","domain","sessionId","playerVersion","domainDetected","gpvCookie","detect"],b=T.concat(["timeFromStart"]);function R(e,t,r){for(var n=0,i=e.length;n<i;n++)if(void 0!==t[e[n]]&&null!==t[e[n]])switch(e[n]){case"flashSupport":r[e[n]]=t[e[n]]?"1":"0";break;default:r[e[n]]=t[e[n]]}}function S(e,t,r,n){R(e,t,n),R(e,r,n)}function L(e){var t={};for(var r in e)e.hasOwnProperty(r)&&void 0!==y[r]&&"function"!=typeof y[r]&&(t[y[r]]=e[r]);return t}function D(e,t){for(var r in t)t.hasOwnProperty(r)&&null!=y[r]&&"function"!=typeof y[r]&&e.push([r,String(t[r])].join("="))}function P(e,t,r,n){if(t&&i[t]){var s=v[t];s&&s.url&&!s.exclude&&function(e,t,r,n,s){var p=r.url,A=r.immediate,f=r.server;try{var v=A,y=e||{},n=n||{},s=s||{},T=[];D(T,y),D(T,n),D(T,s),o.debugLog(e,"logEvent:"+i[t]+" "+p+"?"+T.join("&"),!1);var R=c.getFixedAgoTime(e.startTime),P=p.substring(p.lastIndexOf("/")+1),I={name:P,common:{},extra:{}};switch(S(b,y,{},I.common),I.common.timeFromStart=R,t){case i.E_REQUEST:S(E.concat(_),n,s,I.extra);break;case i.E_LOADED:S(["memUsed","time","vastType","actualVastType"].concat(E,_),n,s,I.extra),v=v||null!=n&&null!=n.chosenVastId;break;case i.E_MIDS:S(["duration","quartile"].concat(E,_),n,s,I.extra);break;case i.E_END:S(["duration"].concat(E,_),n,s,I.extra);break;case i.E_CLICK:S(E.concat(_),n,s,I.extra);break;case i.E_ADSTART:S(["time","roundNo","gpvOrdNo","vastType","actualVastType","retryTestGroup","cookie","widthDetected","heightDetected"].concat(E,_),n,s,I.extra);break;case i.E_ADSTART_WO_IMPRESSION:S(E.concat(_),n,s,I.extra);break;case i.E_VAST_ERROR:S(["errorCode","errorMessage","mediaURL","logStartRequest","logLoadRequest","time"].concat(E,_),n,s,I.extra);break;case i.E_START:case i.E_SERVED_AND_START:S(["playerId"],y,s,I.extra);break;case i.E_SCHEDULED:S(["playerId","fpwReadyTime","gpvTime","domReadyTime","gpvM","gpvAttempt"],y,s,I.extra),I.extra.time=R;break;case i.E_DETECTED:S(["playerId","widthDetected","heightDetected"],y,s,I.extra);break;case i.E_ADPLAYED:S(["playerId","gpvOrdNo"],y,s,I.extra),I.extra.time=R;break;case i.E_CONTENT_CLICK:S(["playerId"],y,s,I.extra);break;case i.E_PLAYER_ERROR:S(["playerId"],y,s,I.extra),S(["errorCode","errorMessage"],n,s,I.extra)}var O=p.substring(0,p.lastIndexOf("/")),w=e.serverHost(f||e.eventServer)+O;if("/ppx"==O)return void V(e,w,I);if("/vpx"!=O)return;var k=function(){return function e(t,r){if(r){var n=t.eventsQueue[r].events;if(n.length)if(1==n.length&&g)V(t,r,n[0]);else try{u.sendStringParams({url:[r,"/multiple-events"].join(""),params:function(e){for(var t={common:{},eventsList:[],eventsData:[]},r=0,n=e.length;r<n;r++){var i={},a=e[r];if(0==r)t.common=a.common;else for(var o in a.common)a.common.hasOwnProperty(o)&&a.common[o]!=t.common[o]&&(i[o]=a.common[o]);for(var o in a.extra)a.extra.hasOwnProperty(o)&&(i[o]=a.extra[o]);t.eventsList.push(a.name),t.eventsData.push(L(i))}for(var s=t.eventsList.join(","),l=[],r=0;r<t.eventsData.length;r++){var u=t.eventsData[r],c=[];for(var p in u)u.hasOwnProperty(p)&&c.push([p,u[p]].join(":"));l.push(c.join(","))}return d.assign({events:s,data:l.join("|")},L(t.common))}(n),usePost:t.multipleEventMethod==a.requestMethod.POST})}catch(e){}t.eventsQueue[r].events=[]}else for(var i in t.eventsQueue)t.eventsQueue.hasOwnProperty(i)&&e(t,i)}(e,w)};e.eventsQueue[w]?(e.eventsQueue[w].events.length>=h&&(e.eventsQueue[w].timer.cancel(),k()),e.eventsQueue[w].events.push(I)):e.eventsQueue[w]={timer:new l.default(m),events:[I]},1==e.eventsQueue[w].events.length&&e.eventsQueue[w].timer.start(k),v&&(e.eventsQueue[w].timer.trigger(),e.areqEntryCount>0&&C(e))}catch(e){}}(e,t,s,r,n),e.playerEvents&&e.playerEvents.emit(i[t],e,r,n)}}function V(e,t,r){try{var n=[t,"/",r.name,"?"].join(""),i=L(d.assign({},r.common,r.extra));t=s.buildUrl(n,i);e.sendPixel(t)}catch(e){}}function C(e){p.safeguard("flushActualRequests",{players:e},function(){var t={};S(T,e,{},t);var r=L(t),n=1,o=function(e,t){return r[e+n]=t},s=function(e){1!=e&&o("c",e),n++};for(var l in e.areqEventsQueue)if(e.areqEventsQueue.hasOwnProperty(l))if("number"==typeof e.areqEventsQueue[l]){var d=e.areqEventsQueue[l];d>0&&(o("dmid",l),s(d))}else{var c=e.areqEventsQueue[l];for(var p in c)if(c.hasOwnProperty(p)){var h=c[p];h>0&&(o("p",l),o("v",p),s(h))}}var A=v[i.E_ACTUAL_REQUEST];u.sendStringParams({url:e.serverHost(A.server)+A.url,params:r,usePost:e.areqMethod==a.requestMethod.POST}),clearTimeout(e.areqTimer),e.areqEntryCount=0,e.areqEventsQueue={}})}t.logEvent=P,t.logActualRequest=function(e,t,r,n){try{if(e.areqEntryCount>=A?C(e):0==e.areqEntryCount&&(e.areqTimer=setTimeout(function(){return C(e)},m)),n)null==e.areqEventsQueue[n]&&(e.areqEventsQueue[n]=0,e.areqEntryCount+=1),e.areqEventsQueue[n]+=1;else{var i=e.areqEventsQueue[t];null==i&&(i=e.areqEventsQueue[t]={}),null==i[r]&&(i[r]=0,e.areqEntryCount+=1),i[r]+=1}}catch(e){}},t.playerError=function(e,t,r,n){n&&(r+=o.errFullDetails(n)),e.serverEvents.supplyEvent({name:"SupplyError",errorCode:t,message:r}),P(e,i.E_PLAYER_ERROR,{errorCode:t,errorMessage:r},{}),o.debugLog(e,"errorCode "+t+" - "+r,!1),3!=t||e.keepDebugLog||e.debugLogSubmittedDueToException||!e.submitDebugLogOnPlayerError||o.submitFullDebugLog(e,{debugLogReason:"player error",dueToException:!0})};var I=["loadad"];t.clientEvent=function(e,t,r){if(void 0===r&&(r=1),f&&-1!=I.indexOf(t.category)&&!(Math.random()>r)){t.count=Math.round((t.count||1)/r);try{var n=v[i.E_CLIENT_EVENT],a={p:e.playerId.toFixed(),pv:e.playerVersion};e.appParams&&e.appParams.appn&&(a.appn=e.appParams.appn);var l=s.buildUrl(e.serverHost(n.server)+n.url,d.assign(a,t));e.sendPixel(l),o.debugLog(e,"client event:"+l,!0)}catch(e){}}}},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(8),a=r(12),o=r(40),s=r(16),l=r(19),d=r(42),u=r(3),c=r(0),p=r(48),h=r(87),A=r(11),f=r(10),g=r(13),v=r(26),m=r(33),y=r(44);function E(e,t){t.isPaused=!0,c.debugLog(e,"pause - got playing playerData, vastId: "+t.vastId,!1);try{t.playedAt=null,t.pauseAd(),t.skipTimer.cancel()}catch(r){c.debugLog(e," pause gave exception on "+t.adType+" pause: "+r.message)}}function _(e){return e instanceof v.PlayerData?e.vastId:e}function T(e,t,r,n){var i=_(n),a=g.getPlayingPlayerData(e);if(c.debugLog(e,t+" player requested by "+i,!1),r)return c.debugLog(e,"redundant "+t+" player ignored, requested by "+i,!1),{allowed:!1,playerData:a};if(n instanceof v.PlayerData&&n!==a)return c.debugLog(e,t+" player canceled - not playing ad, requested by "+i,!1),{allowed:!1,playerData:a};if("content"==n&&a)return c.debugLog(e,t+" player canceled - playing ad, requested by "+i,!1),{allowed:!1,playerData:a};var o=a?"playing "+a.vastId:"no playing ad";return c.debugLog(e,t+" player allowed - "+o+", caller: "+i,!1),{allowed:!0,playerData:a}}function b(e,t){var r=T(e,"pause",e.paused,t),n=r.playerData;r.allowed&&(e.interactive||!("content"==t||t instanceof v.PlayerData)?(e.autoplay=!1,e.paused=!0,n?(n.isPaused=!0,t!==n&&E(e,n),n.flowTimeout.pause(),x(e,n,"adpause")):"content"!==t&&e.content instanceof l.ContentElement&&e.content.isVisible()&&e.content.pauseContent(),setTimeout(function(){x(e,null,"player.paused")},0),e.beingVpaid&&s.callingVpaidEvent(e,"jsAdPaused",{})):c.debugLog(e,"pause player canceled - not interactive, requested by "+_(t),!1))}function R(e,t,r,n){var i=T(e,"resume",e.started&&!e.paused&&e.autoplay,t),a=i.playerData;if(i.allowed){if(e.paused=!1,e.autoplay=!n&&!e.playingVastId,e.started){if(a){if(e.content&&e.content.hide(),e.allowLongImpressions||a.flowTimeout.resume(),a.isPaused=!1,t!=a)try{a.resumeAd(),a.playedAt=Date.now(),g.initSkipTimer(e,a)}catch(t){c.debugLog(e,"resume played gave exception on "+a.adType+" resume: "+t.message)}x(e,a,"adplay")}else"content"!=t&&e.content&&e.content.start(),n?A.playAd(e,n,r):A.playNext(e,r);x(e,null,"player.resumed")}else m.startPlayer(e,r,n);e.beingVpaid&&s.callingVpaidEvent(e,"jsAdPlaying",{})}}function S(e){var t=g.getPlayingPlayerData(e);return e.autoplay=!1,f.freezePlayers(e,t,!1)}function L(e,t){return void 0===t&&(t=!0),c.debugLog(e,"resume ads",!1),e.maxAdStarts&&e.curAdStarts>=e.maxAdStarts?(c.debugLog(e,"resume ads rejected - reached reached maximum number of allowed ad starts",!1),!1):(e.chilled=!1,e.clickToPlay=!1,e.frozen&&(e.autoplay=t&&!e.paused,e.frozen=!1,e.playingVastId=null,p.queryVastsFromServer(e)),!0)}function D(e,t,r,n){if((e.width!=r||e.height!=n)&&e.rootDivElem){var i=!1;if(void 0===r&&void 0===n){var a=m.getSizeDetected(e);if(!a)return;r=a.width,n=a.height}else i=!0,r=Number(r),n=Number(n);if(r>=0&&n>=0){e.width=r,e.height=n,i&&(e.widthOverwrite=r,e.heightOverwrite=n,e.rootDivElem.style.width=r+"px",e.rootDivElem.style.height=n+"px");for(var o=0,s=e.plist;o<s.length;o++){var l=s[o];try{l.resizeAd&&l.resizeAd(r,n,t)}catch(t){c.debugLog(e," resizeAd gave exception on "+l.adType+" resize: "+t.message)}}}}}function P(e,t,r,n,i){void 0===t&&(t=e.volume),void 0===i&&(i=!1);var a=null!=r?r:0==t;if(C(e,t,a,n,i),!(e.volume==t&&e.muted==a||e.muted&&a)){t>0&&(e.dynamicSound=!0),a&&null==r||(e.volume=t),e.muted=a,e.content instanceof l.ContentElement&&e.content.setVolume(e.volume,e.muted,i);for(var o=0,u=e.plist;o<u.length;o++){var p=u[o];try{p.syncVolume(i)}catch(t){c.debugLog(e," syncVolume gave exception on "+p.adType+" syncVolume: "+t.message)}}e.beingVpaid&&s.callingVpaidEvent(e,"jsAdVolumeChange",{}),d.updateControlBar(e,!0)}}function V(e,t,r){if(!e.closed){e.serverEvents.supplyEvent({name:"SupplyClosed",reason:r}),x(e,null,"closed",{preserveDiv:t,reason:r}),e.closed=!0,f.freezePlayers(e),w(e),e.controls&&e.controls.destroy();var n=t?e.divElem:e.rootDivElem;n&&n.parentNode&&n.parentNode.removeChild(n)}}function C(e,t,r,n,i){var a=g.getPlayingPlayerData(e);a&&n!=a&&a.setAdVolume(t,r,i)}function I(e,t){void 0===t&&(t=!0);var r=g.getPlayingPlayerData(e);t&&(c.debugLog(e,"hard skip enabled, skip all ads",!1),f.freezePlayers(e,r,!1)),r&&r.skipAd()}function O(e){var t=g.getPlayingPlayerData(e);if(t){(!t.skippableLastCheck||Date.now()-t.skippableLastCheck>=1e3)&&(t.skippableLastCheck=Date.now(),t.skippableChecked=t.getAdSkippableState());var r=e.contentDefinition.video.controlBar&&!e.controlBar;return n({content:!1,paused:e.paused},t.getProgress(),{controlBar:!r&&t.showControlBar(),skippable:t.skippableChecked,volume:e.volume,muted:null!=t.muted?t.muted:e.muted,requestedMuted:!e.muted&&!0===t.muted})}return e.content instanceof l.ContentElement?n({content:!0,paused:e.paused},e.content.getProgress(),{controlBar:e.controlBar||e.contentDefinition.video.controlBar,skippable:!1,volume:e.volume,muted:e.muted,requestedMuted:e.muted}):null}function w(e){e.scheduleEnabled()&&(c.debugLog(e,"cancel player schedule"),e.preRollTimer.cancel(),e.midRollTimer.cancel())}function k(e){return!e.scheduleEnabled()||(w(e),c.debugLog(e,"resetting player schedule"),e.autoScheduleReset&&(e.curAdStarts=0,e.content instanceof l.ContentElement&&(e.content.paused=e.schedule&&!!e.schedule.content)),e.clickToPlay=!1,m.startSchedule(e),f.freezePlayers(e,null,!1),e.schedule&&e.schedule.content&&L(e),!1)}function x(e,t,r,n){var i={playerId:e.playerId,subid:e.subid};t&&(i.vastId=t.cxvid||t.vastId,a.assignWhen(a.NotNull,i,t.customVars)),a.assignWhen(a.NotNull,i,n),t&&t.moat&&h.dispatchMoatEvent(e,t,r),d.updateControlBar(e);try{e.apiInterface.trigger(r,i)}catch(e){}}t.pausePlayer=E,t.pausePlayingPlayer=b,t.resumePlayingPlayer=R,t.playPlayingPlayer=function(e){x(e,null,"adplay"),e.paused=!1,c.debugLog(e,"play callback called",!1),A.playNext(e,!0),e.anyPlaying||(e.autoplay=!0)},t.playerPauseAds=S,t.playerResumeAds=L,t.resizePlayer=D,t.setPlayerVolume=P,t.collapsePlayer=V,t.setPlayingAdVolume=C,t.skipPlayerData=I,t.getProgress=O,t.playerResetSchedule=k,t.setupAPI=function(e,t){var r={_pause:function(){b(e,"api")},_play:function(t){R(e,"api",t.data&&t.data.userInteraction,t.data&&t.data.vastId)},_overrideInit:function(t){var r=t.data;if(!1===e.gpvConfLoaded)for(var n in r)r.hasOwnProperty(n)&&e.initOverrides.push({name:n,value:r[n]});else void 0!==r.allowSound&&e.allowSound!=r.allowSound&&P(e,r.allowSound?1:0,!r.allowSound),void 0!==r.contentUrl&&l._setContentUrls(e,r.contentUrl),void 0!==r.contentImage&&l._setContentImage(e,r.contentImage,r.contentImagePosition||"")},_setContentUrls:function(t){!1===e.gpvConfLoaded?e.initOverrides.push({name:"contentUrl",value:t.data.urls}):l._setContentUrls(e,t.data.urls,t.data.samePosition)},_setContentVariant:function(t){!0===e.gpvConfLoaded&&l._setContentVariant(e,t.data)},_setContentImage:function(t){!1===e.gpvConfLoaded?(e.initOverrides.push({name:"contentImage",value:t.data.url}),e.initOverrides.push({name:"contentImagePosition",value:t.data.pos})):l._setContentImage(e,t.data.url,t.data.pos)},_seekContent:function(t){!0===e.gpvConfLoaded&&l._seekContent(e,t.data)},_setContent:function(t){!1===e.gpvConfLoaded?e.initOverrides.push({name:"content",value:t.data}):l._setContent(e,t.data)},_setExtContent:function(t){!1===e.gpvConfLoaded?e.initOverrides.push({name:"contentExternal",value:t.data}):function(e,t){e.content&&l._setExtContent(e,t)}(e,t.data)},_setUIControls:function(t){e.initOverrides.push({name:"uiControls",value:t.data})},_setPausable:function(t){e.initOverrides.push({name:"pausable",value:t.data})},_sound:function(t){if(!1===e.gpvConfLoaded)e.initOverrides.push({name:"sound",value:t.data});else{var r=t.data;if(!r)return;var n=p.extractVolumeValue(r.value);null!=n&&(void 0===n.volume&&!1===n.muted&&(n.volume=e.volume||1),P(e,n.volume,n.muted,null,r.userInteraction))}},_resize:function(t){D(e,"normal",t.data.width,t.data.height)},_skip:function(){I(e)},_close:function(t){V(e,t.data.preserveDiv,t.data.reason)},_pauseads:function(){w(e),S(e)},_resumeads:function(t){k(e)&&L(e,t.data.autoplay)},_resetSchedule:function(){k(e)},_show:function(){u.removeClass(e.rootDivElem,"hidden")},_hide:function(){u.assignClass(e.rootDivElem,"hidden")}};for(var n in e.apiInterface=t.registerPlayer(e.rootDivElem.id,new o.PlayerInterfaceImpl(e.playerVersion)),e.apiInterface.getProgress=function(){return O(e)},e.apiInterface.CJSX=y.CBJSX,e.initOverrides=[],r)r.hasOwnProperty(n)&&e.apiInterface.on(n,r[n]);if("function"==typeof e.apiInterface.init)try{var a=e.apiInterface.init(e.rootDivElem.id,{playerEvents:e.playerEvents,serverEvents:e.serverEvents.emitter});if(a&&"function"==typeof a.then)return a}catch(t){c.debugLog(e,"Init API gave exception: "+t.message,!1)}return i.Promise.resolve()},t.notifyApi=x},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i,a,o,s=r(18),l=r(4),d=r(0),u=r(17),c=r(1),p=r(13),h=r(32),A=r(9),f=r(45),g=r(5),v=r(2);!function(e){e[e.VIDEO_ONLY=0]="VIDEO_ONLY",e[e.VPAID_FLV_DEFAULT=1]="VPAID_FLV_DEFAULT",e[e.VPAID_JS_DEFAULT=2]="VPAID_JS_DEFAULT",e[e.VPAID_FLV_ONLY=3]="VPAID_FLV_ONLY",e[e.VPAID_JS_ONLY=4]="VPAID_JS_ONLY"}(n=t.vastPreferType||(t.vastPreferType={})),function(e){e[e.AD_START=1]="AD_START",e[e.AD_REQUEST=2]="AD_REQUEST"}(i=t.CAP_TYPE||(t.CAP_TYPE={})),function(e){e[e.JS_EXCEPTION=3]="JS_EXCEPTION",e[e.GENERAL_ERROR=10]="GENERAL_ERROR",e[e.EMPTY_RESPONSE=20]="EMPTY_RESPONSE",e[e.VAST_NO_AD=21]="VAST_NO_AD",e[e.NO_SUITABLE_MEDIA=22]="NO_SUITABLE_MEDIA",e[e.NO_VALID_CREATIVES=23]="NO_VALID_CREATIVES",e[e.FLASH_ONLY_NOT_SUPPORTED=24]="FLASH_ONLY_NOT_SUPPORTED",e[e.VAST_DMVAST_ERROR=25]="VAST_DMVAST_ERROR",e[e.AD_LOADED_ERROR=30]="AD_LOADED_ERROR",e[e.AD_LOADED_TIMEOUT_ERROR=31]="AD_LOADED_TIMEOUT_ERROR",e[e.AD_LOADED_JS_ERROR=32]="AD_LOADED_JS_ERROR",e[e.AD_STARTED_ERROR=40]="AD_STARTED_ERROR",e[e.AD_STARTED_TIMEOUT_ERROR=41]="AD_STARTED_TIMEOUT_ERROR",e[e.AD_STARTED_JS_ERROR=42]="AD_STARTED_JS_ERROR",e[e.LONG_IMPRESSION=60]="LONG_IMPRESSION",e[e.IMPRESSION_ON_PAUSED=61]="IMPRESSION_ON_PAUSED",e[e.PARALLEL_STARTED=70]="PARALLEL_STARTED",e[e.DOUBLE_PARALLEL_STARTED=71]="DOUBLE_PARALLEL_STARTED",e[e.XHR_GENERAL_ERROR=90]="XHR_GENERAL_ERROR",e[e.NO_AVAILABLE_XHR=91]="NO_AVAILABLE_XHR",e[e.CORS_WITH_CREDENTIALS=92]="CORS_WITH_CREDENTIALS",e[e.CORS_WITHOUT_CREDENTIALS=93]="CORS_WITHOUT_CREDENTIALS",e[e.XHR_STATUS=94]="XHR_STATUS",e[e.XHR_OPEN_ERROR=95]="XHR_OPEN_ERROR",e[e.XHR_SEND_ERROR=96]="XHR_SEND_ERROR",e[e.XHR_TIMEOUT=97]="XHR_TIMEOUT",e[e.XHR_JS_EXCEPTION=98]="XHR_JS_EXCEPTION",e[e.GAVE_UP_ON_FETCH_VAST=99]="GAVE_UP_ON_FETCH_VAST",e[e.VPAIDJS_LOAD=100]="VPAIDJS_LOAD",e[e.UNREQUESTED_START=110]="UNREQUESTED_START",e[e.IMA_REQUEST_ADS_ERROR=200]="IMA_REQUEST_ADS_ERROR",e[e.IMA_REQUEST_ADS_TIMEOUT=201]="IMA_REQUEST_ADS_TIMEOUT"}(a=t.VAST_ERROR||(t.VAST_ERROR={})),function(e){e[e.VPAID_UNKNOWN_ERROR=1]="VPAID_UNKNOWN_ERROR",e[e.VPAID_TIMEOUT=2]="VPAID_TIMEOUT",e[e.VPAID_EMPTY_VAST=3]="VPAID_EMPTY_VAST",e[e.VPAID_EMPTY_BLOCKED_DOMAIN=4]="VPAID_EMPTY_BLOCKED_DOMAIN",e[e.VPAID_NO_AVAILABLE_ADS=5]="VPAID_NO_AVAILABLE_ADS",e[e.VPAID_VAST_ERROR=6]="VPAID_VAST_ERROR",e[e.VPAID_SECURITY_ERROR=7]="VPAID_SECURITY_ERROR",e[e.VPAID_STREAM_ERROR=8]="VPAID_STREAM_ERROR",e[e.VPAID_START_TIMEOUTED=9]="VPAID_START_TIMEOUTED",e[e.VPAID_INTERNAL_VPAID_ERROR=10]="VPAID_INTERNAL_VPAID_ERROR",e[e.VPAID_IMA_NON_LINEAR=11]="VPAID_IMA_NON_LINEAR",e[e.VPAID_VOLUME_VIOLATION=12]="VPAID_VOLUME_VIOLATION",e[e.VPAID_INNER_VPW_EXCEPTION=13]="VPAID_INNER_VPW_EXCEPTION"}(t.VpaidError||(t.VpaidError={})),function(e){e[e.FIRST=1]="FIRST",e[e.MIDPOINT=2]="MIDPOINT",e[e.THIRD=3]="THIRD",e[e.COMPLETE=4]="COMPLETE"}(o=t.Quartiles||(t.Quartiles={})),function(e){e[e.ACTIVE=1]="ACTIVE",e[e.FROZEN=2]="FROZEN",e[e.DEACTIVATED=3]="DEACTIVATED"}(t.VastState||(t.VastState={})),t.QUARTILE_NAMES=[null,"firstQuartile","midpoint","thirdQuartile","complete"],t.verifyPlayerProgress=function e(r,n,i){if(n&&i&&i.vastTracker.quartiles){var a=i.vastTracker.quartiles,s=t.QUARTILE_NAMES[r],l=a[s];if(r==o.COMPLETE&&(l=i.vastTracker.assetDuration),l){for(var u in a)u&&a.hasOwnProperty(u)&&(!i.vastTracker.progress||i.vastTracker.progress<a[u])&&a[u]<l&&e(Object.keys(a).indexOf(u)+1,n,i);!i.vastTracker.progress||i.vastTracker.progress<=l?(d.debugLogVast(n,i,"advancing progress accordingly",!1),i.vastTracker.setProgress(l)):d.debugLogVast(n,i,"progress is in the right place",!1)}else d.debugLogVast(n,i,"unknown vast tracker quarter - "+s,!1)}},t.sendVastError=function(e,t,r){if(r.code!=a.JS_EXCEPTION){var n=t.getErrorEvent(r);n&&(n.timed?e.serverEvents.demandTimedEvent(t,n.event):e.serverEvents.demandEvent(t,n.event))}},t.vastError=function(e,t,r,n,i,o,s,l,p){if(e){if("function"==typeof e.vastError)return e.vastError(t,r,n,i,o,s,l,p);if(r!=a.CORS_WITH_CREDENTIALS){var h,A="";if(void 0!==o&&o){if(r!=a.JS_EXCEPTION&&o.vastErrorWasReported)return;h=o.mediaURL,h="",A=(o.state>=c.PlayerDataState.Started?((new Date).getTime()-o.startAdTime)/1e3:((new Date).getTime()-o.loadAdTime)/1e3).toFixed(1)}else h="";void 0===s&&(s=!1),void 0===l&&(l=!1),void 0===p&&(p="vast error"),i&&(n+=d.errFullDetails(i));var f={errorCode:r,errorMessage:n,mediaURL:h};s&&!o.logStartWasDone&&(f.logStartRequest=1,o.logStartWasDone=!0),l&&!o.logLoadWasDone&&(f.logLoadRequest=1,o.logLoadWasDone=!0),""!=A&&(f.time=A),o.vastErrorWasReported=!0,u.logVastEvent(e,g.CEDATO_EVENT.E_VAST_ERROR,o,f),d.debugLogVast(e,o,"errorCode "+r+" - "+n,!1),r!=a.JS_EXCEPTION||e.keepDebugLog||e.debugLogSubmittedDueToException||!e.submitDebugLogOnVastError||d.submitFullDebugLog(e,{debugLogReason:p,dueToException:!0})}}};var m=document.createElement("video");function y(e){try{var t=e.split("/"),r=t[0],n=t[1];switch(r){case"video":return["video",n];case"application":if(-1!=n.indexOf("javascript"))return["jsvpaid"];if(-1!=n.indexOf("shockwave-flash"))return["flvpaid"];default:return[null]}}catch(e){return[null]}}function E(e){for(var t=!1,r=e.documentElement.childNodes,n=0,i=r.length;n<i;n++)"Ad"===r[n].nodeName&&(t=!0);return t?null:{reason:c.TerminateReason.VAST_NO_AD,code:a.VAST_NO_AD,message:"no <Ad> element"}}function _(e,t,r){for(var i,o=null,s=null,l=["",""],u=l[0],p=l[1],h="",A="",f=!1,g=0,m=r.creatives;g<m.length;g++){var E=m[g];if(d.debugLogVast(e,t,"got creative",!0),d.debugLog(e,E,!0),"linear"==E.type){var _=E;d.debugLogVast(e,t,"creative is linear with "+_.mediaFiles.length+" medias",!0);for(var S=0,L=_.mediaFiles;S<L.length;S++){var D=L[S];d.debugLogVast(e,t,"got media",!0),d.debugLog(e,D,!0),d.debugLogVast(e,t,"got media - mimeType: "+D.mimeType,!1),A+=D.mimeType+",";var P=y(D.mimeType),V=P[0],C=P[1];switch(V){case"video":if(!T(e,t,D,C))continue;break;case"jsvpaid":t.hasJSVPAID=!0;break;case"flvpaid":t.hasFlashVPAID=!0,f=!0,d.debugLogVast(e,t,"flash mimetype but no flash support",!0);continue;default:d.debugLogVast(e,t,"not a valid mimeType: "+D.mimeType,!0);continue}if(t.vastPreferType!=n.VIDEO_ONLY||"video"==V)if(t.vastPreferType!=n.VPAID_FLV_ONLY||"jsvpaid"!=V){if("video"==V){if("video"==u&&!b(e,t,s,p,D,C))continue}else if("video"==u){d.debugLogVast(e,t,"prefer video over flash/js",!0);continue}u=(i=[V,_,D,C])[0],o=i[1],s=i[2],p=i[3]}else d.debugLogVast(e,t,"only flash allowed",!0);else d.debugLogVast(e,t,"only video vast allowed",!1)}}else"companion"==E.type&&(h=R(e,E,h))}return s?v.safeguard("chooseAdCreative",{players:e,playerData:t,log:!0},function(){d.debugLog(e,r,!0),d.debugLog(e,o,!0),d.debugLog(e,s,!0),t.adParameters=o.adParameters,r.impressionURLTemplates&&(1!=r.impressionURLTemplates.length||r.impressionURLTemplates[0])||(r.impressionURLTemplates=[]),t.ad=r,t.creative=o,t.adType="jsvpaid"==u?"jsvpaid":"video",d.debugLogVast(e,t,"chosen ad type is "+t.adType,!1),t.mediaURL=s.fileURL,t.mediaURL.trim&&(t.mediaURL=t.mediaURL.trim()),t.companionHTML=h,t.state=c.PlayerDataState.Fetched},function(){return{reason:c.TerminateReason.JS_EXCEPTION,code:a.JS_EXCEPTION,message:"js exception"}}):(e.DMVAST.util.track(r.errorURLTemplates,{ERRORCODE:403}),f?{reason:c.TerminateReason.ONLY_FLASH_BUT_NOT_SUPPORTED,code:a.FLASH_ONLY_NOT_SUPPORTED,message:"only flash available, but is not supported"}:(d.debugLog(e,"no suitable media: "+A,!1),{reason:c.TerminateReason.NO_SUITABLE_MEDIA,code:a.NO_SUITABLE_MEDIA,message:"no suitable media"}))}function T(e,t,r,n){if(e.usejsv){if(["webm","mp4","wmv","flv"].indexOf(n)<0)return d.debugLogVast(e,t,"unsupported jsv video mimeType: "+r.mimeType,!0),!1;if(r.deliveryType&&"streaming"==r.deliveryType||l.isStreamingUrl(r.fileURL)||r.fileURL.length<8)return d.debugLogVast(e,t,"dont allow streaming",!0),!1}else try{if(!e.hasVideoSupport)return d.debugLogVast(e,t,"no video support for mimeType: "+r.mimeType,!1),!1;if(!m.canPlayType(r.mimeType))return d.debugLogVast(e,t,"unsupported mimeType: "+r.mimeType,!0),!1}catch(e){}return!0}function b(e,t,r,n,i,a){var o=!0;if(i.bitrate&&r.bitrate){if(o=!1,r.bitrate&&i.bitrate>r.bitrate)return d.debugLogVast(e,t,"bitrate is higher than chosen: "+i.bitrate,!0),!1;i.bitrate==r.bitrate?o=!0:d.debugLogVast(e,t,"choosing bitrate "+i.bitrate+" over previously chosen bitrate "+r.bitrate,!0)}else if(r.width&&i.width){o=!1;var s=r.width*r.height,l=i.width*i.height;if(s&&l>s)return d.debugLogVast(e,t,"size is higher than chosen: "+l,!0),!1;l==s?o=!0:d.debugLogVast(e,t,"choosing size "+l+" over previously chosen size "+s,!0)}if(o&&n){if("mp4"==n||"webm"==n||"mp4"==a&&("ogg"==n||"3gp"==n))return d.debugLogVast(e,t,"same speed but already chosen preferred "+n+" over "+a,!0),!1;d.debugLogVast(e,t,"choosing video "+a+" over previously chosen "+n,!0)}return!0}function R(e,t,r){for(var n=0,i=t.variations;n<i.length;n++){var a=i[n];a.width==e.width&&a.height==e.height&&("image/jpeg"==a.type||(r=a.htmlResource))}return r}function S(e,t,r){return!(!e.frozen&&(!e.chilled||t&&t.isUnlocked()))&&(d.debugLog(e,"player chilled/frozen on "+r,!1),!0)}function L(e,t){if(!S(e,t,"FetchVast")){t.loadAdTime=Date.now(),t.state=c.PlayerDataState.Fetching,t.retryCount++,t.totalRoundNo++,e.totalVastRetries++;var r=0;if(t.maxFailedVastRetries>0&&(r=t.maxFailedVastRetries),e.maxFailedVastRetries>0&&(0==r||e.maxFailedVastRetries<r)&&(r=e.maxFailedVastRetries),r>0&&t.retryCount>r||e.maxTotalVastRetries>0&&e.totalVastRetries>e.maxTotalVastRetries){if(!t.lastChanceRetry)return d.debugLogVast(e,t,"crossed number of allowed retries: "+r,!1),void p.destroyPlayerData(e,t,!0);d.debugLogVast(e,t,"additional last retry granted after: "+r,!1)}t.lastChanceRetry=!1;var n=h.macros(e,t)(t.vastURL);-1===n.indexOf("spotx://")?(d.debugLogVast(e,t,"fetchPlayerVast, url: "+n+" ("+t.vastURL+")",!1),t.ad=null,t.creative=null,t.mediaURL="",t.adType=null,t.firedEvents={},t.vastTracker=null,t.skipVastTracker=!1,t.hasFlashVPAID=!1,t.hasJSVPAID=!1,function(e,t,r){(null!=t.useIMA?t.useIMA:f.PlayerDataGoogleIMA.isGoogleIMA(r))&&(d.debugLogVast(e,t,"IMA - use JS SDK",!1),t.vastURL=r,t.mediaURL=r,t.adType="jsima")}(e,t,n),D(t),t.fetchAdUrl(n)):d.debugLogVast(e,t,"is Spotx SDK - no longer support",!1)}}function D(e){var t=p.adTypesProto[e.adType||"vast"];p.setPrototype(e,t)}function P(e,t,r,n){var i=null;switch(r.code){case s.HttpError.NO_XHR_SUPPORT:i={reason:c.TerminateReason.HTTP_ERROR_TERMINATE,code:a.NO_AVAILABLE_XHR,message:"no supported xhr object"};break;case s.HttpError.OPEN:i={reason:c.TerminateReason.HTTP_ERROR_REQUERY,code:a.XHR_OPEN_ERROR,message:"xhr error on open"};break;case s.HttpError.SEND:i={reason:c.TerminateReason.HTTP_ERROR_REQUERY,code:a.XHR_SEND_ERROR,message:"xhr error on send"};break;case s.HttpError.CORS:var o=void 0;n.withCredentials?(t.withCredentials=!1,t.lastChanceRetry=!0,o="disabling withCredentials mode",i={reason:c.TerminateReason.HTTP_ERROR_REQUERY,code:a.CORS_WITH_CREDENTIALS,message:"xhr cross origin exception"}):(o="stopping requery",i={reason:c.TerminateReason.HTTP_ERROR_TERMINATE,code:a.CORS_WITHOUT_CREDENTIALS,message:"xhr cross origin exception"}),d.debugLogVast(e,t,"xhr cross origin exception, credentials: "+n.withCredentials+" - "+o,!1);break;case s.HttpError.STATUS:i={reason:c.TerminateReason.HTTP_ERROR_TERMINATE,code:a.XHR_STATUS,message:"xhr status error"};break;case s.HttpError.TIMEOUT:i={reason:c.TerminateReason.HTTP_ERROR_REQUERY,code:a.XHR_TIMEOUT,message:"xhr timeout error"};break;default:case s.HttpError.UNKNOWN:i={reason:c.TerminateReason.HTTP_ERROR_REQUERY,code:a.XHR_JS_EXCEPTION,message:"xhr js exection"}}return i}t.handleVastRequest=function(e,t,r,n){return r?r.fromUrlHandler?P(e,t,r,n):{reason:c.TerminateReason.VAST_DMVAST_ERROR,code:a.VAST_DMVAST_ERROR,message:r.message}:E(t.vastResponseXML)},t.checkResponseXml=E,t.vastProcessResponse=function(e,t,r){if(!r||!r.ads||!r.ads.length)return{reason:c.TerminateReason.EMPTY_RESPONSE,code:a.EMPTY_RESPONSE,message:"empty response"};var n=r.ads[0];return d.debugLogVast(e,t,"got ad",!1),d.debugLog(e,n,!0),n.creatives&&n.creatives.length?v.safeguard("chooseAdCreative",{players:e,playerData:t},function(){return _(e,t,n)},function(){return{reason:c.TerminateReason.JS_EXCEPTION,code:a.JS_EXCEPTION,message:"js exception"}}):{reason:c.TerminateReason.NO_VALID_CREATIVES,code:a.NO_VALID_CREATIVES,message:"no valid creatives"}},t.chooseAdCreative=_,t.allocateAndFetchPlayerVast=function(e,t){var r=null,n=t.quotaExpirationTime&&(new Date).getTime()>t.quotaExpirationTime;if(null!=t.allocatedQuotaImp&&(t.allocatedQuotaImp<=0||n)?r=i.AD_START:null!=t.allocatedQuotaReq&&(t.allocatedQuotaReq<=0||n)&&(r=i.AD_REQUEST),n||null!=r){var a=l.buildUrl(e.serverHost()+"/get_vast_allocation?",{v:t.vastId,capt:r}),o=function(n){if(null!=n&&A.isNumeric(n)&&n>0){switch(d.debugLogVast(e,t,"received "+n+" quota from server.",!1),t.quotaExpirationTime=null!=t.quotaExpirationSec?(new Date).getTime()+1e3*t.quotaExpirationSec:null,r){case i.AD_REQUEST:t.allocatedQuotaReq=+n;break;case i.AD_START:t.allocatedQuotaImp=+n}L(e,t)}else d.debugLogVast(e,t,"did not receive a positive integer as the quota. Removing from list.",!1),p.destroyPlayerData(e,t,!0)};s.requestWithAjax({url:a}).then(function(e){return o(e.responseText)}).catch(function(){return o()})}else L(e,t)},t.isCold=S,t.fetchPlayerVast=L,t.setPlayerDataClass=D,t.preprocessVastUrl=function(e,t,r){var n=null,i=r.match(/^data:(.*?)(;base64)?,(.*)$/);if(i)try{var a=";base64"==i[2]?atob(i[3]):decodeURIComponent(i[3]);t.vastResponseXML=s.parseTextToXML(a)}catch(e){n="Inline VAST failed: "+e.message}else-1!==r.indexOf("noad.xml")?n="No Ads expected":(r=l.upgradeProtocol(e.protocol,r))||(n="Invalid VAST url");return{error:n,vastUrl:r}},t.handleVastRequestError=P,t.addToPlaylistAndFetch=function(e,t){if(t.length>0)for(var r=0,n=t;r<n.length;r++)0==(l=n[r]).group&&d.debugLog(e,"premium vast found, vastId: "+l.vastId,!1),e.plist.push(l);d.debugLog(e,"initiating fetch player vasts",!1),e.fetchTime=Date.now();for(var i=0,a=function(t){if(t.state==c.PlayerDataState.None&&(t.adContainersReady||p.prepareAdContainers(e,t),!e.frozen)){var r=(e.debug.delayRequest||0)+(t.delay.Request||0)+50*i++;setTimeout(function(){L(e,t)},r)}},o=0,s=e.plist;o<s.length;o++){var l;a(l=s[o])}}},function(e,t,r){(function(t,r){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.4+314e4831
 */
!function(t,r){e.exports=r()}(0,function(){"use strict";function e(e){return"function"==typeof e}var n=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=0,a=void 0,o=void 0,s=function(e,t){A[i]=e,A[i+1]=t,2===(i+=2)&&(o?o(f):g())};var l="undefined"!=typeof window?window:void 0,d=l||{},u=d.MutationObserver||d.WebKitMutationObserver,c="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),p="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){var e=setTimeout;return function(){return e(f,1)}}var A=new Array(1e3);function f(){for(var e=0;e<i;e+=2){(0,A[e])(A[e+1]),A[e]=void 0,A[e+1]=void 0}i=0}var g=void 0;function v(e,t){var r=this,n=new this.constructor(E);void 0===n[y]&&x(n);var i=r._state;if(i){var a=arguments[i-1];s(function(){return w(i,n,a,r._result)})}else I(r,n,e,t);return n}function m(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(E);return D(t,e),t}g=c?function(){return t.nextTick(f)}:u?function(){var e=0,t=new u(f),r=document.createTextNode("");return t.observe(r,{characterData:!0}),function(){r.data=e=++e%2}}():p?function(){var e=new MessageChannel;return e.port1.onmessage=f,function(){return e.port2.postMessage(0)}}():void 0===l?function(){try{var e=Function("return this")().require("vertx");return void 0!==(a=e.runOnLoop||e.runOnContext)?function(){a(f)}:h()}catch(e){return h()}}():h();var y=Math.random().toString(36).substring(2);function E(){}var _=void 0,T=1,b=2,R={error:null};function S(e){try{return e.then}catch(e){return R.error=e,R}}function L(t,r,n){r.constructor===t.constructor&&n===v&&r.constructor.resolve===m?function(e,t){t._state===T?V(e,t._result):t._state===b?C(e,t._result):I(t,void 0,function(t){return D(e,t)},function(t){return C(e,t)})}(t,r):n===R?(C(t,R.error),R.error=null):void 0===n?V(t,r):e(n)?function(e,t,r){s(function(e){var n=!1,i=function(e,t,r,n){try{e.call(t,r,n)}catch(e){return e}}(r,t,function(r){n||(n=!0,t!==r?D(e,r):V(e,r))},function(t){n||(n=!0,C(e,t))},e._label);!n&&i&&(n=!0,C(e,i))},e)}(t,r,n):V(t,r)}function D(e,t){e===t?C(e,new TypeError("You cannot resolve a promise with itself")):!function(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}(t)?V(e,t):L(e,t,S(t))}function P(e){e._onerror&&e._onerror(e._result),O(e)}function V(e,t){e._state===_&&(e._result=t,e._state=T,0!==e._subscribers.length&&s(O,e))}function C(e,t){e._state===_&&(e._state=b,e._result=t,s(P,e))}function I(e,t,r,n){var i=e._subscribers,a=i.length;e._onerror=null,i[a]=t,i[a+T]=r,i[a+b]=n,0===a&&e._state&&s(O,e)}function O(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n=void 0,i=void 0,a=e._result,o=0;o<t.length;o+=3)n=t[o],i=t[o+r],n?w(r,n,i,a):i(a);e._subscribers.length=0}}function w(t,r,n,i){var a=e(n),o=void 0,s=void 0,l=void 0,d=void 0;if(a){if((o=function(e,t){try{return e(t)}catch(e){return R.error=e,R}}(n,i))===R?(d=!0,s=o.error,o.error=null):l=!0,r===o)return void C(r,new TypeError("A promises callback cannot return that same promise."))}else o=i,l=!0;r._state!==_||(a&&l?D(r,o):d?C(r,s):t===T?V(r,o):t===b&&C(r,o))}var k=0;function x(e){e[y]=k++,e._state=void 0,e._result=void 0,e._subscribers=[]}var N=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(E),this.promise[y]||x(this.promise),n(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?V(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&V(this.promise,this._result))):C(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===_&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,n=r.resolve;if(n===m){var i=S(e);if(i===v&&e._state!==_)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(r===M){var a=new r(E);L(a,e,i),this._willSettleAt(a,t)}else this._willSettleAt(new r(function(t){return t(e)}),t)}else this._willSettleAt(n(e),t)},e.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===_&&(this._remaining--,e===b?C(n,r):this._result[t]=r),0===this._remaining&&V(n,this._result)},e.prototype._willSettleAt=function(e,t){var r=this;I(e,void 0,function(e){return r._settledAt(T,t,e)},function(e){return r._settledAt(b,t,e)})},e}();var M=function(){function e(t){this[y]=k++,this._result=this._state=void 0,this._subscribers=[],E!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(e,t){try{t(function(t){D(e,t)},function(t){C(e,t)})}catch(t){C(e,t)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var t=this.constructor;return this.then(function(r){return t.resolve(e()).then(function(){return r})},function(r){return t.resolve(e()).then(function(){throw r})})},e}();return M.prototype.then=v,M.all=function(e){return new N(this,e).promise},M.race=function(e){var t=this;return n(e)?new t(function(r,n){for(var i=e.length,a=0;a<i;a++)t.resolve(e[a]).then(r,n)}):new t(function(e,t){return t(new TypeError("You must pass an array to race."))})},M.resolve=m,M.reject=function(e){var t=new this(E);return C(t,e),t},M._setScheduler=function(e){o=e},M._setAsap=function(e){s=e},M._asap=s,M.polyfill=function(){var e=void 0;if(void 0!==r)e=r;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=M},M.Promise=M,M})}).call(this,r(29),r(24))},function(module,exports,__webpack_require__){"use strict";function isString(e){return"[object String]"===Object.prototype.toString.call(e)}function isArray(e){return"[object Array]"===Object.prototype.toString.call(e)}function ensureArray(e){return isArray(e)?e.slice():e?[e]:[]}function isNumeric(e){return!isNaN(parseFloat(e))&&isFinite(e)}function hashCode(e){var t,r,n=0;if(0===e.length)return n;for(t=0,r=e.length;t<r;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return Math.abs(n)}function json_decode(str){return JSON&&JSON.parse?JSON.parse(str):eval("("+str+")")}function getFixedAgoTime(e){return(((new Date).getTime()-e)/1e3).toFixed(1)}function injectScript(e,t){try{var r=document.createElement("script"),n=document.getElementsByTagName("head")[0]||document.documentElement;r.setAttribute("type","text/javascript"),t&&(r.async=!0),r.src=e,n.appendChild(r)}catch(e){}}function injectIframe(e){try{var t=document.createElement("iframe");t.style.display="none",t.src=e,document.body.appendChild(t)}catch(e){}}function injectScriptOnce(e,t,r){var n,i=document.getElementsByTagName("head")[0]||document.documentElement;document.getElementById(e)||((n=document.createElement("script")).setAttribute("type","text/javascript"),n.id=e,n.onload=r,n.src=t(),i.appendChild(n))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isString=isString,exports.isArray=isArray,exports.ensureArray=ensureArray,exports.isNumeric=isNumeric,exports.hashCode=hashCode,exports.json_decode=json_decode,exports.getFixedAgoTime=getFixedAgoTime,exports.injectScript=injectScript,exports.injectIframe=injectIframe,exports.injectScriptOnce=injectScriptOnce;var scripts={onLoadedFuncs:[]};function injectScriptSDK(e,t,r,n){void 0===n&&(n=!1);var i=document.getElementsByTagName("head")[0]||document.documentElement;if(!n||(scripts.onLoadedFuncs[e]=scripts.onLoadedFuncs[e]||[],r&&scripts.onLoadedFuncs[e].push(r),!document.getElementById(e))){var a=document.createElement("script");a.setAttribute("type","text/javascript"),a.id=e,a.onload=function(){if(n)for(;scripts.onLoadedFuncs[e].length;)scripts.onLoadedFuncs[e].shift()();else r()},a.src=t(),i.appendChild(a)}}function stringifyObject(e){try{return JSON.stringify(e).replace(/[\"\{\}]/g,"").replace(/\,/g,", ").replace(/\:/g,": ")}catch(e){}return null}function shuffleArray(e){if(e.length>1)for(var t=e.length-1;t>=0;t--){var r=Math.floor(Math.random()*(t+1)),n=e[r];e[r]=e[t],e[t]=n}return e}function arrayFind(e,t){if(e.find)return e.find(t);for(var r=0,n=e;r<n.length;r++){var i=n[r];if(t(i))return i}}function pick(e){for(var t=e[0],r=e[1],n=void 0===r?null:r,i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];return n?n.apply(void 0,i.filter(t)):arrayFind(i,t)}function pickField(e,t,r){for(var n=[],i=3;i<arguments.length;i++)n[i-3]=arguments[i];return n.map(function(t){return t[e]}).filter(t).reduce(r,void 0)}exports.injectScriptSDK=injectScriptSDK,exports.stringifyObject=stringifyObject,exports.shuffleArray=shuffleArray,exports.arrayFind=arrayFind,exports.pick=pick,exports.pickField=pickField},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8),i=r(1),a=r(0),o=r(13),s=r(7),l=r(11),d=r(6),u=i.TerminateReason,c={error:1},p=[{action:{terminate:!0},reasons:[u.SKIP,u.AD_COMPLETE,u.NO_SUITABLE_MEDIA,u.NO_VALID_CREATIVES,u.NON_LINEAR,u.LONG_IMPRESSION,u.VPAID_VOLUME_VIOLIATION,u.VIDEO_ERROR,u.VPAID_ERROR_READY,u.START_AD_ERROR,u.HTTP_ERROR_TERMINATE,u.IS_BLOCKED,u.LOAD_AD_TIMEOUT,u.UNREQUESTED_START]},{action:{error:0},reasons:[u.DOUBLE_PARALLEL_STARTED,u.PARALLEL_STARTED,u.IMPRESSION_ON_PAUSED]},{action:{error:100},reasons:[u.START_AD_TIMEOUT]},{action:{error:105,maxRetries:3},reasons:[u.ONLY_FLASH_BUT_NOT_SUPPORTED]},{action:{error:105},reasons:[u.VPAID_ERROR_INITING]}];function h(e,t){return null!=e.findPlayerData(function(e){return e!=t&&e.state==i.PlayerDataState.Playing})}function A(e,t,r){t?a.debugLog(e,"destroying all players except for vastId "+t.vastId,!1):a.debugLog(e,"destroying all players",!1);for(var n=e.plist.length-1;n>=0;n--)e.plist[n]!==t&&o.destroyPlayerData(e,e.plist[n],r)}t.anyOtherPlaying=h,t.finishPlayerData=function(e,t,r,n){if(void 0===r&&(r=i.TerminateReason.UNKNOWN_ERROR),"function"==typeof e.finishPlayerData)return e.finishPlayerData(t,r,n);if(t.state!=i.PlayerDataState.Error&&t.state!=i.PlayerDataState.Finished){if(function(e,t,r,n){void 0===r&&(r=i.TerminateReason.UNKNOWN_ERROR);var o="finish reason - "+i.TerminateReason[r].toLowerCase().replace(/_/g," ");n&&(o+=(n.code?", errorCode: "+n.code:"")+(n.message?", errorMessage: "+n.message:"")),a.debugLogVast(e,t,o,!1)}(e,t,r,n),e.anyPlaying=e.anyPlaying&&h(e,t),o.hideAdvertising(e,t),t.flowTimeout.cancel(),n&&s.sendVastError(e,t,{code:n.code,message:n.message,status:n.status,credentials:n.credentials,retryCount:n.retryCount,vpaidError:n.vpaidError,videoError:n.videoError,imaError:n.imaError}),t.state==i.PlayerDataState.Playing){var u={listCompleted:e.frozen,skipped:r==i.TerminateReason.SKIP,error:!!n,tooLong:r==i.TerminateReason.LONG_IMPRESSION};d.notifyApi(e,t,"adcomplete",u),d.notifyApi(e,t,"ad.complete",u),e.frozen&&!e.content&&d.notifyApi(e,t,"player.finished"),t.finishPromiseResolve()}if(s.isCold(e,t,"FinishPlayerData")||function(e,t){for(var r=c,n=0,a=p;n<a.length;n++){var o=a[n];if(o.reasons.indexOf(t)>=0){r=o.action;break}}return!!r.terminate||(r.error&&r.error>=1&&(e.state=i.PlayerDataState.Error,e.errorCount=e.errorCount+r.error),r.maxRetries&&(e.maxFailedVastRetries=Math.min(r.maxRetries,e.maxFailedVastRetries)),!1)}(t,r)){s.isCold(e,null,"FinishPlayerData - duplicate")||r!=i.TerminateReason.AD_COMPLETE&&r!=i.TerminateReason.SKIP?t.sameVastTimer.cancel():t.sameVastTimer.trigger();var A=(r==i.TerminateReason.AD_COMPLETE||r==i.TerminateReason.SKIP)&&t.reachedMaxAdStarts();return o.destroyPlayerData(e,t,A),void(r==i.TerminateReason.SKIP&&e.paused?d.resumePlayingPlayer(e,"ui"):l.playNext(e))}!function(e,t,r){e.getPlayerDataByUniq(t.uniqId)?null==t.requeryTimeout?(t.state=i.PlayerDataState.Finished,a.debugLogVast(e,t,"requeryAd: start",!1),t.flowTimeout.cancel(),t.startAdHalfTimeout.cancel(),null!=t.initAdThrottler&&(clearInterval(t.initAdThrottler),t.initAdThrottler=null),o.clearPlayerData(e,t),a.debugLogVast(e,t,"scheduling requery vast",!1),t.requeryTimeout=setTimeout(function(){t.requeryTimeout=null,a.debugLogVast(e,t,"requery",!1),s.allocateAndFetchPlayerVast(e,t)},r)):a.debugLogVast(e,t,"requery vast already scheduled - ignoring",!1):a.debugLogVast(e,t,"requery vast removed from plist - ignoring",!1)}(e,t,t.getRequeryFrequency())}},t.destroyAllPlayerDatas=A,t.freezePlayers=function(e,t,r){return void 0===r&&(r=!0),a.debugLog(e,"freezing players",!1),e.frozen=!0,e.playNextRepeatTimer.cancel(),A(e,t,r),d.notifyApi(e,null,"player.adspaused"),t?(t.sameVastTimer.cancel(),a.debugLog(e,"leaving players objects for now",!1)):(e.anyPlaying=!1,e.content&&e.content.start(),a.debugLog(e,"removing players objects",!1),null!=e.domLoadTimeout&&(clearTimeout(e.domLoadTimeout),e.domLoadTimeout=null)),null!=e.requeryGpvTimer&&(clearInterval(e.requeryGpvTimer),e.requeryGpvTimer=null),t?t.finishPromise:n.Promise.resolve()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(1),a=r(68),o=r(6),s=r(7),l=r(13),d=r(2);function u(e,t,r,n){void 0===n&&(n=null);for(var i=n,a=0,o=e.plist;a<o.length;a++){var s=o[a];r(s)&&(i=null==i?s.group:t(s.group,i))}return i}function c(e,t){var r=function(r){return r?e.timers.waitHigherGroup[r-1]-(t-e.fetchTime)/1e3:-1},n=u(e,Math.min,function(e){return e.retryCount<=1&&!e.errorCount});if(null==n)return{};n=u(e,Math.max,function(e){return r(e.group)<=0},n);var i=u(e,Math.min,function(e){return e.group>n});return null==i?{group:n}:{group:n,waitingGroup:i,wait:r(i)}}function p(e,t){if(void 0===t&&(t=!1),"function"==typeof e.playNext)return e.playNext(t);n.debugLog(e,"playNext fired",!1);var r=c(e,e.now()),o=r.group,s=void 0===o?null:o,l=r.waitingGroup,d=r.wait;if(e.frozen)return n.debugLog(e,"playNext canceled - player frozen",!1),!1;if(null!=s&&null!=l&&e.playNextWaitGroup!=l&&d&&(e.playNextWaitGroup=l,n.debugLog(e,"playNext scheduled, group "+l+" - wait "+d,!1),e.playNextRepeatTimer.Seconds(d).start(function(){n.debugLog(e,"playNext scheduled - call",!1),p(e)})),!e.autoplay&&!t)return n.debugLog(e,"playNext canceled - manual mode - not trying to auto play",!1),!1;if(e.postRoll)return n.debugLog(e,"playNext canceled - postRoll, still playing content",!1),!1;if(e.anyPlaying)return n.debugLog(e,"playNext canceled - still playing previous media",!1),!1;if(n.debugLog(e,"playNext called, allowed group: "+(null!=s?s:"any"),!1),e.parallelStartAd){for(var u=!1,h=0,A=e.plist;h<A.length;h++){if((v=A[h]).state==i.PlayerDataState.Started&&v.sureFastStart){if(((new Date).getTime()-v.startAdTime)/1e3<3)return n.debugLogVast(e,v,"is sure fast starter and is trying to start - quiting",!1),!1;n.debugLogVast(e,v,"is sure fast starter and is trying to start but passed grace time",!1)}}for(var f=0,g=e.plist;f<g.length;f++){var v=g[f];if(n.debugLogVast(e,v,"state is: "+v.state,!0),v.canPlay(t,s)){if(n.debugLogVast(e,v,"is ready to play",!1),u=!0,a.playPlayer(e,v,t),e.anyPlaying)return!0;if(v.sureFastStart)return n.debugLogVast(e,v,"sure fast start - breaking",!1),!0}else v.canPlay(t)&&n.debugLogVast(e,v,"is ready but on different group",!1)}return u}for(var m=null,y=0,E=e.plist;y<E.length;y++){v=E[y];n.debugLogVast(e,v,"state is: "+v.state,!0),v.canPlay(t,s)&&(m?(v.errorCount<m.errorCount||v.errorCount==m.errorCount&&v.group<m.group)&&(m=v):m=v)}if(m){n.debugLogVast(e,m,"is ready to play",!1),e.beingVpaid&&(e.autoplay=!1);var _=a.playPlayer(e,m,t);return e.anyPlaying=e.anyPlaying||_,!0}return n.debugLog(e,"no vast is ready to play",!0),!1}function h(e){for(var t=0,r=0,n=e.plist;r<n.length;r++){var a=n[r];"video"!=a.adType&&a.state>=i.PlayerDataState.Initing&&a.state<=i.PlayerDataState.Completed&&t++}return t}function A(e,t){var r=function(e,t){for(var r=!0,n=!0,a=0,o=e.plist;a<o.length;a++){var s=o[a];s.group<t&&s.retryCount<=1&&!s.errorCount&&(s.state<i.PlayerDataState.Initing?r=!1:s.state<i.PlayerDataState.Playing&&(n=!1))}return{allHigherGroupInited:r,allHigherGroupTriedOnce:n}}(e,t.group),n=r.allHigherGroupInited,a=r.allHigherGroupTriedOnce,o=c(e,e.now()).group;if(null!=o&&t.group>o&&("video"==t.adType||!n))return{passed:!1,reason:"wait all from higher group"};if("video"!=t.adType){var s=h(e);return e.vpaidInitLimit&&s>=e.vpaidInitLimit?{passed:!1,reason:"reached inited vast limit: "+e.vpaidInitLimit}:t.duplicatedNow?(t.duplicatedNow=!1,{passed:!0,reason:"just duplicated"}):t.group<=1&&t.errorCount<=1?{passed:!0,reason:"and no/low error count"}:t.group>1&&!a?{passed:!1,reason:"all group 1 have not tried once"}:t.group>1&&e.anyPlaying?{passed:!1,reason:"player is in impression"}:t.group<=1?{passed:!0,reason:"and can init more"}:n?{passed:!0,reason:"and can init more, all higher group inited"}:{passed:!1,reason:"default reject reason"}}return{passed:!0,reason:"default pass reason"}}t.unlockSlots=function(e){for(var t=0,r=e.plist;t<r.length;t++)r[t].unlockAdSlot()},t.playAd=function(e,t,r){for(var i=0,o=e.plist;i<o.length;i++){var s=o[i];n.debugLogVast(e,s,"state is: "+s.state,!0),s.vastId==t&&s.canPlay(r)&&(e.playingVastId=t,a.playPlayer(e,s,r))}},t.waitForHigherGroup=c,t.playNext=p,t.getInitedVastsCount=h,t.canInitAd=A,t.initAdThrottler=function(e,t,r){n.debugLogVast(e,t,t.adType+" was initialized",!1);var i=function(r){var i="initAd throttler "+(r.passed?"passed,":"-")+" group "+t.group+": "+r.reason;n.debugLogVast(e,t,i,!1)},a=A(e,t);i(a),a.passed?r():t.initAdThrottler=setInterval(function(){!function(e,t){d.safeguard("initAd throttler",{players:e},function(){a=A(e,t),i(a),a.passed&&(null!=t.initAdThrottler&&(clearInterval(t.initAdThrottler),t.initAdThrottler=null),r())})}(e,t)},500)},t.contentEnded=function(e){e.frozen&&o.notifyApi(e,null,"player.finished"),e.postRoll&&(e.postRoll=!1,p(e))},t.sameVastLoad=function(e,t){t.allowSameVastLoad()?d.safeguard("same vastId loader",{players:e,playerData:t,log:!0},function(){var r=t.duplicatePlayed();e.plist.push(r),e.vastList[t.demandId||t.vastId]=s.VastState.ACTIVE,l.prepareAdContainers(e,r),s.allocateAndFetchPlayerVast(e,r)}):n.debugLogVast(e,t,"same vastId loader was rejected",!1)}},function(e,t,r){"use strict";function n(e,t,r){return null!=e?e:null!=t?t:r}function i(e,t,r){return void 0!==e?e:void 0!==t?t:r}function a(e,t){return null!=e?t(e):e}function o(e,t){if(e instanceof Array)return e.length>0;if(e instanceof Object){var r=!1;return h(function(){return r=!0},e),r}if("string"==typeof e){if(!isNaN(e))return!!+e;if(t)switch(e.toLowerCase()){case"true":return!0;case"false":return!1;default:return null}}return!!e}r.r(t),r.d(t,"notnull",function(){return n}),r.d(t,"defined",function(){return i}),r.d(t,"maybe",function(){return a}),r.d(t,"NotNull",function(){return s}),r.d(t,"Defined",function(){return l}),r.d(t,"Truly",function(){return d}),r.d(t,"HostNull",function(){return u}),r.d(t,"HostUndefined",function(){return c}),r.d(t,"NotIn",function(){return p}),r.d(t,"forEach",function(){return h}),r.d(t,"assignFieldsWhen",function(){return A}),r.d(t,"assignFields",function(){return f}),r.d(t,"assignWhen",function(){return g}),r.d(t,"assign",function(){return v}),r.d(t,"boolean",function(){return m}),r.d(t,"number",function(){return y}),r.d(t,"string",function(){return E});var s=function(e){return null!=e},l=function(e){return void 0!==e},d=function(e){return o(e)};function u(e,t,r){return null==r[t]}function c(e,t,r){return void 0===r[t]}function p(e,t,r){return!(t in r)}function h(e,t){if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t)}function A(e,t,r,n){if(null==r||null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(r),a=0,o=n instanceof Array?n:[n];a<o.length;a++){h(function(r,n){(!0===t||t(r,n,i))&&(!0===e||e.indexOf(n)>=0)&&(i[n]=r)},o[a])}return i}function f(e,t,r){return A(e,!0,t,r)}function g(e,t,r){return A(!0,e,t,r)}function v(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return A(!0,!0,e,t)}function m(e,t){return null==e||""===e?i(t,l(e)?null:void 0):n(o(e,!0),t,null)}function y(e,t){return null==e||""===e?i(t,l(e)?null:void 0):isNaN(e)?i(t,null):+e}function E(e,t){return null==e?i(t,e):""+e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(1),a=r(22),o=r(7),s=r(35),l=r(45),d=r(82),u=r(84),c=r(85),p=r(23),h=r(5),A=r(17),f=r(6),g=r(16),v=r(25),m=r(2),y=!0;function E(e,t){try{t.clearAd&&t.clearAd(),t.companionsElementDiv&&(t.companionsElementDiv.parentNode.removeChild(t.companionsElementDiv),t.companionsElementDiv.innerHTML="",t.companionsElementDiv=null),y&&t.reusableVideoTrace&&t.videoElement&&(t.reusableVideoTrace.reset(),t.videoElement.removeAttribute("src"),t.videoElement.removeAttribute("style"),t.videoElement.removeAttribute("autoplay"))}catch(r){n.debugLog(e,"clearAd gave exception on "+t.adType+": "+r.message,!1)}}function _(e,t){t.viewable=!1;try{t.hideAd&&t.hideAd()}catch(r){n.debugLogVast(e,t,"hideAd gave exception of "+t.adType+" : "+r.message,!1)}}function T(e,t,r){var n=null!==r?r:t.isSkippable();t.skippable!=n&&(e.beingVpaid&&g.callingVpaidEvent(e,"jsAdSkippableState",{}),t.skippable=!!n,t.skippable&&t.skipTimer.cancel(),f.notifyApi(e,t,"ad.skippableStateChanged",{skippable:t.skippable}))}function b(e){return p.createElement("div",{id:"__cedato_ad_container_"+e+"_"+Math.floor(5e3*Math.random()),style:{zIndex:"-1",width:"100%",height:"100%",position:"absolute",top:"0px",left:"0px",margin:"0",padding:"0",backgroundColor:"#000",overflow:"hidden"}})}t.setPrototype=function(e,t){if(Object.setPrototypeOf)Object.setPrototypeOf(e,t);else if({__proto__:[]}instanceof Array)e.__proto__=t;else for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},t.adTypesProto={video:u.PlayerDataVideo.prototype,jsvpaid:d.PlayerDataVpaidJs.prototype,jsima:l.PlayerDataGoogleIMA.prototype,vast:s.PlayerDataVast.prototype},t.showAdvertising=function(e,t){if(!t.viewable){t.viewable=!0,t.viewableAt=t.playedAt=Date.now();try{t.showAd()}catch(r){n.debugLogVast(e,t,"showAd gave exception of "+t.adType+" : "+r.message,!1)}e.content&&(e.content.setWait(!1),e.content.hide())}},t.hideAdvertising=function(e,t){_(e,t),t.viewable=!1,t.viewableAt=t.playedAt=null,e.content&&e.content.start()},t.getPlayingPlayerData=function(e){return e.findPlayerData(function(e){return e.state==i.PlayerDataState.Playing})},t.prepareAdContainers=function(e,t){t.adContainersReady=e.playerReady.then(function(){y&&e.unlockedVideos.length>0?(t.reusableVideoTrace=e.unlockedVideos.pop(),t.videoElement=t.reusableVideoTrace.target,t.unlocked=!0):(t.videoElement=a.createVideoElement(e),t.reusableVideoTrace=c.traceEventListeners(t.videoElement)),t.adContainer=b(t.vastId),t.adContainer.appendChild(t.videoElement),e.divElem.appendChild(t.adContainer)}).catch(m.safecatch(e,"prepareAdContainers"))},t.stopPlayerData=function(e,t){try{t.stopAd&&t.stopAd()}catch(r){n.debugLogVast(e,t,"parallel stopAd of "+t.adType+" gave exception: "+r.message,!1)}},t.clearPlayerData=E,t.hidePlayerData=_,t.destroyPlayerData=function(e,t,r){m.safeguard("destroyPlayerData",{players:e,playerData:t,log:!0},function(){if(-1===e.plist.indexOf(t))return!1;if(t.state==i.PlayerDataState.Finished&&null==t.requeryTimeout)return!1;t.state=i.PlayerDataState.Finished,null!=t.requeryTimeout&&(clearTimeout(t.requeryTimeout),t.requeryTimeout=null),t.flowTimeout.cancel(),t.startAdHalfTimeout.cancel(),t.sameVastTimer.cancel(),t.skipTimer.cancel(),null!=t.initAdThrottler&&(clearInterval(t.initAdThrottler),t.initAdThrottler=null),_(e,t),-1!==e.plist.indexOf(t)&&(e.plist.splice(e.plist.indexOf(t),1),function(e,t,r){for(var n=0,i=e.plist;n<i.length;n++){var a=i[n];if(a.demandId==t||""+a.vastId==t)return}r?e.vastList[t]=o.VastState.DEACTIVATED:e.vastList[t]!=o.VastState.DEACTIVATED&&(e.vastList[t]=o.VastState.FROZEN)}(e,t.demandId||t.vastId,r));try{E(e,t),y&&t.reusableVideoTrace&&t.unlocked&&t.videoElement&&!a.jsvCanvas(t.videoElement)&&(e.unlockedVideos.push(t.reusableVideoTrace),t.videoElement.parentNode&&t.videoElement.parentNode.removeChild(t.videoElement),t.videoElement=null),t.destroyAd&&t.destroyAd(),t.adContainer&&t.adContainer.parentNode&&(t.adContainer.parentNode.removeChild(t.adContainer),t.adContainer=null)}catch(t){n.debugLog(e,"destroyAd gave exception: "+t.message,!1)}})},t.adClick=function(e,t,r,a){void 0===a&&(a=!1),!t.skipVastTracker&&t.vastTracker?t.vastTracker.click():t.skipVastTracker||h.playerError(e,i.PlayerError.GENERAL,"no vastTracker for click",null),r=r||t.adClickUrl,n.debugLogVast(e,t,"adClick url:"+r,!1),f.notifyApi(e,t,"click",{url:r}),v.triggerBeacon(e,t,"adclick",{clickUrl:r}),A.logVastEvent(e,h.CEDATO_EVENT.E_CLICK,t,{url:r}),e.serverEvents.demandEvent(t,{name:"AdClick",clickUrl:r}),e.beingVpaid&&g.callingVpaidEvent(e,"jsAdClickthrough",{url:r}),a?n.debugLogVast(e,t,t.adType+" - external handling of the click through",!1):r&&"string"==typeof r&&window.open(r,"_blank")},t.initSkipTimer=function(e,t){var r=t.getSkipOffset();r>0&&(n.debugLogVast(e,t,"init skip offset timer: "+r+" seconds",!1),t.skipTimer.Seconds(r).start(function(){T(e,t,!0)}))},t.changeSkippableState=T,t.createAdContainer=b},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function e(e){void 0===e&&(e=1/0),this.msec=e,this.startedAt=null,this.elapsed=null}return e.delay=function(t,r){void 0===t&&(t=0);var n="function"==typeof t?t:r;return new e("number"==typeof t?t:0).start(n)},e.Seconds=function(t){return new e(1e3*t)},e.Minutes=function(t){return new e(60*t*1e3)},e.prototype.getSeconds=function(){return this.msec/1e3},e.prototype.cancel=function(){this.resolve=null,this.pause(),this.reject&&(this.reject(e.Cancelled),this.reject=null)},e.prototype.reset=function(e){return this.pause(),this.msec=e,this},e.prototype.Seconds=function(e){return this.reset(1e3*e)},e.prototype.Minutes=function(e){return this.reset(60*e*1e3)},e.prototype.tee=function(e){return e(this),this},e.prototype.start=function(e){this.cancel();var t=this.hold(e);return this.timerId=setTimeout(this.resolve,this.msec),this.startedAt=Date.now(),this.elapsed=0,t},e.prototype.pause=function(){null!=this.timerId&&(clearTimeout(this.timerId),this.timerId=null,null!=this.startedAt&&(this.elapsed=(this.elapsed||0)+Math.max(0,Date.now()-this.startedAt)),this.startedAt=null)},e.prototype.resume=function(){this.rewind(Math.max(0,this.msec-(this.elapsed||0)))},e.prototype.hold=function(t){var r=this,n=new e.Promise(function(e,t){r.resolve=e,r.reject=t}).then(function(){return r.pause()});return t?n.then(t):n},e.prototype.repeat=function(e){var t=this;this.cancel();var r=function(){return t.hold(e).then(r)};return r()},e.prototype.rewind=function(e){this.pause(),this.resolve&&(this.timerId=setTimeout(this.resolve,null!=e?e:this.msec),this.startedAt=Date.now())},e.prototype.trigger=function(){this.reject=null,this.resolve&&this.resolve(),this.cancel()},e.Promise=window.Promise,e.Cancelled={cancelled:!0},e}();t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),i=.1,a=.01;t.fastTagStatus=function(e,t,r){var o={category:"fasttag",event:e.jsCallingVpaid?"vpaidjs":"player",label:t?"OK":"Failed",error:r};n.clientEvent(e,o,t?a:i)};var o=.1,s=.01;t.vpaidVolumeChanged=function(e,t,r,i){var a={category:"sound",event:r?"enabled":"rejected",error:i,url:t.mediaURL,vast:t.vastId};n.clientEvent(e,a,r?s:o)};var l=.01;t.vpaidJSDisappearedError=function(e,t,r){var i={category:"vpaidjs",event:"disappeared",error:"vpaidJS event called after destroy:"+r,url:t.mediaURL,vast:t.vastId};n.clientEvent(e,i,l)};var d=.01,u=.005;t.jsvUsage=function(e,t){var r={category:"jsv",event:"init",loadable:!!e.JSV,videoSupported:e.hasVideoSupport,forced:t};n.clientEvent(e,r,d)},t.logImpression=function(e,t){if(e.info.mobile){var r={category:"jsv",event:"impression",usejsv:e.usejsv,label:t};n.clientEvent(e,r,u)}};var c=.01,p=.01,h=.01,A=.1;t.validateVideoStart=function(e,t,r,i){if(!e.usejsv&&e.info.mobile){var a={category:"autoplay",label:i,domain:e.domain,videoSrc:t.currentSrc};r&&r.then?r.then(function(){a.event="OK",n.clientEvent(e,a,c)},function(t){var r=t.name,i=t.message;a.error=r,a.message=i,a.event="AbortError"!==r?"Failed":"Aborted",n.clientEvent(e,a,"AbortError"!==r?A:h)}):(a.event="Unknown",n.clientEvent(e,a,p))}};var f=.1;t.logParseXmlError=function(e,t){var r={category:"xmlparse",error:t};n.clientEvent(e,r,f)};var g=1e-4;t.logMaxFailedRetries=function(e,t,r){var i={category:"failedretries"};t?(i.event="vast-gpv",i.vastMaxRetries=t.maxFailedVastRetries/(r?2:1)):(i.event="players-gpv",i.playerMaxRetries=e.maxFailedVastRetries/(r?2:1)),n.clientEvent(e,i,g)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(21),i=r(1),a=r(0),o=r(5),s=r(6),l=r(10),d=r(2);function u(e,t,r){e.jsCallingVpaid&&d.safeguard(t,{players:e,log:!0},function(){e.callingJSVpaid.pEvent(t,r)})}t.prePrepareCallingObject=function(e){if(e.jsCallingVpaid){var t=window;if(!t[e.jsCallingVpaid]||!t[e.jsCallingVpaid].pEvent)return o.playerError(e,i.PlayerError.GENERAL,"vpaid parent not found in post calling js obj: "+e.jsCallingVpaid),!1;e.callingJSVpaid=t[e.jsCallingVpaid]}return!0},t.postPrepareCallingObject=function(e){if(e.beingVpaid){a.debugLog(e,"post prepare js callbacks",!1);var t=new n.EventEmitter2;t.on("inPlayAd",function(){return e.playerReady.then(function(){return s.playPlayingPlayer(e)})}),t.on("inStopAd",function(){return setTimeout(function(){e.autoplay=!1,a.debugLog(e,"vp stop callback called",!1),l.freezePlayers(e),u(e,"jsAdStopped",{})},0)}),t.on("inPauseAd",function(){return setTimeout(function(){e.autoplay=!1,a.debugLog(e,"vp pause callback called",!1),s.pausePlayingPlayer(e,"vpaidplayer")},0)}),t.on("inResumeAd",function(){return setTimeout(function(){a.debugLog(e,"vp resume callback called",!1),s.resumePlayingPlayer(e,"vpaidplayer")},0)}),t.on("inSetAdVolume",function(t){return setTimeout(function(){a.debugLog(e,"vp set volume callback called",!1),s.setPlayerVolume(e,t&&t.volume)},0)}),t.on("inResizeAd",function(t){return setTimeout(function(){a.debugLog(e,"vp resize callback called",!1),s.resizePlayer(e,t.viewMode,t.width,t.height)},0)}),t.on("inResizeAd",function(){return setTimeout(function(){a.debugLog(e,"vpExpandAdCallbackFuncName called",!1)},0)}),t.on("inInitAd",function(t){var r=t.slot,n=e.beingVpaidUseSlot;if(r&&!1!==n){var i=e.rootDivElem;i.parentNode.removeChild(i),r.parentNode.style.margin=0,r.parentNode.style.padding=0,(Math.abs(r.offsetTop)>50||Math.abs(r.offsetLeft)>50)&&(r.style.position="fixed",r.style.top=0,r.style.left=0),r.appendChild(i)}setTimeout(function(){s.resizePlayer(e,t.viewMode,t.width||e.width,t.height||e.height),u(e,"jsAdReadyToStart",{})},0)});var r=document.createElement("div");r.setAttribute("id",e.divId);var i=e.widthOverwrite||e.width,o=e.heightOverwrite||e.height;return r.setAttribute("style","width:"+i+"px;height:"+o+"px;position:relative;top:0px;"),e.rootDivElem=r,e.jsCallingVpaid&&(document.querySelector("body").appendChild(r),e.callingJSVpaid.handshake(function(e,r){return t.emit(e,r)})),e.companionsRootDivElem=document.createElement("div"),e.companionsDivElem=document.createElement("div"),e.companionsDivElem.setAttribute("style","width:100%;height:100%;position:relative;top:0px; display: block;"),e.companionsRootDivElem.appendChild(e.companionsDivElem),e.jsCallingVpaid&&document.querySelector("body").appendChild(e.companionsRootDivElem),!0}},t.callingVpaidEvent=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),i=r(7);function a(e){return null!=e.cxpid&&null!=e.cxvid}function o(e){return"jsima"==e.adType?n.VastType.ImaJs:"jsvpaid"==e.adType?n.VastType.JsVpaid:n.VastType.Video}function s(e){return e.hasFlashVPAID&&e.hasJSVPAID?n.VastType.FlashJsVpaid:o(e)}function l(e,t,r,i){a(r)?(r.cedatoxPlayerId=null,r.cedatoxVastId=r.cxvid,r.chosenVastId=null,r.parentPlayerId=r.cxpid,n.logEvent(e,t,r,i),r.cedatoxPlayerId=r.playerId,r.cedatoxVastId=null,r.chosenVastId=r.vastId,r.parentPlayerId=null,i.playerId=r.cxpid,i.vastId=r.cxvid,n.logEvent(e,t,r,i)):n.logEvent(e,t,r,i)}t.isCedatox=a,t.reportingActualVastType=o,t.reportingVastType=s,t.logVastRequest=function(e,t){l(e,n.CEDATO_EVENT.E_REQUEST,t,{})},t.logVastProgress=function e(t,r,a){if(!(a<=0)){var o=((r.duration||0)/4).toFixed(2);r.quartile&&r.quartile==a-1||e(t,r,a-1),r.quartile=a,t.serverEvents.demandEvent(r,{name:"AdProgress",progress:a/4,duration:parseFloat(o)*a,durationDelta:parseFloat(o)}),l(t,a==i.Quartiles.COMPLETE?n.CEDATO_EVENT.E_END:n.CEDATO_EVENT.E_MIDS,r,{quartile:a,duration:o})}},t.logVastActualRequest=function(e,t){n.logActualRequest(e,t.playerId,t.vastId,t.demandId),a(t)&&n.logActualRequest(e,t.cxpid,t.cxvid),null!=t.allocatedQuotaReq&&(t.allocatedQuotaReq-=1)},t.logVastLoaded=function(e,t){var r=(((new Date).getTime()-t.loadAdTime)/1e3).toFixed(1);l(e,n.CEDATO_EVENT.E_LOADED,t,{time:r,memUsed:null,vastType:s(t),actualVastType:o(t)}),a(t)&&n.logEvent(e,n.CEDATO_EVENT.E_SERVED_AND_START,{},{playerId:t.playerId})},t.logVastEvent=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(8),a=r(4);!function(e){e[e.NO_XHR_SUPPORT=1]="NO_XHR_SUPPORT",e[e.OPEN=2]="OPEN",e[e.SEND=3]="SEND",e[e.CORS=4]="CORS",e[e.STATUS=5]="STATUS",e[e.TIMEOUT=6]="TIMEOUT",e[e.UNKNOWN=7]="UNKNOWN",e[e.LAST=10]="LAST"}(n=t.HttpError||(t.HttpError={}));var o=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")},function(){var e=new XDomainRequest;return e.onprogress=function(){},e}];function s(){for(var e=0,t=o;e<t.length;e++){var r=t[e];try{return r()}catch(e){}}return null}function l(e){return(window.DOMParser?function(e){return(new window.DOMParser).parseFromString(e,"text/xml")}:"undefined"!=typeof ActiveXObject&&new ActiveXObject("Microsoft.XMLDOM")?function(e){var t=new ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t}:function(){return null})(e)}function d(e,t){return u({url:e,method:"POST",postData:a.buildUrlParams(t,!0),contentType:"application/x-www-form-urlencoded"})}function u(e){var t=e.url,r=void 0===t?"":t,a=e.withCredentials,o=void 0!==a&&a,l=e.method,d=void 0===l?"GET":l,u=e.postData,c=void 0===u?null:u,p=e.contentType,h=e.timeout,A=void 0===h?0:h,f=e.xhrObject;return new i.Promise(function(e,t){var i=!1,a=f||s();try{if(!a)return t({xhr:a,code:n.NO_XHR_SUPPORT,data:{message:"no supported xhr object"}}),null;try{a.open(d,r,!0)}catch(e){return t({xhr:a,code:n.OPEN,data:e}),null}if("withCredentials"in a&&(a.withCredentials=o),"timeout"in a&&(a.timeout=A,a.ontimeout=function(){t({xhr:a,code:n.TIMEOUT,data:{message:"no response from xhr within "+A/1e3+" sec."}})}),a.onload=function(){i||(window.XDomainRequest&&a instanceof window.XDomainRequest&&(a.status=200,a.getResponseHeader=function(){return null},a.getAllResponseHeaders=function(){return null}),a.status>=400?t({xhr:a,code:n.STATUS,data:{message:a.statusText,status:a.status}}):e(a))},a.onerror=function(e){i=!0,t({xhr:a,code:n.CORS,data:{result:-1,message:"cross origin exception"}})},c&&a.setRequestHeader&&p&&a.setRequestHeader("Content-type",p),window.XDomainRequest&&a instanceof window.XDomainRequest)setTimeout(function(){try{a.send(c)}catch(e){t({xhr:a,code:n.SEND,data:e})}},0);else try{a.send(c)}catch(e){t({xhr:a,code:n.SEND,data:e})}}catch(e){e&&-1==e.message.indexOf("101")&&2153644038!=e.result?t({xhr:a,code:n.UNKNOWN,data:e}):t({xhr:a,code:n.CORS,data:e})}})}function c(e){return new i.Promise(function(t,r){var n="_"+Date.now()+Math.ceil(1e3*Math.random()),i=document.createElement("script"),a=document.getElementsByTagName("head")[0]||document.documentElement;window[n]=function(e){t(e)};var o=e.indexOf("?");-1==o?e+="?":o!==e.length-1&&(e+="&"),i.src=e+"callback="+n,i.onerror=function(){r()},a.appendChild(i)})}t.createXMLHTTPObject=s,t.parseTextToXML=l,t.getXML=function(e){return(null==e.responseXML||e.responseXML.xml)&&e.responseText?l(e.responseText):e.responseXML},t.sendStringParams=function(e){var t=e.url,r=void 0===t?"":t,n=e.params,i=void 0===n?null:n,o=e.usePost;void 0!==o&&o?d(r,i):(new Image).src=a.buildUrl(r,i)},t.requestJSON=function(e){var t=e.url,r=void 0===t?"":t,n=e.params,i=void 0===n?null:n,o=e.usePost;return void 0!==o&&o?d(r,i):c(a.buildUrl(r,i))},t.requestWithAjax=u,t.requestWithJSONP=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(15),i=r(3),a=r(0),o=r(5),s=r(67),l=r(11),d=r(6),u=r(2),c=r(4),p=r(9),h=r(22),A=function(){function e(e,t){var r=this;this.list=[],this.currentVideoIndex=0,this.controlBar=!1,this.loop=!1,this.visible=!0,this.started=!1,this.paused=!1,this.variantsList=[],this.selectedVariant=0,this.variantSearchPattern=/(?=\.mp4$)/,this.wait=!1,this.videoChanged=!1,this.onLoadedMetaData=function(){r.savedTime&&(r.video.currentTime=r.savedTime,r.savedTime=null)},this.onCanplay=function(){r.wait||(r.videoChanged=!1,r.hideSpinner());var e=h.jsvCanvas(r.video);return e&&(e.style.width="100%",e.style.height="0",setTimeout(function(){e.style.height="100%"},0),r.paused&&r.pause()),!0},this.onPlaying=function(){r.videoChanged=!1,r.hideSpinner(),r.poster&&r.removePoster()},this.onPlay=function(){h.jsvCanvas(r.video)&&r.onPlaying(),d.resumePlayingPlayer(r.players,"content"),r.started?r.paused&&(a.debugLog(r.players,"got content resumed callback",!0),d.notifyApi(r.players,null,"content.resumed"),r.paused=!1):(r.started=!0,r.paused=!1,d.notifyApi(r.players,null,"content.started"))},this.onEnded=function(){r.video.pause();var e=!r.nextVideo(),t=0==r.currentVideoIndex;d.notifyApi(r.players,null,"content.completed",{src:r.video.src,withErrors:!1,listCompleted:t,loopCompeleted:e}),e?l.contentEnded(r.players):r.players.autoScheduleReset&&!d.playerResetSchedule(r.players)||r.start()},this.onError=function(e){var t=h.videoErrorMessage(e.currentTarget);d.notifyApi(r.players,null,"content.error",{src:r.video.src,errorMsg:t}),d.notifyApi(r.players,null,"content.completed",{src:r.video.src,withErrors:!0,errorMsg:t}),a.debugLog(r.players,"Error loading content video: "+r.getUrl()+" msg:"+t,!1)},this.onPause=function(){r.video.readyState>0&&!(r.video.duration>0&&r.video.duration>r.video.currentTime)||(r.paused||(a.debugLog(r.players,"content paused callback",!1),d.notifyApi(r.players,null,"content.paused"),r.paused=!0),r.callPauseTimer=setTimeout(function(){var e=r.nativeContolsVisible();a.debugLog(r.players,"content paused - "+(e?"allowed":"ignored"),!1),e&&d.pausePlayingPlayer(r.players,"content")},r.players.info.mobile?1e3:0))},this.onVolumeChange=function(){var e=r.nativeContolsVisible();a.debugLog(r.players,"content volumeChange - "+(e?"allowed":"ignored"),!1),e&&d.setPlayerVolume(r.players,r.video.volume,r.video.muted)},this.onSeeked=function(){0==r.video.currentTime||h.jsvCanvas(r.video)||(a.debugLog(r.players,"got content seek callback",!1),d.notifyApi(r.players,null,"content.seeked",{time:r.video.currentTime}))},this.onClick=function(){var e=r.getClickData(),t=e.targetUrl,n=e.clickUrl;d.notifyApi(r.players,null,"ui.contentClick",{url:t,clickUrl:n,variant:r.selectedVariant,index:r.currentVideoIndex,time:r.video.currentTime}),n&&(d.notifyApi(r.players,null,"click",{url:n}),window.open(n,"_blank"),r.players.serverEvents.supplyEvent({name:"ContentClick",clickUrl:n,mediaUrl:t}),o.logEvent(r.players,o.CEDATO_EVENT.E_CONTENT_CLICK,{url:n}))},this.setVideoVariant=function(e){null!=e&&r.selectedVariant!==e&&(r.savedTime=r.video.currentTime,r.selectedVariant=e,r.setVideoSrc(r.currentVideoIndex),r.start())},this.getVideoVariant=function(){return r.selectedVariant},this.getVideoVariantList=function(){return r.variantsList},this.players=e,this.init(t),this.create()}return e.prototype.init=function(e){null!=e.video.shuffle&&(this.shuffle=e.video.shuffle),null!=e.video.loop&&(this.loop=e.video.loop),this.list=this.getList(e.video),this.clickUrl=e.video.clickUrl,this.initPoster(e),e.variants&&!this.players.usejsv&&(this.variantsList=e.variants.list||this.variantsList,this.selectedVariant=e.variants.selected||this.selectedVariant,this.variantSearchPattern=e.variants.searchPattern||this.variantSearchPattern),this.controlBar=e.video.controlBar&&"native"==this.players.controlBarType,this.wait=e.wait||this.players.schedule&&!!this.players.schedule.content,this.players.mainAutoplay||(this.list.length>0?this.videoChanged=!0:this.wait=!0)},e.prototype.getList=function(t){var r=[];t.list?r=t.list:t.url&&(r=e.getListFromUrls(t.url));var n=null!=t.start&&t.start<r.length?t.start:0;if(this.shuffle)if(null!=t.start){var i=r[n];r.splice(n,1),(r=p.shuffleArray(r)).splice(n,0,i)}else r=p.shuffleArray(r);return this.currentVideoIndex=n,r},e.prototype.initPoster=function(e){this.posterUrl=e.image.url,this.posterPosition=e.image.position},e.prototype.create=function(){this.container=document.createElement("div"),i.assignClass(this.container,"content_container"),this.players.divElem&&this.players.divElem.appendChild(this.container),u.safeEventListeners(this.container,"contentClick",{players:this.players},[{type:"click",action:this.onClick}]),this.video=h.createVideoElement(this.players,!0),this.video.controls=this.controlBar,this.video.autoplay=!1,this.video.loop=!1,i.assignClass(this.video,"content_video"),u.safeEventListeners(this.video,"content video event",{players:this.players},[{type:"loadedmetadata",action:this.onLoadedMetaData},{type:"canplay",action:this.onCanplay},{type:"play",action:this.onPlay},{type:"playing",action:this.onPlaying},{type:"pause",action:this.onPause},{type:"ended",action:this.onEnded},{type:"error",action:this.onError},{type:"seeked",action:this.onSeeked},{type:"volumechange",action:this.onVolumeChange}]),this.container&&this.container.appendChild(this.video),this.setVideoSrc(),this.videoChanged=!1,this.players.usejsv||this.video.load(),this.posterUrl&&(this.createPoster(),this.setPosterImage(this.posterUrl,this.posterPosition))},e.prototype.setVideoSrc=function(e){var t=this;void 0===e&&(e=this.currentVideoIndex),this.currentVideoIndex=e;var r=this.list[this.currentVideoIndex],n=r&&r.url;n&&this.variantsList[this.selectedVariant]&&(n=n.replace(this.variantSearchPattern,this.variantsList[this.selectedVariant].file)),n&&(h.isHls(n)&&!h.supportNativeHls(this.video)?h.externalHlsSupport()?(a.debugLog(this.players,"init hls",!0),this.hls=h.initHls(n,this.video,function(e){t.destroyHls(),d.notifyApi(t.players,null,"content.error",{src:n,errorMsg:e})})):d.notifyApi(this.players,null,"content.error",{src:n,errorMsg:"hls is not supported"}):h.setVideoSrc(this.players,this.video,n),d.notifyApi(this.players,null,"content.changed",{url:this.video.src,clickUrl:r&&r.clickUrl||this.clickUrl,index:this.currentVideoIndex,variant:this.selectedVariant,time:this.video.currentTime}),this.videoChanged=!0)},e.prototype.nativeContolsVisible=function(){return this.visible&&this.video.controls},e.prototype.getClickData=function(){if(this.poster)return{targetUrl:this.posterUrl,clickUrl:this.clickUrl};var e=this.list[this.currentVideoIndex].clickUrl||this.clickUrl;return{targetUrl:this.video.src,clickUrl:e}},e.prototype.createPoster=function(){this.poster=document.createElement("div"),i.assignClass(this.poster,"content_poster"),this.spinner?this.container&&this.container.insertBefore(this.poster,this.spinner):this.container&&this.container.appendChild(this.poster)},e.prototype.removePoster=function(){this.poster&&this.poster.parentNode&&this.poster.parentNode.removeChild(this.poster),this.poster=null},e.prototype.createSpinner=function(){this.spinner=document.createElement("div"),i.assignClass(this.spinner,"spinner"),this.container&&this.container.appendChild(this.spinner)},e.prototype.showSpinner=function(){this.spinner||this.createSpinner(),this.spinner.style.display=""},e.prototype.hideSpinner=function(){this.spinner&&(this.spinner.style.display="none")},e.prototype.destroyHls=function(){try{this.hls&&(this.hls.destroy(),this.hls=null)}catch(e){}},e.prototype.nextVideo=function(){return this.destroyHls(),this.started=!1,this.currentVideoIndex<this.list.length-1?(this.setVideoSrc(this.currentVideoIndex+1),!0):!!this.loop&&(1==this.list.length?this.video.currentTime=0:this.setVideoSrc(0),!0)},e.prototype.play=function(){this.video&&this.video.src&&n.validateVideoStart(this.players,this.video,this.video.play(),"content")},e.prototype.pause=function(){this.video&&!this.video.paused&&this.video.pause()},e.prototype.showContent=function(){this.container&&!this.visible&&(this.visible=!0,this.container.style.zIndex="10001",this.container.style.display="")},e.prototype.hideContent=function(){this.container&&this.visible&&(this.visible=!1,this.container.style.zIndex="1",this.container.style.display="none")},e.prototype.setContent=function(e){this.init(e),this.video&&(this.video.controls=this.controlBar,this.setVideoSrc(0)),this.setContentImage(),d.playerResetSchedule(this.players)&&this.start()},e.prototype.setContentUrls=function(e,t){this.list=this.getList({url:e}),this.video&&(t&&(this.savedTime=this.video.currentTime),this.setVideoSrc(0),this.start())},e.prototype.setPosterImage=function(e,t){this.poster&&(this.poster.style.backgroundImage="url("+c.upgradeProtocol(this.players.protocol,e)+")",t&&(this.poster.style.backgroundSize=t))},e.prototype.setContentImage=function(e){e&&this.initPoster(e),this.posterUrl?(this.poster||this.createPoster(),this.setPosterImage(this.posterUrl,this.posterPosition)):this.removePoster()},e.prototype.seekContent=function(e){this.video&&(this.video.currentTime=e)},e.prototype.isVisible=function(){return this.visible},e.prototype.removeContent=function(){this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container)},e.prototype.setVolume=function(e,t,r){this.video&&(!this.players.muteToPlay||t||r)&&(void 0!==t&&this.video.muted!==t&&(this.video.muted=t),this.video.volume!==e&&(this.video.volume=e))},e.prototype.start=function(){var e=this;this.players.closed||u.safeguard("startContent",{players:this.players,log:!0},function(){e.videoChanged||e.wait?e.showSpinner():e.hideSpinner(),e.players.anyPlaying||(e.showContent(),e.players.paused||e.wait?e.pause():e.play())})},e.prototype.hide=function(){this.pauseContent(),this.hideContent()},e.prototype.pauseContent=function(){this.hideSpinner(),this.pause()},e.prototype.setWait=function(e){this.wait=e},e.prototype.getUrl=function(){return this.list.length>0?this.list[this.currentVideoIndex]&&this.list[this.currentVideoIndex].url:""},e.prototype.getHTMLVideoElement=function(){return this.video&&!h.jsvCanvas(this.video)?this.video:null},e.prototype.getProgress=function(){var e=this.video.duration;return{time:Math.min(this.video.currentTime,e),duration:e}},e.getListFromUrls=function(e){return("string"==typeof e?e.split(","):e).map(function(e){return{url:e}})},e}();function f(e,t){var r=e.contentDefinition;try{("string"==typeof t||t instanceof Array)&&(t={video:{url:t}}),t.video&&(("string"==typeof t.video||t.video instanceof Array)&&(t.video={url:t.video}),t.video.url&&(r.video.url=t.video.url),t.video.clickUrl&&(r.video.clickUrl=t.video.clickUrl),t.video.list?r.video.list=t.video.list:t.video.url&&(r.video.list=A.getListFromUrls(t.video.url)),null!=t.video.start&&(r.video.start=t.video.start),null!=t.video.shuffle&&(r.video.shuffle=!!t.video.shuffle),null!=t.video.loop&&(r.video.loop=!!t.video.loop),null!=t.video.controlBar&&(r.video.controlBar=!!t.video.controlBar)),g(e,t.image),t.variants&&(r.variants=r.variants||{},t.variants.list&&(r.variants.list=t.variants.list),t.variants.selected&&(r.variants.selected=t.variants.selected),t.variants.searchPattern&&(r.variants.searchPattern=t.variants.searchPattern)),null!=t.wait&&(r.wait=!!t.wait)}catch(t){a.debugLog(e," overrride content parameters error"+t.message,!1)}}function g(e,t){var r=e.contentDefinition;t?("string"==typeof t&&(t={url:t}),t.url&&(r.image.url=t.url),t.position&&(r.image.position=t.position)):null===t&&(r.image={})}function v(e){u.safeguard("createContentPlayer",{players:e,log:!0},function(){e.contentDefinition.external?e.content=new s.ExternalContent(e,e.contentDefinition):e.content=new A(e,e.contentDefinition)})}t.ContentElement=A,t.initContentDefinition=function(e,t,r,n){if(e.contentDefinition=t?{video:{url:t.url,clickUrl:t.click,loop:!!t.cl,shuffle:null!=t.shuffle?!!t.shuffle:null,controlBar:null!=t.co?t.co:e.controlBar},image:{url:t.loader_image_url,position:""},variants:t.variants,wait:t.wait,external:null}:{video:{controlBar:e.controlBar},image:{},variants:null,wait:!1,external:null},r&&f(e,r),n)try{n.Url&&(e.contentDefinition.video.url=n.Url),n.ClickUrl&&(e.contentDefinition.video.clickUrl=n.ClickUrl),n.Image&&(e.contentDefinition.image.url=n.Image),n.ImagePosition&&(e.contentDefinition.image.position=n.ImagePosition),n.External&&(e.contentDefinition.external=n.External)}catch(t){a.debugLog(e," overrride content settings error"+t.message,!1)}},t._setContent=function(e,t){f(e,t),e.content instanceof A&&e.content.setContent(e.contentDefinition)},t._setContentUrls=function(e,t,r){e.content instanceof A&&e.content.setContentUrls(t,r)},t._setContentVariant=function(e,t){e.content instanceof A&&e.content.setVideoVariant(t)},t._setContentImage=function(e,t,r){g(e,null!==t?{url:t,position:r}:null),e.content instanceof A&&e.content.setContentImage(e.contentDefinition)},t._seekContent=function(e,t){e.content instanceof A&&e.content.seekContent(t)},t._setExtContent=function(e,t){e.contentDefinition.external={params:t},e.content&&v(e)},t.createContentPlayer=v},,function(e,t,r){var n;
/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */!function(i){var a=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=10;function s(){this._events={},this._conf&&l.call(this,this._conf)}function l(e){e&&(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),e.maxListeners&&(this._events.maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),this.wildcard&&(this.listenerTree={}))}function d(e){this._events={},this.newListener=!1,l.call(this,e)}function u(e,t,r,n){if(!r)return[];var i,a,o,s,l,d,c,p=[],h=t.length,A=t[n],f=t[n+1];if(n===h&&r._listeners){if("function"==typeof r._listeners)return e&&e.push(r._listeners),[r];for(i=0,a=r._listeners.length;i<a;i++)e&&e.push(r._listeners[i]);return[r]}if("*"===A||"**"===A||r[A]){if("*"===A){for(o in r)"_listeners"!==o&&r.hasOwnProperty(o)&&(p=p.concat(u(e,t,r[o],n+1)));return p}if("**"===A){for(o in(c=n+1===h||n+2===h&&"*"===f)&&r._listeners&&(p=p.concat(u(e,t,r,h))),r)"_listeners"!==o&&r.hasOwnProperty(o)&&("*"===o||"**"===o?(r[o]._listeners&&!c&&(p=p.concat(u(e,t,r[o],h))),p=p.concat(u(e,t,r[o],n))):p=o===f?p.concat(u(e,t,r[o],n+2)):p.concat(u(e,t,r[o],n)));return p}p=p.concat(u(e,t,r[A],n+1))}if((s=r["*"])&&u(e,t,s,n+1),l=r["**"])if(n<h)for(o in l._listeners&&u(e,t,l,h),l)"_listeners"!==o&&l.hasOwnProperty(o)&&(o===f?u(e,t,l[o],n+2):o===A?u(e,t,l[o],n+1):((d={})[o]=l[o],u(e,t,{"**":d},n+1)));else l._listeners?u(e,t,l,h):l["*"]&&l["*"]._listeners&&u(e,t,l["*"],h);return p}d.EventEmitter2=d,d.prototype.delimiter=".",d.prototype.setMaxListeners=function(e){this._events||s.call(this),this._events.maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e},d.prototype.event="",d.prototype.once=function(e,t){return this.many(e,1,t),this},d.prototype.many=function(e,t,r){var n=this;if("function"!=typeof r)throw new Error("many only accepts instances of Function");function i(){0==--t&&n.off(e,i),r.apply(this,arguments)}return i._origin=r,this.on(e,i),n},d.prototype.emit=function(){this._events||s.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return!1;var t,r,n,i,a,o=arguments.length;if(this._all&&this._all.length){if(a=this._all.slice(),o>3)for(t=new Array(o),i=1;i<o;i++)t[i]=arguments[i];for(n=0,r=a.length;n<r;n++)switch(this.event=e,o){case 1:a[n].call(this,e);break;case 2:a[n].call(this,e,arguments[1]);break;case 3:a[n].call(this,e,arguments[1],arguments[2]);break;default:a[n].apply(this,t)}}if(this.wildcard){a=[];var l="string"==typeof e?e.split(this.delimiter):e.slice();u.call(this,a,l,this.listenerTree,0)}else{if("function"==typeof(a=this._events[e])){switch(this.event=e,o){case 1:a.call(this);break;case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(o-1),i=1;i<o;i++)t[i-1]=arguments[i];a.apply(this,t)}return!0}a&&(a=a.slice())}if(a&&a.length){if(o>3)for(t=new Array(o-1),i=1;i<o;i++)t[i-1]=arguments[i];for(n=0,r=a.length;n<r;n++)switch(this.event=e,o){case 1:a[n].call(this);break;case 2:a[n].call(this,arguments[1]);break;case 3:a[n].call(this,arguments[1],arguments[2]);break;default:a[n].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},d.prototype.emitAsync=function(){this._events||s.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,r,n,i,a,o=[],l=arguments.length;if(this._all){if(l>3)for(t=new Array(l),i=1;i<l;i++)t[i]=arguments[i];for(n=0,r=this._all.length;n<r;n++)switch(this.event=e,l){case 1:o.push(this._all[n].call(this,e));break;case 2:o.push(this._all[n].call(this,e,arguments[1]));break;case 3:o.push(this._all[n].call(this,e,arguments[1],arguments[2]));break;default:o.push(this._all[n].apply(this,t))}}if(this.wildcard){a=[];var d="string"==typeof e?e.split(this.delimiter):e.slice();u.call(this,a,d,this.listenerTree,0)}else a=this._events[e];if("function"==typeof a)switch(this.event=e,l){case 1:o.push(a.call(this));break;case 2:o.push(a.call(this,arguments[1]));break;case 3:o.push(a.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(l-1),i=1;i<l;i++)t[i-1]=arguments[i];o.push(a.apply(this,t))}else if(a&&a.length){if(l>3)for(t=new Array(l-1),i=1;i<l;i++)t[i-1]=arguments[i];for(n=0,r=a.length;n<r;n++)switch(this.event=e,l){case 1:o.push(a[n].call(this));break;case 2:o.push(a[n].call(this,arguments[1]));break;case 3:o.push(a[n].call(this,arguments[1],arguments[2]));break;default:o.push(a[n].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(o)},d.prototype.on=function(e,t){if("function"==typeof e)return this.onAny(e),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");if(this._events||s.call(this),this.emit("newListener",e,t),this.wildcard)return function(e,t){for(var r=0,n=(e="string"==typeof e?e.split(this.delimiter):e.slice()).length;r+1<n;r++)if("**"===e[r]&&"**"===e[r+1])return;for(var i=this.listenerTree,s=e.shift();s;){if(i[s]||(i[s]={}),i=i[s],0===e.length){if(i._listeners){if("function"==typeof i._listeners)i._listeners=[i._listeners,t];else if(a(i._listeners)&&(i._listeners.push(t),!i._listeners.warned)){var l=o;void 0!==this._events.maxListeners&&(l=this._events.maxListeners),l>0&&i._listeners.length>l&&(i._listeners.warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",i._listeners.length),console.trace&&console.trace())}}else i._listeners=t;return!0}s=e.shift()}return!0}.call(this,e,t),this;if(this._events[e]){if("function"==typeof this._events[e])this._events[e]=[this._events[e],t];else if(a(this._events[e])&&(this._events[e].push(t),!this._events[e].warned)){var r=o;void 0!==this._events.maxListeners&&(r=this._events.maxListeners),r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),console.trace&&console.trace())}}else this._events[e]=t;return this},d.prototype.onAny=function(e){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),this._all.push(e),this},d.prototype.addListener=d.prototype.on,d.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var r,n=[];if(this.wildcard){var o="string"==typeof e?e.split(this.delimiter):e.slice();n=u.call(this,null,o,this.listenerTree,0)}else{if(!this._events[e])return this;r=this._events[e],n.push({_listeners:r})}for(var s=0;s<n.length;s++){var l=n[s];if(r=l._listeners,a(r)){for(var d=-1,c=0,p=r.length;c<p;c++)if(r[c]===t||r[c].listener&&r[c].listener===t||r[c]._origin&&r[c]._origin===t){d=c;break}if(d<0)continue;return this.wildcard?l._listeners.splice(d,1):this._events[e].splice(d,1),0===r.length&&(this.wildcard?delete l._listeners:delete this._events[e]),this.emit("removeListener",e,t),this}(r===t||r.listener&&r.listener===t||r._origin&&r._origin===t)&&(this.wildcard?delete l._listeners:delete this._events[e],this.emit("removeListener",e,t))}return function e(t){if(t!==i){var r=Object.keys(t);for(var n in r){var a=r[n],o=t[a];o instanceof Function||"object"!=typeof o||(Object.keys(o).length>0&&e(t[a]),0===Object.keys(o).length&&delete t[a])}}}(this.listenerTree),this},d.prototype.offAny=function(e){var t,r=0,n=0;if(e&&this._all&&this._all.length>0){for(r=0,n=(t=this._all).length;r<n;r++)if(e===t[r])return t.splice(r,1),this.emit("removeListenerAny",e),this}else{for(r=0,n=(t=this._all).length;r<n;r++)this.emit("removeListenerAny",t[r]);this._all=[]}return this},d.prototype.removeListener=d.prototype.off,d.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||s.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),r=u.call(this,null,t,this.listenerTree,0),n=0;n<r.length;n++){r[n]._listeners=null}else{if(!this._events||!this._events[e])return this;this._events[e]=null}return this},d.prototype.listeners=function(e){if(this.wildcard){var t=[],r="string"==typeof e?e.split(this.delimiter):e.slice();return u.call(this,t,r,this.listenerTree,0),t}return this._events||s.call(this),this._events[e]||(this._events[e]=[]),a(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},d.prototype.listenersAny=function(){return this._all?this._all:[]},(n=function(){return d}.call(t,r,t,e))===i||(e.exports=n)}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4),i=r(3);function a(e){return e&&e.canvas}t.createVideoElement=function(e,t){void 0===t&&(t=!1);var r=null;return e.usejsv?((r=e.JSV.createVideoElement()).proxyUrl=function(r){return n.getVprUrl(r,e,t&&"c")},e.isDebugVersion&&(r.className=r.className+i.cssClass("jsv_marker"))):r=document.createElement("video"),r.preload="auto",r.muted=e.muteToPlay||e.muted,r.volume=e.volume,r.playsInline=!0,r},t.createHTMLVideoElement=function(e){var t=document.createElement("video");return t.muted=e.muteToPlay||e.muted,t.volume=e.volume,t.playsInline=!0,t},t.jsvCanvas=a,t.setVideoSrc=function(e,t,r){t&&r&&(a(t)?t.setAttribute("src",r):t.src=n.upgradeProtocol(e.protocol,r))},t.videoErrorMessage=function(e){var t=e.error,r="";switch(t.code){case t.MEDIA_ERR_ABORTED:r="Video playback aborted.";break;case t.MEDIA_ERR_NETWORK:r="A network error.";break;case t.MEDIA_ERR_DECODE:r="The video playback decode error.";break;case t.MEDIA_ERR_SRC_NOT_SUPPORTED:r="The video format is not supported.";break;default:r="An unknown error occurred."}return r},t.isHls=function(e){return/.+\.m3u8$/.test(e)},t.supportNativeHls=function(e){return e.canPlayType("application/vnd.apple.mpegurl")},t.externalHlsSupport=function(){try{if(Hls&&Hls.isSupported())return!0}catch(e){}return!1},t.initHls=function(e,t,r){try{var n=new Hls;return n.loadSource(e),n.attachMedia(t),n.on(Hls.Events.ERROR,function(e,t){if(t.fatal)switch(t.type){case Hls.ErrorTypes.NETWORK_ERROR:r("fatal network error encountered, try to recover"),n.startLoad();break;case Hls.ErrorTypes.MEDIA_ERROR:r("fatal media error encountered, try to recover"),n.recoverMediaError();break;default:r("fatal error, cannot recover"),n.destroy()}}),n}catch(e){return null}}},function(e,t,r){"use strict";r.r(t),r.d(t,"SVGNamespace",function(){return c}),r.d(t,"preventDefault",function(){return p}),r.d(t,"stopPropagation",function(){return h}),r.d(t,"createElement",function(){return f}),r.d(t,"DOM",function(){return u});var n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i=Object.keys;function a(e){return e&&"number"==typeof e.nodeType}function o(e){return"string"==typeof e}function s(e){return e&&("object"==typeof e||l(e))}function l(e){return"function"==typeof e}function d(e){return function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return(a(t)||o(t))&&(r.unshift(t),t={}),f(e,t,r)}}var u=function(e){for(var t=0,r=i(e);t<r.length;t++){var n=r[t];e[n]=d(n)}return e}({a:0,blockquote:0,button:0,div:0,em:0,form:0,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,hr:0,img:0,input:0,li:0,link:0,ol:0,p:0,script:0,span:0,strong:0,table:0,thead:0,td:0,th:0,tr:0,ul:0}),c="http://www.w3.org/2000/svg";function p(e){return e.preventDefault(),e}function h(e){return e.stopPropagation(),e}function A(e){return Array.isArray(e)?e.map(A).filter(Boolean).join(" "):s(e)?i(e).filter(function(t){return e[t]}).join(" "):function(e){return!function(e){return"boolean"==typeof e}(e)&&null!=e}(e)?""+e:""}function f(e,t){for(var r,a=[],d=2;d<arguments.length;d++)a[d-2]=arguments[d];return t=t||{},o(e)?(function(e,t){for(var r=0,a=i(e);r<a.length;r++){var o=a[r],d=e[o];switch(o){case"style":if(s(d)){n(t[o],d);continue}break;case"dataset":n(t[o],d);continue;case"innerHTML":case"innerText":case"textContent":t[o]=d;continue;case"spellCheck":t.spellcheck=d;case"class":case"className":t.setAttribute("class",A(d));continue;case"ref":case"namespaceURI":continue}if(l(d)){if("on"===o.substr(0,2)){var u=o.slice(2).toLowerCase();m(t,u,d)}}else t&&(!0===d?t.setAttribute(o,""):!1!==d&&null!=d&&t.setAttribute(o,d))}}(t,r=t.namespaceURI?document.createElementNS(t.namespaceURI,e):document.createElement(e)),v(a,r)):l(e)&&(r=e(n({},t,{children:a}))),l(t.ref)&&t.ref(r),r}function g(e,t){!function(e){return s(e)&&"number"==typeof e.length&&"number"!=typeof e.nodeType}(e)?o(e)||function(e){return"number"==typeof e}(e)?t.appendChild(document.createTextNode(e)):null===e?t.appendChild(document.createComment("")):a(e)&&t.appendChild(e):v(e,t)}function v(e,t){if(a(e)||o(e))g(e,t);else for(var r=0,n=e;r<n.length;r++){g(n[r],t)}return t}function m(e,t,r){return e.addEventListener(t,r),e}},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9),i=r(4),a=r(32),o=r(0),s=r(12);function l(e,t,r,a){if("function"==typeof e.triggerAll)return e.triggerAll(t,r,a);for(var s=0,l=r=n.ensureArray(r);s<l.length;s++){var d=l[s];if(d.url&&(null==d.rate||Math.random()<d.rate)){var u=d.url;a&&(u=a(u)),u=i.upgradeProtocol(e.protocol,u);var c=null;d.type&&"script"===d.type?(e.injectScript(u,!0),c=" inject script "):d.type&&"iframe"===d.type?(e.injectIframe(u),c=" inject iframe "):(e.sendPixel(u),c=" send image "),t?o.debugLogVast(e,t,"callback"+c+u,!1):o.debugLog(e,"callback"+c+u,!1)}}}t.triggerBeacon=function(e,t,r,n){try{for(var i={},o=[],d=e&&e.beacons&&e.beacons[r]||[],u=t&&t.beacons&&t.beacons[r]||[],c=0,p=0,h=u;p<h.length;p++){var A=h[p];i[A.id||"__u"+c++]=A}for(var f=0,g=d;f<g.length;f++){var v=g[f],m=i[v.id];i[(m=m?s.assign({},v,m):v).id||"__u"+c++]=m}if(s.forEach(function(e){return o.push(e)},i),o&&o.length>0){var y=a.macros(e,t,n);l(e,t,o,y)}}catch(e){}},t.triggerAll=l},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),a=r(7),o=r(0),s=r(15),l=r(17),d=r(12),u=r(16),c=r(6),p=r(25),h=r(14),A=r(10),f=r(5),g=r(8),v=r(9),m=r(30),y=function(e){function t(t,r,n){var o=e.call(this)||this;o.maxFailedVastRetries=0,o.maxAdStarts=0,o.lastChanceRetry=!1,o.vastErrorWasReported=!1,o.adType=null,o.curAdStarts=0,o.errorCount=0,o.totalRoundNo=0,o.retryCount=0,o.rotationNo=0,o.durationKnown=!1,o.viewable=!1,o.logStartWasDone=!1,o.logLoadWasDone=!1,o.vastResponseXML=null,o.requestedVastURL=null,o.wrapperCount=0,o.delay={},o.skippable=!1,o.unlocked=!1,o.firedEvents={},o.finishPromiseResolve=function(){},o.finishPromise=new g.Promise(function(e){o.finishPromiseResolve=e}),o.timers=null,o.flowTimeout=new h.default,o.sameVastTimer=new h.default,o.startAdHalfTimeout=new h.default,o.impressionAfterStartTimeout=new h.default,o.requeryTimeout=null,o.initAdThrottler=null,o.callPauseTimer=new h.default(100),o.skipTimer=new h.default,o.failSkipTimer=new h.default(300),o.nonLinearCompleteTimer=new h.default,o.state=i.PlayerDataState.None,o.videoElement=null,o.companionsElementDiv=null,o.moatAPI=null,o.brandMenuHandlers={},o.allowSameVastLoad=function(){return!o.reachedMaxAdStarts()&&!a.isCold(o.players,null,"SameVastLoad")},o.players=t,o.gpvDemand=r,d.assignWhen(d.NotNull,o,{cxvid:d.number(r.cxvid),cxpid:d.number(r.cxpid),demandId:d.string(r.dmid),group:d.number(r.group,NaN),vastId:d.number(r.id,NaN),vastURL:d.string(r.url),playerId:d.number(r.pid,o.players.playerId),maxAdStarts:d.number(r.mas),cookie:d.string(r.ck),cookieJson:r.cookieJson,delay:r.delay,beacons:r.callbacks}),o.uniqId=++o.players.curUniq,o.originalUniqId=n?n.originalUniqId:o.uniqId,m.readDemandConfig(t,o,r),o.timers=d.assign({},t.timers,r.timers),o.sameVastTimer.Seconds(o.timers.duplicate),o.startAdHalfTimeout.Seconds(o.timers.startAdHalf),o.impressionAfterStartTimeout.Seconds(o.timers.impressionAfterStart);var l=!1;r.mvr&&(o.maxFailedVastRetries=n?n.maxFailedVastRetries:d.number(r.mvr),o.maxFailedVastRetries>1&&o.maxFailedVastRetries<50&&(o.maxFailedVastRetries=2*o.maxFailedVastRetries,l=!0)),s.logMaxFailedRetries(o.players,o,l);var u=r.capt,c=d.number(r.aq,null),p=d.number(r.aqr,null);switch(o.quotaExpirationSec=d.number(r.caps,null),o.quotaExpirationTime=null!=o.quotaExpirationSec?(new Date).getTime()+1e3*o.quotaExpirationSec:null,u){case a.CAP_TYPE.AD_REQUEST:o.allocatedQuotaReq=c,o.allocatedQuotaImp=p;break;case a.CAP_TYPE.AD_START:default:o.allocatedQuotaImp=c,o.allocatedQuotaReq=p}return o.customVars={rpm:r.rpm,cx_rpm:r.cxrpm},n&&(o.rotationNo=n.rotationNo+1,o.totalRoundNo=n.totalRoundNo,o.curAdStarts=n.curAdStarts,o.duplicatedNow=!0,o.withCredentials=n.withCredentials),o}return n(t,e),t.prototype.duplicatePlayed=function(){return o.debugLogVast(this.players,this,"duplicating player data",!1),new _(this.players,this.gpvDemand,this)},t.prototype.reachedMaxAdStarts=function(){return this.curAdStarts>=v.pick([d.Truly,Math.min],this.maxAdStarts,this.players.demandMaxAdStarts,1/0)},t.prototype.isNonLinear=function(){return!1},t.prototype.initNonLinearCompleter=function(){},t.prototype.unlockAdSlot=function(){this.videoElement&&(this.unlocked=!0,this.videoElement.load())},t.prototype.isUnlocked=function(){return this.unlocked},t.prototype.fetchAdUrl=function(e){},t.prototype.initCompanion=function(e){if(void 0===e&&(e=document),this.companionHTML)try{this.companionsElementDiv||(this.companionsElementDiv=e.createElement("div"),this.companionsElementDiv.setAttribute("style","width:100%;height:100%;position:relative;top:-"+this.players.height+"px;z-index:0;"),this.insertCompanion()),this.companionsElementDiv&&(o.debugLogVast(this.players,this,"companionHTML: "+this.companionHTML,!1),this.companionsElementDiv.innerHTML=this.companionHTML)}catch(e){}},t.prototype.insertCompanion=function(){this.players.divElem.appendChild(this.companionsElementDiv)},t.prototype.initMedia=function(){var e=this;return this.players.domIsReady?o.debugLogVast(this.players,this,"dom is ready - calling initMedia",!1):o.debugLogVast(this.players,this,"dom is not ready - initMedia will be called later",!1),this.adContainersReady.then(function(){e.state=i.PlayerDataState.Loading,o.debugLogVast(e.players,e,"initMedia: initializing "+e.adType+", url "+e.mediaURL,!1)})},t.prototype.canPlay=function(e,t){return this.state==i.PlayerDataState.Ready&&(this.players.clickToPlay?e||this.isUnlocked():void 0==t||this.group<=t)},t.prototype.onAdResponse=function(){return l.logVastActualRequest(this.players,this),!a.isCold(this.players,this,"FetchVastResponse")},t.prototype.getRequeryFrequency=function(){var e=0;return e=this.players.freqRetry?this.errorCount<10?1e3+Math.floor(500*Math.random()):this.errorCount<100?2e3+Math.floor(500*Math.random()):this.errorCount<110?2e3+Math.floor(1500*Math.random()):1e4:1==this.errorCount?200:this.errorCount<4?1e3:this.errorCount<10?1e3*this.errorCount:this.errorCount<100?1e4:100==this.errorCount?2e3:this.errorCount<104?3e3:this.errorCount<110?6e3:3e4,e*=this.players.vastWaitFactor,this.lastChanceRetry&&(e=50),o.debugLogVast(this.players,this,"wait is set to "+e+", ec: "+this.errorCount,!1),e},t.prototype.syncVolume=function(e){this.setAdVolume&&this.setAdVolume(this.players.volume,this.players.muted,e)},t.prototype.getSkipOffset=function(){return this.skipOffset},t.prototype.getAdSkippableState=function(){var e=this.getSkipOffset();if(e>0){var t=this.getProgress(),r=t&&t.time>0&&t.time||this.playsForSeconds();if(r>=0){var n=Math.floor(r)-e;return!(n<0)||n}}return!1},t.prototype.isSkippable=function(){var e=this.getAdSkippableState();return"number"==typeof e?e<0:e},t.prototype.skipAd=function(){this.onSkip()},t.prototype.onSkip=function(){o.debugLogVast(this.players,this,"ad was skippped",!1),c.notifyApi(this.players,this,"ad.skipped"),this.players.serverEvents.demandEvent(this,{name:"AdSkipped"}),l.logVastEvent(this.players,f.CEDATO_EVENT.E_AD_SKIPPED,this,{}),!this.skipVastTracker&&this.vastTracker&&this.vastTracker.skip(),this.players.beingVpaid&&u.callingVpaidEvent(this.players,"jsAdSkipped",{}),this.failSkipTimer.cancel(),A.finishPlayerData(this.players,this,i.TerminateReason.SKIP)},t.prototype.allowUnmute=function(e,t){return!this.players.muteToPlay||this.players.muteToPlay&&(e||t||this.isUnlocked())},t.prototype.showControlBar=function(){return null==this.controlBar||this.controlBar},t.prototype.showAd=function(){this.adContainer&&(this.adContainer.style.zIndex="10000",this.adContainer.style.position="absolute")},t.prototype.hideAd=function(){this.adContainer&&(this.adContainer.style.zIndex=(1-this.uniqId).toString())},t.prototype.destroyAd=function(){},t.prototype.verifyVastTrackerPropress=function(e){var t=a.QUARTILE_NAMES[e];this.skipVastTracker||(this.vastTracker?(a.verifyPlayerProgress(e,this.players,this),e==a.Quartiles.COMPLETE&&this.vastTracker.complete()):f.playerError(this.players,i.PlayerError.GENERAL,"no vastTracker for "+t,null))},t.prototype.onQuartile=function(e){if(this.state==i.PlayerDataState.Playing){var t=a.QUARTILE_NAMES[e];o.debugLogVast(this.players,this,"got ad "+t+" callback",!1),this.verifyVastTrackerPropress(e),this.players.beingVpaid&&u.callingVpaidEvent(this.players,"jsAd"+(t&&t[0].toUpperCase()+t.slice(1)),{}),l.logVastProgress(this.players,this,e),c.notifyApi(this.players,this,"ad."+t,{listCompleted:this.players.frozen})}},t.prototype.onComplete=function(){this.verifyVastTrackerPropress(a.Quartiles.COMPLETE),this.players.beingVpaid&&(u.callingVpaidEvent(this.players,"jsAdComplete",{}),u.callingVpaidEvent(this.players,"jsAdStopped",{}),this.players.divElem.style.display="none"),l.logVastProgress(this.players,this,a.Quartiles.COMPLETE),p.triggerBeacon(this.players,this,"adcomplete")},t.prototype.viewableForSeconds=function(){return this.viewable&&this.viewableAt?(Date.now()-this.viewableAt)/1e3:-1},t.prototype.playsForSeconds=function(){return this.playedAt?(Date.now()-this.playedAt)/1e3:-1},t.prototype.getErrorEvent=function(e){var t={name:"AdError",errorCode:a.VAST_ERROR.GENERAL_ERROR,message:e.message},r=!1;return this.state==i.PlayerDataState.Started?e.code==a.VAST_ERROR.DOUBLE_PARALLEL_STARTED||e.code==a.VAST_ERROR.PARALLEL_STARTED?t={name:"AdParallelStartedError",errorCode:e.code,message:e.message}:e.code==a.VAST_ERROR.AD_STARTED_TIMEOUT_ERROR?(t={name:"AdImpressionError",errorCode:e.code,message:e.message,timeout:!0},r=!0):(t={name:"AdImpressionError",errorCode:e.code==a.VAST_ERROR.GENERAL_ERROR?a.VAST_ERROR.AD_STARTED_ERROR:e.code,message:e.message},r=!0):this.state==i.PlayerDataState.Playing&&e.code==a.VAST_ERROR.LONG_IMPRESSION&&(t={name:"AdLongImpressionError",errorCode:e.code,message:e.message,timeout:!0},r=!0),{event:t,timed:r}},t}(m.PlayerDataParams);function E(){console.error("Abstract function call",(new Error).stack)}t.PlayerData=y;var _=function(e){function t(t,r,n){return e.call(this,t,r,n)||this}return n(t,e),t.prototype.initAd=function(){E()},t.prototype.pauseAd=function(){E()},t.prototype.resumeAd=function(){E()},t.prototype.showAd=function(){E()},t.prototype.hideAd=function(){},t.prototype.startAd=function(){E()},t.prototype.stopAd=function(){},t.prototype.clearAd=function(){},t.prototype.destroyAd=function(){},t.prototype.resizeAd=function(e,t,r){},t.prototype.setAdVolume=function(e,t,r){},t.prototype.getAdVolume=function(){return null},t.prototype.getProgress=function(){return null},t.prototype.showControlBar=function(){return!0},t}(y);t.PlayerDataPlaceHolder=_},function(e,t,r){"use strict";function n(e,t,r,n,o){void 0===e&&(e=window),void 0===n&&(n=!1),void 0===o&&(o=null);var s=e.XMLHttpRequest,l=function(){var e=new s;return["error","load","timeout"].forEach(function(t){return e.addEventListener(t,function(e){l.event&&l.event.emit(e.type,e,this,l)})}),e.open=function(e,t,n,i,o){this.url=t;var d={type:"open",url:t,method:e},u=a(r,t,"xhr");if(arguments.length>=3&&(d.async=n),u&&(d.type="blocked"),l.event&&l.event.emit(d.type,d,this,l),!u)return s.prototype.open.apply(this,arguments)},e.send=function(){if(e.readyState==e.OPENED)return s.prototype.send.apply(this,arguments)},e};l.prototype=s.prototype,l.tag=o,l.parent=e.parent&&e.parent!==e&&e.parent.XMLHttpRequest,l.event=t||l.parent.event,e.XMLHttpRequest=l;try{n&&i(e)}catch(e){}return l.event}function i(e){if(e!=e.parent){var t;if(e.Proxy)t=new e.Proxy(e.parent,{get:function(t,r){switch(r){case"XMLHttpRequest":return e.XMLHttpRequest;default:return"function"==typeof t[r]?t[r].bind(t):t[r]}}});else for(var r in t=Object.create(e.__proto__),Object.assign(t,e.parent),t.XMLHttpRequest=e.XMLHttpRequest,t)"function"==typeof t[r]&&(t[r]=t[r].bind(e.parent));e.parent=t}}function a(e,t,r){return e&&e.some(function(e){return"string"==typeof e?-1!=t.indexOf(e):e.test(t)})}Object.defineProperty(t,"__esModule",{value:!0}),t.interceptXHR=n,t.patchIframeXHR=function e(t,r,i,a,o){n(t,r,i,null!=o,o);var s=t.document,l=s.createElement;s.createElement=function(n){var o=l.call(s,n);if("iframe"!==n.toLowerCase())return o;var d,u=!1,c=!1,p=function(){if(u)return d&&d.disconnect(),void(d=null);try{if(o.src&&o.src.startsWith("http"))return a&&(o.parentNode.removeChild(o),r&&r.emit("iframeBlock",{type:"iframeBlock",src:o.src},null,t.XMLHttpRequest)),void(u=!0);if(!o.contentDocument)return;c||(e(o.contentWindow,r,i,a),c=!0);var n=o.contentWindow.XMLHttpRequest;n.tag?u=!0:n.tag=function(e){try{var t=e.contentDocument.querySelector("script");if(t)return t.src}catch(e){}return null}(o)}catch(e){u=!0}};return MutationObserver&&(d=new MutationObserver(p)).observe(o,{attributes:!0,childList:!0,characterData:!0}),o.addEventListener("load",p),setTimeout(p,5),o}},t.proxyParent=i,t.isBlocked=a,t.BlackLists={lk:["lkqd.net"],dfp:["lkqd.net","palamel.com","mobileadslink.com","mytbar.com"]}},,function(e,t){var r,n,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var l,d=[],u=!1,c=-1;function p(){u&&l&&(u=!1,l.length?d=l.concat(d):c=-1,d.length&&h())}function h(){if(!u){var e=s(p);u=!0;for(var t=d.length;t;){for(l=d,d=[];++c<t;)l&&l[c].run();c=-1,t=d.length}l=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function A(e,t){this.fun=e,this.array=t}function f(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];d.push(new A(e,t)),1!==d.length||u||s(h)},A.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=f,i.addListener=f,i.once=f,i.off=f,i.removeListener=f,i.removeAllListeners=f,i.emit=f,i.prependListener=f,i.prependOnceListener=f,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(12),i=r(0),a=function(){return function(){this.expectedSureFastStart=!1,this.iframeSlot=!0,this.impressionOnlyWithVideoStart=!1,this.suggestedDuration=10,this.useIMA=null,this.vastPreferType=null,this.vpaidUseJSV=!0,this.withCredentials=null,this.wrapperCredentials=!1,this.wrapperLimit=10,this.moat=null}}();t.PlayerDataParams=a;var o=function(){return function(e,t,r,i){void 0===i&&(i=n.NotNull),this.parser=e,this.parName=t,this.prio=r,this.filter=i}}();t.DemandParams={controlBar:new o(n.boolean,"co"),disableSameVastPrefetch:new o(n.boolean,"dsvp"),expectedSureFastStart:new o(n.boolean,"sff"),iframeSlot:new o(n.boolean,"ifsl"),impressionOnlyWithVideoStart:new o(n.boolean,"strictImp"),sandbox:new o(n.boolean,"sb"),skipOffset:new o(n.number,"skipOffset",Math.min),suggestedDuration:new o(n.number,"sdur",Math.min),useIMA:new o(n.boolean,"IMA"),vastPreferType:new o(n.number,"vt"),viewableOnStart:new o(n.boolean,"vos"),vpaidUseJSV:new o(n.boolean,"vjsv"),withCredentials:new o(n.boolean,"withCredentials"),wrapperCredentials:new o(n.boolean,"wrapCred"),wrapperLimit:new o(n.number,"wrapLim",Math.min),moat:new o(function(e){return e},"moat",function(e,t){return n.assign({},t,e)})},t.readDemandConfig=function(e,r,a){var o={};n.forEach(function(t,n){var i=[t.parser(a[t.parName]),e[n]].filter(t.filter);i.length>1&&t.prio?r[n]=t.prio(i[0],i[1]):i.length>0&&(r[n]=i[0]),o[n]=r[n]},t.DemandParams),i.debugLogVast(e,r,"Demand configuration (Effective):"+JSON.stringify(o),!1)},t.readPlayerDemandConfig=function(e){for(var r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];var o={};n.forEach(function(t,n){var i=r.map(function(e){return t.parser(e[t.parName])}).filter(t.filter);i.length?o[n]=e[n]=i[0]:e[n]=void 0},t.DemandParams),i.debugLog(e,"Demand configuration (by supply):"+JSON.stringify(o),!1)}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=function(e,t){var r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"==typeof btoa){var i=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(n),a=n.sources.map(function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"});return[r].concat(a).concat([i]).join("\n")}return[r].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},i=0;i<this.length;i++){var a=this[i][0];"number"==typeof a&&(n[a]=!0)}for(i=0;i<e.length;i++){var o=e[i];"number"==typeof o[0]&&n[o[0]]||(r&&!o[2]?o[2]=r:r&&(o[2]="("+o[2]+") and ("+r+")"),t.push(o))}},t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9),i=r(19);t.macros=function(e,t,r){return function(a){var o=(new Date).getTime().toFixed(0);a=(a=a.replace(/\[(CB|CACHE_BUSTER|CACHEBUSTING)\]/g,o)).replace(/\[(DIVID|CONTAINER_ID)\]/g,e.rootDivElem?e.rootDivElem.id:e.divId).replace(/\[(WIDTH|CONTAINER_WIDTH)\]/g,e.width?e.width.toFixed():"").replace(/\[(HEIGHT|CONTAINER_HEIGHT)\]/g,e.height?e.height.toFixed():""),e.info&&(a=(a=(a=(a=a.replace(/\[DEVICEOS\]/gi,encodeURIComponent(e.info.os))).replace(/\[DEVICEOSV\]/gi,encodeURIComponent(e.info.osv))).replace(/\[DEVICEMAKE\]/gi,encodeURIComponent(e.info.make))).replace(/\[DEVICEMODEL\]/gi,encodeURIComponent(e.info.model))),a=(a=a.replace(/\[UA\]/g,encodeURIComponent(navigator.userAgent))).replace(/\[SUPPLY_ID\]/g,e.playerId.toFixed()).replace(/\[PLAYER_ID\]/g,e.playerId.toFixed()).replace(/\[SUBID\]/g,encodeURIComponent(e.subid)).replace(/\[PAGE_TITLE\]/g,encodeURIComponent(e.pageTitle)).replace(/\[URL\]/g,encodeURIComponent(e.domain)).replace(/\[URL_DETECTED\]/g,encodeURIComponent(e.domainDetected)),e.appParams&&(a=a.replace(/\[APP_NAME\]/g,encodeURIComponent(e.appParams.appn)).replace(/\[APP_BUNDLE\]/g,encodeURIComponent(e.appParams.appb)));var s=e.content instanceof i.ContentElement?e.content.getUrl():"",l=n.hashCode(s||""+e.playerId+e.subid).toFixed(0);if(a=a.replace(/\[SESSION_ID\]/g,e.sessionId).replace(/\[NETWORK_ID\]/g,e.networkId&&e.networkId.toFixed()).replace(/\[VIDEO_DESCRIPTION\]/g,"Entertainment").replace(/\[VIDEO_TITLE\]/g,"Entertainment").replace(/\[VIDEO_ID\]/g,l).replace(/\[VIDEO_DURATION\]/g,"00:30:00").replace(/\[VIDEO_KEYWORDS\]/g,"Entertainment").replace(/\[VIDEO_FILE_URL\]/g,encodeURIComponent(s)).replace(/\[AUTOPLAY\]/g,"1").replace(/\[MUTED\]/g,"1"),e.customParams)for(var d=0;d<e.customParams.length;d++){var u=e.customParams[d];void 0!==u&&(a=a.replace(new RegExp("\\[CUSTOM"+d+"\\]","g"),encodeURIComponent(u)))}if(r&&(a=a.replace(/\[CLICK_URL\]/g,encodeURIComponent(r.clickUrl))),t){a=a.replace(/\[ROUND_NO\]/g,t.totalRoundNo.toFixed());var c=t.playerId,p=t.cxvid||t.vastId,h=t.vastId;a=a.replace(/\[DMID\]/g,t.demandId).replace(/\[XSUPPLY_ID\]/g,c.toFixed()).replace(/\[DEMAND_ID\]/g,p).replace(/\[XDEMAND_ID\]/g,h),t.customVars&&(a=a.replace(/\[XRPM\]/g,t.customVars.rpm||"").replace(/\[RPM\]/g,(t.cxvid?t.customVars.cx_rpm:t.customVars.rpm)||""))}if(e.customVars)for(var A in e.customVars)e.customVars.hasOwnProperty(A)&&(a=a.replace(new RegExp("\\["+A+"\\]","g"),encodeURIComponent(e.customVars[A])));return a}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),i=r(1),a=r(0),o=r(5),s=r(38),l=r(19),d=r(25),u=r(6),c=r(42),p=r(34),h=r(11),A=r(8),f=r(4),g=r(2),v=r(79),m=r(80),y=r(9);function E(e){if(e.rootDivElem){var t=e.rootDivElem.offsetWidth,r=e.rootDivElem.offsetHeight;if(t&&r&&0!==t&&0!==r||(t=e.rootDivElem.clientWidth,r=e.rootDivElem.clientHeight),!t||!r||0===t||0===r){var n=e.rootDivElem.getBoundingClientRect();t=n.width,r=n.height}return{width:t,height:r}}}function _(e){var t=null,r="data-cedato-used";if(document.querySelectorAll)try{t=document.querySelectorAll("[id='"+e.divId+"']:not(["+r+"])")[0]}catch(e){}if(!t){var n=document.getElementById(e.divId);n&&!n.hasAttribute(r)&&(t=n)}if(!t&&(e.currentScript||(e.currentScript=s.getScriptTag(e.cacheBuster)),e.currentScript&&e.currentScript.parentNode)){var i=e.currentScript.parentNode;-1===i.id.indexOf("video"+e.playerId)||i.hasAttribute(r)||(t=i)}return t&&t.setAttribute(r,"used"),t}function T(e){e.schedule&&e.schedule.content?(function(e){var t=e.schedule.content.wait;return a.debugLog(e,"starting preroll timeout "+t+"sec.",!1),e.content&&e.content.setWait(!0),e.preRollTimer.Seconds(t).start(function(){return a.debugLog(e,"freezing players from preroll timeout",!1),e.content&&e.content.setWait(!1),u.playerPauseAds(e)}).catch(g.rethrow(e,"preroll freezing players"))}(e).then(function(){S(e),e.content&&e.content.start()}),e.content&&e.content.start()):(S(e),e.content&&e.content.start())}function b(e,t,r){(function(e,t){return(!e.schedule||!e.schedule.time)&&!e.mainAutoplay&&e.allowSound&&t})(e,t)&&(e.clickToPlay=!0),a.debugLog(e,"player started"+(e.clickToPlay?" - ClickToPlay":""),!1),t&&h.unlockSlots(e),e.started=!0,e.autoplay=!0,e.paused=!1,e.muted=e.muteToPlay&&!t||e.muted,e.content instanceof l.ContentElement&&e.content.setVolume(e.volume,e.muted,t),u.notifyApi(e,null,"player.started"),T(e),r?(e.autoplay=!1,h.playAd(e,r,t)):e.autoplay&&h.playNext(e,t),e.clickToPlay&&(e.chilled=!0)}function R(e){var t=Math.max(function(e,t){if(e>0)return e;if(Array.isArray(e)&&e.length>0)return e[Math.min(t,e.length-1)];return 0}(e.schedule.time.start,e.midrollRound)-e.schedule.time.wake,0),r=function(t,r){return a.debugLog(e,"midroll - init "+r+" timeout "+t+" sec.",!1),e.midRollTimer.Seconds(t).start()};r(t,"gpv").then(function(){return a.debugLog(e,"midroll - get player vasts",!1),u.playerResumeAds(e,!1)?r(e.schedule.time.wake,"play"):A.Promise.reject(null)}).then(function(){return e.paused||(e.autoplay=!0,h.playNext(e)),r(e.schedule.time.wait,"stop")}).then(function(){return a.debugLog(e,"midroll - stop playing ads",!1),u.playerPauseAds(e)}).then(function(){e.midrollRound++,R(e)}).catch(g.safecatch(e,"midroll"))}function S(e){e.schedule&&e.schedule.time&&(e.midrollRound=0,R(e),e.autoplay=!1)}t.getSizeDetected=E,t.getRootDivElem=_,t.playerStart=function(e){a.debugLog(e,"ondomload - adding div",!1),n.init();var t=E(e);t&&(e.widthDetected=t.width,e.heightDetected=t.height),e.eventServer2&&(e.serverEvents.serverEventUrl=-1===e.eventServer2.indexOf("//")?e.serverHost(e.eventServer2)+e.serverEvents.serverEventRoute:f.setProtocol(e.protocol,e.eventServer2),e.serverEvents.DryRun=!1),e.serverEvents.supplyEvent({name:"SupplyLoaded"}),o.logEvent(e,o.CEDATO_EVENT.E_DETECTED,{},{}),e.widthOverwrite&&e.heightOverwrite?(e.width=e.widthOverwrite,e.height=e.heightOverwrite,e.rootDivElem.style.width=e.width+"px",e.rootDivElem.style.height=e.height+"px"):e.widthDetected&&e.heightDetected&&0!==e.widthDetected&&0!==e.heightDetected&&(!e.sizeTolerance||Math.abs(e.width-e.widthDetected)>e.sizeTolerance||Math.abs(e.height-e.heightDetected)>e.sizeTolerance)&&(e.width=e.widthDetected,e.height=e.heightDetected),e.divElem=document.createElement("div"),e.divElem.id="__cedato_root_container",n.assignClass(e.divElem,"root_container"),n.assignClass(e.divElem,e.info.mobile?"mobile":"desktop"),e.rootDivElem.appendChild(e.divElem),e.beingVpaid||l.createContentPlayer(e),c.initControls(e),e.showBrandMenu&&p.subscribeBrandMenu(e,e.rootDivElem),e.playerReadyResolve(),d.triggerBeacon(e,null,"ready"),u.notifyApi(e,null,"player.ready",{rootDiv:e.rootDivElem}),e.mainAutoplay&&b(e)},t.getRootDivPromise=function(e){return new A.Promise(function(t,r){var n=Date.now(),a=function(){(Date.now()-n)/1e3<10?(e.rootDivElem=_(e),e.rootDivElem&&(clearInterval(s),t())):(clearInterval(s),o.playerError(e,i.PlayerError.GENERAL,"div element not found playerDomLoaded: "+e.divId),r())},s=setInterval(a,e.conf.domLoadRetryTimeout);a()})},t.initPlugins=function(e){var t={passback:v.initPassback,content:m.initContentPlugin,params:m.initOverridesPlugin},r=e.rootDivElem;e.rootDivElem.parentElement&&(r=e.rootDivElem.parentElement);for(var n=0,i=r.getElementsByTagName("script");n<i.length;n++){var o=i[n],s=o.getAttribute("type"),l=s&&s.match(/^(cedato|video-player)\/(.+)/i);l&&u(l[2],o)}var d=y.arrayFind(e.initOverrides,function(e){return"passback"==e.name});function u(r,n){g.safeguard("load plugin "+r,{players:e,log:!0},function(){t[r]&&t[r]({pluginElement:n,api:e.apiInterface,playerDiv:e.rootDivElem,log:function(t){return a.debugLog(e,t)}})})}d&&d.value&&u("passback",{textContent:d.value.script,dataset:{timeout:d.value.timeout}})},t.startSchedule=T,t.startPlayer=b,t.scheduleMidroll=R},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3);t.default=function(e){return function(){function t(){var e=this;this.hidden=!0,this.isRightButon=function(e){return e.which&&3==e.which||e.button&&2==e.button},this.show=function(t,r){var n=e.mainElement.parentNode.getBoundingClientRect(),i=e.mainElement.getBoundingClientRect(),a=t.target,o=t.clientY,s=t.clientX;if(e.mainElement.ownerDocument==a.ownerDocument){var l=r.getBoundingClientRect();o-=l.top,s-=l.left}n.left+n.width<n.left+s+i.width&&(s-=i.width),n.top+n.height<n.top+o+i.height&&(o-=i.height),e.mainElement.style.top=o+"px",e.mainElement.style.left=s+"px",e.mainElement.style.visibility="visible",t.stopPropagation(),t.preventDefault(),e.hidden=!1,e.hideTimeout=setTimeout(function(){e.hide(t)},2e3)},this.hide=function(t,r){t.target===r||e.hidden||(e.mainElement.style.top="0",e.mainElement.style.left="0",e.mainElement.style.visibility="hidden",e.isRightButon(t)||t.target===e.mainElement||(t.stopPropagation(),t.preventDefault()),clearTimeout(e.hideTimeout),e.hideTimeout=null,e.hidden=!0)}}return t.prototype.render=function(){var t=this;return e("div",{ref:function(e){return t.mainElement=e},className:n.cssClass("brand_menu"),onClick:function(){return window.open("http://www.cedato.com","_blank")}},e("figure",null),e("span",null,"Powered by ",e("b",null,"Cedato")))},t}()},t.subscribeBrandMenu=function(e,t,r){function n(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];e.controls.brandMenu.hide(r[0],t)}}e.brandMenuListeners||(e.brandMenuListeners=[{eventName:"contextmenu",handler:function(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];e.controls.brandMenu.show(r[0],e.rootDivElem||t)}},bodyHandler:!1},{eventName:"contextmenu",handler:n,bodyHandler:!0},{eventName:"click",handler:n,bodyHandler:!0}]);var i=r||e;i.brandMenuHandlers&&(i.brandMenuHandlers={});for(var a=0;a<e.brandMenuListeners.length;a++){var o=e.brandMenuListeners[a],s=o.eventName,l=o.handler,d=o.bodyHandler?window.document:t;i.brandMenuHandlers[a]=l(e,t),d.addEventListener(s,i.brandMenuHandlers[a],!0),o.bodyHandler&&t.ownerDocument!==window.document&&t.ownerDocument.addEventListener(s,i.brandMenuHandlers[a],!0)}},t.unsubscribeBrandMenu=function(e,t,r){var n=r||e;if(n.brandMenuHandlers)for(var i=0;i<e.brandMenuListeners.length;i++){var a=e.brandMenuListeners[i],o=a.eventName;(a.bodyHandler?window.document:t).removeEventListener(o,n.brandMenuHandlers[i],!0),a.bodyHandler&&t.ownerDocument!==window.document&&t.ownerDocument.removeEventListener(o,n.brandMenuHandlers[i],!0)}}},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),a=r(10),o=r(26),s=r(81),l=r(4),d=r(0),u=r(7),c=r(27),p=r(2),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getErrorEvent=function(t){if(this.state==i.PlayerDataState.Fetching){var r={};return t.code==u.VAST_ERROR.EMPTY_RESPONSE||t.code==u.VAST_ERROR.VAST_NO_AD||t.code==u.VAST_ERROR.NO_SUITABLE_MEDIA||t.code==u.VAST_ERROR.FLASH_ONLY_NOT_SUPPORTED||t.code==u.VAST_ERROR.NO_VALID_CREATIVES||t.code==u.VAST_ERROR.VAST_DMVAST_ERROR?r={name:"VastError",errorCode:t.code,message:t.message,retryCount:t.retryCount}:t.code==u.VAST_ERROR.GAVE_UP_ON_FETCH_VAST?r={name:"VastFetchError",errorCode:t.code,message:t.message,retryCount:t.retryCount,credentials:t.credentials,timeout:!0}:t.code!=u.VAST_ERROR.XHR_GENERAL_ERROR&&t.code!=u.VAST_ERROR.NO_AVAILABLE_XHR&&t.code!=u.VAST_ERROR.CORS_WITH_CREDENTIALS&&t.code!=u.VAST_ERROR.CORS_WITHOUT_CREDENTIALS&&t.code!=u.VAST_ERROR.XHR_STATUS&&t.code!=u.VAST_ERROR.XHR_OPEN_ERROR&&t.code!=u.VAST_ERROR.XHR_SEND_ERROR&&t.code!=u.VAST_ERROR.XHR_TIMEOUT&&t.code!=u.VAST_ERROR.XHR_JS_EXCEPTION||(r={name:"VastFetchError",errorCode:t.code,message:t.message,retryCount:t.retryCount,credentials:t.credentials}),t.status&&(r.status=t.status),{event:r,timed:!0}}return e.prototype.getErrorEvent.call(this,t)},t.prototype.fetchAdUrl=function(e){var t=this;this.players.logVastResponse&&d.debugLog(this.players,"vastId "+this.vastId+" - xhr request url "+e,!1),this.vastResponseXML=null;var r=u.preprocessVastUrl(this.players,this,e),n=r.error,o=r.vastUrl;if(!c.isBlocked(this.players.blacklist,o,"xhr"))if(n)d.debugLog(this.players,"vastId "+this.vastId+" - "+n,!1);else{var p={withCredentials:null!=this.withCredentials?this.withCredentials:l.useCredentials(),timeout:12e4,urlhandler:new s.VastUrlHandler(this.players,this),response:this.vastResponseXML,wrapperLimit:this.wrapperLimit};this.requestedVastURL=o,this.players.DMVAST.client.totalCalls=0;var h=function(e,r){t&&t.state==i.PlayerDataState.Fetching&&(t.flowTimeout.cancel(),t.onVastResponse(e,r,p))},A=this.players.debug.delayReply||this.delay.Reply;if(A){var f=h;h=function(e,t){return setTimeout(function(){return f(e,t)},A)}}this.flowTimeout.Seconds(this.timers.fetchVast).start(function(){t.state==i.PlayerDataState.Fetching&&(d.debugLogVast(t.players,t,"",!1),a.finishPlayerData(t.players,t,i.TerminateReason.FETCH_VAST_TIMEOUT,{code:u.VAST_ERROR.GAVE_UP_ON_FETCH_VAST,message:"",credentials:p.withCredentials,retryCount:t.retryCount}))}),this.players.DMVAST.client.get(o,p,h)}},t.prototype.onVastResponse=function(t,r,n){e.prototype.onAdResponse.call(this)&&this.handleVastResponse(t,r,n)},t.prototype.handleVastResponse=function(e,t,r){var n=this;d.debugLogVast(this.players,this,"got vast url "+(t&&t.fromUrlHandler?"error":"response")+" fetching url "+this.requestedVastURL,!1);var o=u.handleVastRequest(this.players,this,t,r);o||(o=u.vastProcessResponse(this.players,this,e))||p.safeguard("initMedia",{players:this.players,playerData:this,log:!0},function(){u.setPlayerDataClass(n),n.players.serverEvents.demandTimedEvent(n,{name:"VastFetched",credentials:r.withCredentials,retryCount:n.retryCount}),n.initMedia()},function(){o={reason:i.TerminateReason.JS_EXCEPTION,code:u.VAST_ERROR.JS_EXCEPTION,message:"initMedia js exception"}}),o&&o.reason&&(u.vastError(this.players,this.vastId,o.code,o.message,null,this,!1,!0),a.finishPlayerData(this.players,this,o.reason,{code:o.code,message:o.message,credentials:r.withCredentials,retryCount:this.retryCount,status:t&&t.status}))},t}(o.PlayerData);t.PlayerDataVast=h},,,function(e,t,r){"use strict";function n(e){if(!e)return!1;var t=e.indexOf("algovid"),r=e.indexOf("cedato_player"),n=e.indexOf("cedato_vpaid");return!((-1===t||t>18)&&-1===r||-1!==n)}Object.defineProperty(t,"__esModule",{value:!0}),t.checkIndexes=n,t.getScriptTag=function(e){for(var t,r=document.getElementsByTagName("script"),i=r.length-1;i>=0;i--){var a=r[i];if(n(a.src)&&(t||(t=a),e&&-1!==a.src.indexOf("cb="+e)))return a}return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(12),i=r(1),a=r(4);function o(e,t){n.assignWhen(n.NotNull,e,{allowLongImpressions:n.boolean(t.ali),allowPausedImpressions:n.boolean(t.pausedImpressions),allowSound:n.boolean(t.as)||n.maybe(n.boolean(t.muted),function(e){return!e}),autoScheduleReset:n.boolean(t.asr),blackListName:n.string(t.bl),closeButton:n.boolean(t.scb),controlBar:n.boolean(t.co),controlBarType:n.string(t.cotype),demandMaxAdStarts:n.number(t.dmas),eventCookie:n.string(t.evck),eventServer:n.string(t.esrv),eventServer2:n.string(t.esrv2),forceJSV:n.boolean(t.jsv),mainAutoplay:n.boolean(t.ap),maxAdStarts:n.number(t.mas),maxFailedVastRetries:n.number(t.mvr),maxTotalVastRetries:n.number(t.tvr),mediaPreview:n.boolean(t.mediaPreview),observableOnly:n.boolean(t.oo),parallelStartAd:n.boolean(t.psa),showBrandMenu:n.boolean(t.showBrandMenu),sizeTolerance:n.number(t.sizeTol),skipButton:n.boolean(t.ssb),thirdPartyTimeout:n.number(t.tpt),vpaidInitLimit:n.number(t.vpl),xhrInterceptEnabled:n.boolean(t.xhri),xhrTraceToConsole:n.boolean(t.xhrt)})}t.configurePlayer=function(e){var t=n.number(e.p);if(!t)return null;var r=new i.Players;n.assign(r,{playerId:t,isApp:n.boolean(e.app,!1),domain:n.string(e.d,""),cacheBuster:n.string(e.cb,"")}),n.assign(r,{divId:n.string(e.did,"video"+t+r.cacheBuster),sessionId:n.string(e.se,function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}()),width:n.number(e.w),height:n.number(e.h),subid:n.string(e.sid,""),htmlOnly:n.boolean(e.ho,r.isApp),isDebugVersion:!1,playerVersion:n.string("114.27","100.0"),playerUrl:n.string(e.playerUrl)});var s=n.boolean(e.ssl),l=function(e){return e.split(".").slice(1).join(".")},d=n.string(e.mid,"p.algovid.com"),u=n.string(e.sd,l(d)||l("p.algovid.com"));d=d.split(".")[0],n.assign(r,{machineId:d,serverDomain:u,keepDetailedDebugLog:3==n.number(e.sl),logDebugToConsole:2==n.number(e.cnl),keepDebugLog:2==n.number(e.sdl),logVastResponse:n.boolean(e.lvr,!1),jsCallingVpaid:n.string(e.job),beingVpaidUseSlot:n.boolean(e.vslot)}),r.tagConfig=e,o(r,e);var c={},p={d:!0,sid:!0,did:!0,p:!0,cb:!0,playerVersion:!0,mid:!0,cnl:!0,sv:!0,ap:!0,sdl:!0,se:!0,w:!0,h:!0,lvr:!0,app:!0,jsv:!0,ob:!0,pv:!0};if(r.isApp){r.appParams={};var h=["appsu","appidfa","appv","appn","appb","appc","appaid"],A=[];for(var f in h)h.hasOwnProperty(f)&&(p[h[f]]=!0,e[h[f]]&&(A.push(h[f]+"="+encodeURIComponent(e[h[f]])),r.appParams[h[f]]=e[h[f]],c[h[f]]=e[h[f]]));var g=e.appn;!r.domain&&g&&(r.domain="app://"+encodeURIComponent(g))}var v=[];for(var m in e)if(isNaN(m)&&!p[m]&&e.hasOwnProperty(m)&&(c[m]||(c[m]=e[m]),"c"==m[0])){var y=parseInt(m.slice(1),10);!isNaN(y)&&y>=1&&y<=6&&(v[y]=e[m])}r.gpvExtraParams=c,r.customParams=v.length?v:null,r.logDebugToConsole=r.logDebugToConsole||r.keepDetailedDebugLog;var E=a.getDetectedUrl();return r.domain||(r.domain=E),r.domainDetected=a.getHost(E).substr(0,100),r.protocol=a.getProtocol(s),r.serverHost=function(e){return r.protocol+"//"+(e||r.machineId)+"."+r.serverDomain},r.conf.sUrl=r.serverHost("c"),r.conf.pJsvUrl=r.conf.sUrl+"/player/jsv_pure_2.js",r.conf.maxDomLoadTimes=60,r.conf.domLoadRetryTimeout=200,r.conf.domLoadInitTimeout=500,(r.logDebugToConsole||r.keepDebugLog)&&(r.debugLogReason="tag"),r},t.readPlayerConfig=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(21);window.CEDATO_API=window.CEDATO_API||{registerPlayer:o,getPlayer:s};var i=function(){function e(e){this._ready=!1,this.playerVersion="100.0",this.eventEmitter=new n.EventEmitter2({wildcard:!0,maxListeners:20}),e&&(this.playerVersion=e)}return e.prototype.on=function(e,t){var r=this,n=e.toLowerCase();if("ready"!==n||!this._ready)return this.eventEmitter.on(n,t),this;setTimeout(function(){return t({name:"ready",player:r})},0)},e.prototype.off=function(e,t){var r=e.toLowerCase();return t?this.eventEmitter.off(r,t):this.eventEmitter.removeAllListeners(r),this},e.prototype.trigger=function(e,t){var r=e.toLowerCase();return this.eventEmitter.emit(r,{name:r,player:this,data:void 0==t?{}:t}),this},e.prototype.play=function(e){void 0===e&&(e={userInteraction:!0}),this.trigger("_play",e)},e.prototype.show=function(){this.trigger("_show")},e.prototype.hide=function(){this.trigger("_hide")},e.prototype.pause=function(){this.trigger("_pause")},e.prototype.overrideInitParams=function(e){this.trigger("_overrideInit",e)},e.prototype.setContentUrls=function(e,t){this.trigger("_setContentUrls",{urls:e,saveCurrentTime:t||!1})},e.prototype.setContentVariant=function(e){this.trigger("_setContentVariant",e)},e.prototype.setContentImage=function(e,t){this.trigger("_setContentImage",{url:e,pos:t||""})},e.prototype.seekContent=function(e){this.trigger("_seekContent",e)},e.prototype.setContent=function(e){this.trigger("_setContent",e)},e.prototype.setExtContent=function(e){this.trigger("_setExtContent",e)},e.prototype.setUIControls=function(e){this.trigger("_setUIControls",e)},e.prototype.setPausable=function(e){this.trigger("_setPausable",e)},e.prototype.sound=function(e,t){void 0===t&&(t=!0),this.trigger("_sound",{value:e,userInteraction:t})},e.prototype.resize=function(e,t){this.trigger("_resize",{width:e,height:t})},e.prototype.skip=function(){this.trigger("_skip")},e.prototype.close=function(e,t){this.trigger("_close",{preserveDiv:e||!1,reason:t||"api"})},e.prototype.pauseAds=function(){this.trigger("_pauseads")},e.prototype.resumeAds=function(e){var t=(void 0===e?{autoplay:!0}:e).autoplay;this.trigger("_resumeads",{autoplay:t})},e.prototype.resetSchedule=function(){this.trigger("_resetSchedule")},e.prototype.getPlayerVersion=function(){return this.playerVersion},e}();t.PlayerInterfaceImpl=i;var a={};function o(e,t){var r=window.CEDATO_INIT;return void 0===a[e]?(a[e]=t||new i,a[e]._ready=!0,r&&("function"==typeof r?a[e].init=r:"object"==typeof r&&"function"==typeof r[e]&&(a[e].init=r[e]))):(a[e]._ready=!0,setTimeout(function(){a[e].trigger("ready")},0)),a[e]}function s(e){return void 0===a[e]&&(a[e]=new i),a[e]}t.API_VER="1.0.5",t.registerPlayer=o,t.getPlayer=s},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAFVBMVEUAAAD///////////////////////9Iz20EAAAABnRSTlMAuQjsCbLikAU2AAAANElEQVQI12PABoIYGIzBjEQHhjQwI00Exkh0gDLSRGCMRAyGEEyxApQhBNWeqABkIKzABAC7EQ0h5qY5EgAAAABJRU5ErkJggg=="},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),r(23);var i=r(19),a=r(3),o=r(0),s=r(6),l=r(69),d=r(70),u=r(71),c=r(72),p=r(73),h=r(74),A=r(75),f=r(76),g=r(34),v=r(77),m=r(78),y=r(12),E=r(44),_={play:!0,mute:!0,volume:!0,seek:!0,time:!0,bitrate:!0},T={native:{},cedbar:_,all:_,minimal:{play:!0,mute:!0}};t.initControls=function(e){var t=e.controlBar||e.contentDefinition.video.controlBar,r=y.assign({},t&&T[e.controlBarType]);r.close=r.close||!!e.closeButton,r.skip=r.skip||!!e.skipButton||e.skipOffset>0,e.beingVpaid||e.mainAutoplay||(r.overlay=!0),r.brand=e.showBrandMenu,y.assignWhen(y.NotNull,r,e.extControls.scheme),o.debugLog(e,"init controls scheme: "+JSON.stringify(r),!1),e.content instanceof i.ContentElement&&(!e.content||e.content.getVideoVariantList().length)||(r.bitrate=!1),e.info.mobile&&(r.volume=!1,r.volume2=!1,e.usejsv&&(r.mute=!1));var n=(e.extControls.bar&&e.extControls.bar.length||e.extControls.root&&e.extControls.root.length)&&!0;y.forEach(function(e){return n=n||e},r),n&&(o.debugLog(e,"creating controls - "+e.controlBar,!1),e.controls=new b(e,r))};var b=function(){function e(e,t){this.players=null,this.autoUpdateInterval=500,this.cbjs=new E.CBJSX,this.extUI={scheme:{},bar:[],root:[]},e.divElem&&(this.players=e,this.playerElement=e.divElem,y.assignWhen(y.NotNull,this.extUI,e.extControls),this.init(t),this.createDOM())}return e.prototype.init=function(e){this.initNonEmbeded(e),this.initEmbeded(e)},e.prototype.initNonEmbeded=function(e){var t=this,r=this.cbjs.createElement,n=e.overlay&&d.OverlayPlayButton(r),i=e.brand&&g.default(r),a=e.mute&&!this.players.usejsv&&v.default(r),o=e.close&&m.CloseButton(r),l=e.skip&&"native"==this.players.controlBarType&&m.SkipButton(r),u=[r(o,{onClick:function(){return"notify"==t.players.closeButton?s.notifyApi(t.players,null,"ui.close"):s.collapsePlayer(t.players,!1,"ui")}}),r(l,{onClick:function(){return"notify"==t.players.skipButton?s.notifyApi(t.players,null,"ui.skip"):s.skipPlayerData(t.players)}}),this.overlayPlayButton=r(n,{play:function(){s.resumePlayingPlayer(t.players,"ui",!0)}}),r(a,{onClick:function(){var e=s.getProgress(t.players);if(e){var r=e.volume;s.setPlayingAdVolume(t.players,r>0?r:1,!1,null,!0),t.updateControlBar()}}}),r(i,{ref:function(e){return t.brandMenu=e}})];u.push.apply(u,this.extUI.root),u.forEach(function(e){return e&&t.playerElement.appendChild(e)})},e.prototype.initEmbeded=function(e){var t=this,r=this.cbjs.createElement;if(e.seek||e.play||e.mute||e.volume||e.volume2||e.time||e.bitrate||"native"!=this.players.controlBarType||this.extUI.bar.length){var n=this.players.content instanceof i.ContentElement?this.players.content:null,o=e.seek&&f.default(r),g=e.mute&&l.default(r),v=e.play&&d.PlaybackButton(r),m=e.skip&&"native"!=this.players.controlBarType&&c.default(r),y=e.time&&p.default(r),E=e.volume&&h.default(r),_=e.bitrate&&n&&u.default(r),T=e.volume2&&A.default(r);this.barElement=r("div",{className:a.cssClass("control_bar")},r(o,{updateInterval:this.autoUpdateInterval,seekableContent:!this.players.usejsv&&!!n,onSeek:function(e){return n.seekContent(e)}}),r(v,{resume:function(){s.resumePlayingPlayer(t.players,"ui",!0)},pause:function(){s.pausePlayingPlayer(t.players,"ui")}}),r(g,{players:this.players})," ",r(T,{onChange:function(e){return s.setPlayerVolume(t.players,e,!1,null,!0)}}),r(E,{onChange:function(e){return s.setPlayerVolume(t.players,e,!1,null,!0)}}),r(y,null),r(m,{onClick:function(){s.skipPlayerData(t.players,!1)}}),r(_,{content:this.players.content}),this.extUI.bar)}},e.prototype.createDOM=function(){var e=this;this.playerElement.appendChild(this.barElement),this.updateTimer=setInterval(function(){return e.updateControlBar()},this.autoUpdateInterval)},e.prototype.updateElements=function(e){var t,r=s.getProgress(this.players);if(r){var i=r.controlBar;a.toggleClass(this.barElement,((t={}).hidden=!i,t)),this.players.started&&this.overlayPlayButton&&(this.playerElement.removeChild(this.overlayPlayButton),this.overlayPlayButton=null),this.cbjs.update(n({},r,{jump:e})),this.extUI.update&&this.extUI.update(r),this.lastUpdateTime=Date.now()}},e.prototype.updateControlBar=function(e){var t=this;void 0===e&&(e=!1);var r=Date.now(),n=r-this.lastCallTime;this.lastCallTime=r,!this.lastCallTime||n<=10||r-this.lastUpdateTime<100?(clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(function(){t.updateElements(e)},10)):this.updateElements(e)},e.prototype.destroy=function(){clearTimeout(this.debounceTimer),clearInterval(this.updateTimer)},e}();t.Controls=b,t.updateControlBar=function(e,t){void 0===t&&(t=!1);var r=e.controls;r&&r.updateControlBar(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3);t.BarFactory=function(e){return function(){function t(e){this.props=e}return t.prototype.initHovering=function(){var e=this;this.mainElement.addEventListener("mousemove",function(t){var r=t.currentTarget.getBoundingClientRect(),n=(t.clientX-r.left)/e.mainElement.offsetWidth;e.hoverProgressElement.style.transform="scale3d("+n+",1,1)"})},t.prototype.clickRatio=function(e){var t=e.currentTarget;return(e.clientX-t.getBoundingClientRect().left)/(t.getBoundingClientRect().right-t.getBoundingClientRect().left)},t.prototype.setRatio=function(e,t){if(void 0===t&&(t=0),this.progressElement.style.transform="scale3d("+e+",1,1)",this.progressElement.style.transition=t?"transform "+t+"s linear":"",this.scrubberElement){var r=this.mainElement.clientWidth*e;this.scrubberElement.style.transform="translateX("+r+"px)",this.scrubberElement.style.transition=t?"transform "+t+"s linear":""}},t.prototype.setInteractive=function(e){var t;n.toggleClass(this.mainElement,((t={}).interactive=e,t))},t.prototype.setVisibility=function(e){var t;n.toggleClass(this.mainElement,((t={}).hidden=e,t))},t.prototype.render=function(){var t=this,r=this.props,i=r.type,a=r.placeholder,o=void 0!==a&&a,s=r.scrubber,l=void 0!==s&&s,d=r.hovering,u=void 0!==d&&d,c=r.onChange;return e("div",{ref:function(e){t.mainElement=e,u&&t.initHovering()},className:n.cssClass(i),onClick:function(e){return c&&c(t.clickRatio(e))}},function(){var r=[e("div",{ref:function(e){return t.progressElement=e},className:n.cssClass("progress"),style:{transform:"scaleX("+t.props.value+")"}}),u&&e("div",{ref:function(e){return t.hoverProgressElement=e},className:n.cssClass("hover_progress")}),l&&e("div",{ref:function(e){return t.scrubberElement=e},className:n.cssClass("scrubber")})];return o?e("div",{className:n.cssClass("progress_placeholder")},r):r}())},t}()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(23),i=function(){function e(){var e=this;this.bag=[],this.createElement=function(t,r){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];return!t||t instanceof Node?t:(t.prototype&&t.prototype.render&&(t=new(t.bind.apply(t,[void 0,r].concat(i)))),t.render?(e.bag.push(t),r&&r.ref&&r.ref(t),t.render()):n.createElement.apply(n,[t,r].concat(i)))}}return e.prototype.update=function(e){this.bag.forEach(function(t){return t&&"update"in t&&t.update(e)})},e}();t.CBJSX=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),a=r(10),o=r(9),s=r(4),l=r(26),d=r(46),u=r(0),c=r(7),p=r(23),h=r(2),A=r(19),f=r(22),g=r(11),v=r(14),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.forceVolume=!1,t}return n(t,e),t.prototype.fetchAdUrl=function(){this.state=i.PlayerDataState.Fetched,this.skipVastTracker=!0,this.vastPreferType==c.vastPreferType.VIDEO_ONLY||this.players.observableOnly?(c.vastError(this.players,this.vastId,c.VAST_ERROR.NO_SUITABLE_MEDIA,"no suitable media: "+this.adType,null,this,!1,!0),a.finishPlayerData(this.players,this,i.TerminateReason.NO_SUITABLE_MEDIA,{code:c.VAST_ERROR.NO_SUITABLE_MEDIA,message:"no suitable media: "+this.adType})):this.initMedia()},t.prototype.initMedia=function(){var t=this;return e.prototype.initMedia.call(this).then(function(){t.players.content instanceof A.ContentElement?t.contentVideoElement=t.players.content.getHTMLVideoElement()||t.videoElement:t.contentVideoElement=t.videoElement,f.jsvCanvas(t.contentVideoElement)&&(t.contentVideoElement=f.createHTMLVideoElement(t.players)),t.imaAdSlot=p.createElement("div",{class:"ima-ad-slot",style:{position:"absolute",top:"0",bottom:"0",left:"0",right:"0"}}),t.adContainer.appendChild(t.imaAdSlot),t.state=i.PlayerDataState.Loading,t.width=t.players.width,t.height=t.players.height,t.isAdsRequestMade=!1,t.isStarted=!1,t.isAdsRequested=!1,t.initGoogleSDK(),u.debugLogVast(t.players,t,"initMedia: done",!0)}).catch(h.safecatch(this.players,"initMedia"))},t.prototype.log=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.debugLogVast(this.players,this,"[GoogleIMA] "+e,!1,t)},t.prototype.initGoogleSDK=function(){var e=this;if("undefined"==typeof google)return o.injectScriptSDK("google-ima-script-new",function(){return s.changeProtocol(e.players.protocol,"http://imasdk.googleapis.com/js/sdkloader/ima3.js")},function(){e.callInitAndRequest()},!0);this.callInitAndRequest()},t.prototype.callInitAndRequest=function(){var e=this;setTimeout(function(){e.state!=i.PlayerDataState.Completed&&e.state!=i.PlayerDataState.Finished&&e.initAndRequest()},this.players.debug.delayReply||this.delay.Reply||0)},t.prototype.emitEvent=function(e,t){switch(this.log("EVENT "+e+", data: ",t,this.uniqId),e){case this.AdsManagerLoadedEvent:case this.AdErrorLoadedEvent:this.flowTimeout.cancel(),this.onAdsRequested(t),this.isAdsRequested=!0;break;case google.ima.AdErrorEvent.Type.AD_ERROR:d.AdErrorHandler(this.players,this,{errorMsg:t&&t.msg});break;case this.AdEvent.AD_BREAK_READY:case this.AdEvent.AD_METADATA:case this.AdEvent.ALL_ADS_COMPLETED:break;case this.AdEvent.CLICK:d.AdClickthruHandler(this.players,this,{url:null,id:null,playerHandles:!1});break;case this.AdEvent.DURATION_CHANGE:d.AdDurationChangeHandler(this.players,this,{t:t.ad&&t.ad.getDuration()||null});break;case this.AdEvent.STARTED:d.AdStartedHandler(this.players,this);break;case this.AdEvent.IMPRESSION:d.AdImpressionHandler(this.players,this);break;case this.AdEvent.FIRST_QUARTILE:d.AdFirstQuartileHandler(this.players,this);break;case this.AdEvent.MIDPOINT:d.AdMidpointHandler(this.players,this);break;case this.AdEvent.THIRD_QUARTILE:d.AdThirdQuartileHandler(this.players,this);break;case this.AdEvent.COMPLETE:d.AdCompleteHandler(this.players,this);break;case this.AdEvent.LOADED:t&&t.ad&&this.initLoadedAd(t.ad),d.AdLoadedHandler(this.players,this);break;case this.AdEvent.LINEAR_CHANGED:t&&t.ad&&this.initLoadedAd(t.ad),this.isNonLinear()||this.nonLinearCompleteTimer.cancel();break;case this.AdEvent.LOG:case this.AdEvent.CONTENT_PAUSE_REQUESTED:case this.AdEvent.CONTENT_RESUME_REQUESTED:break;case this.AdEvent.SKIPPABLE_STATE_CHANGED:d.AdSkippableStateChangeHandler(this.players,this);break;case this.AdEvent.SKIPPED:d.AdSkippedHandler(this.players,this);break;case this.AdEvent.USER_CLOSE:d.AdUserCloseHandler(this.players,this);break;case this.AdEvent.VOLUME_CHANGED:d.AdVolumeChangeHandler(this.players,this);break;case this.AdEvent.VOLUME_MUTED:break;case this.AdEvent.PAUSED:d.AdPausedHandler(this.players,this);break;case this.AdEvent.RESUMED:d.AdPlayingHandler(this.players,this)}},t.prototype.initAndRequest=function(){var e=this;this.log("initAndRequest",this.isAdsRequestMade),this.isAdsRequestMade||(this.isAdsRequestMade=!0,this.AdEvent=google.ima.AdEvent.Type,this.AdErrorCode=google.ima.AdError.ErrorCode,this.AdsManagerLoadedEvent=google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.AdErrorLoadedEvent=google.ima.AdError.Type.AD_LOAD,this.AdErrorEvent=google.ima.AdErrorEvent.Type.AD_ERROR,this.adDisplayContainer=new google.ima.AdDisplayContainer(this.imaAdSlot),this.adDisplayContainer.initialize(),this.players.serverEvents.demandEvent(this,{name:"requestAds"}),this.flowTimeout.Seconds(this.timers.requestAds).start(function(){a.finishPlayerData(e.players,e,i.TerminateReason.IMA_REQUEST_ADS_TIMEOUT,{code:c.VAST_ERROR.IMA_REQUEST_ADS_TIMEOUT,message:""})}),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsLoader.getSettings().setAutoPlayAdBreaks(!1),this.adsLoader.getSettings().setDisableCustomPlaybackForIOS10Plus(!0),this.adsLoader.addEventListener(this.AdsManagerLoadedEvent,this.onAdsManagerLoaded.bind(this),!1),this.adsLoader.addEventListener(this.AdErrorEvent,this.onAdError.bind(this),!1),this.adsRequest=new google.ima.AdsRequest,this.adsRequest.adTagUrl=this.mediaURL,this.adsRequest.linearAdSlotWidth=this.width,this.adsRequest.linearAdSlotHeight=this.height,this.adsRequest.forceNonLinearFullSlot=!0,this.adsLoader.requestAds(this.adsRequest))},t.prototype.getSuggestedDuration=function(){if(this.ad){var e=this.ad.getDuration();return e<=0&&(e=this.ad.getMinSuggestedDuration()),e<=0&&(e=this.suggestedDuration),e}},t.prototype.getSuggestedRemainingTime=function(){if(this.adsManager){var e=this.adsManager.getRemainingTime();return e<0&&(e=this.duration-(Date.now()-this.nonLinearCompleteTimer.startedAt)/1e3),e>=0?e:0}},t.prototype.initLoadedAd=function(e){this.ad=e,this.duration=this.getSuggestedDuration(),this.durationKnown=!0},t.prototype.initNonLinearCompleter=function(){var e=this;this.isNonLinear()&&(u.debugLogVast(this.players,this,"init non-linear completer timer: "+this.duration+" seconds",!1),this.nonLinearCompleteTimer=v.default.Seconds(this.duration),this.nonLinearCompleteTimer.start(function(){u.debugLogVast(e.players,e,"non-linear completer timer call - stop player data",!1),d.AdUserCloseHandler(e.players,e)}))},t.prototype.getSkipOffset=function(){var t=this.ad.getSkipTimeOffset();return e.prototype.getSkipOffset.call(this)>0&&(t=t>0?Math.min(e.prototype.getSkipOffset.call(this),t):e.prototype.getSkipOffset.call(this)),t},t.prototype.getAdSkippableState=function(){return this.adsManager.getAdSkippableState()||e.prototype.getAdSkippableState.call(this)},t.prototype.unlockAdSlot=function(){this.log("unlockAdSlot",this.unlocked,this.adDisplayContainer),!this.unlocked&&this.adDisplayContainer&&(this.adDisplayContainer.initialize(),this.unlocked=!0)},t.prototype.onAdsRequested=function(e){var t=this;this.onAdResponse()&&(e?(-1==[this.AdErrorCode.VAST_EMPTY_RESPONSE,this.AdErrorCode.VAST_ASSET_NOT_FOUND,this.AdErrorCode.VAST_NO_ADS_AFTER_WRAPPER,this.AdErrorCode.UNKNOWN_AD_RESPONSE].indexOf(e.code)&&(this.state=i.PlayerDataState.Started),this.emitEvent(this.AdErrorEvent,e)):(this.players.serverEvents.demandTimedEvent(this,{name:"AdsRequested",retryCount:this.retryCount}),g.initAdThrottler(this.players,this,function(){return d.initAd(t.players,t)})))},t.prototype.clearAd=function(){this.log("clearAd"),this.lastError=null;try{this.clearSDK(),this.adContainer.removeChild(this.imaAdSlot)}catch(e){}},t.prototype.clearSDK=function(){try{this.adDisplayContainer.destroy(),this.adsLoader.destroy(),this.adsManager.destroy()}catch(e){}},t.prototype.initAd=function(){var e=this;this.log("initAd",this.width,this.height),this.transferError(function(){e.adsManager.init(e.width,e.height,google.ima.ViewMode.NORMAL)})},t.prototype.startAd=function(){var e=this;this.log("startAd",this.isStarted),this.isStarted||(this.forceVolume=!0,this.syncVolume(),this.adsManager&&this.adsManager.start&&(this.transferError(function(){e.adsManager.start()}),this.isStarted=!0))},t.prototype.stopAd=function(){var e=this;this.log("stopAd"),this.adsManager&&this.adsManager.stop&&this.transferError(function(){return e.adsManager.stop()})},t.prototype.resizeAd=function(e,t){var r=this;this.log("resizeAd",this.width,this.height,e,t),this.width===e&&this.height===t||(this.width=e,this.height=t,this.adsManager&&this.adsManager.resize&&this.transferError(function(){return r.adsManager.resize(e,t,google.ima.ViewMode.NORMAL)}))},t.prototype.setAdVolume=function(e,t,r){var n=this;this.adsManager&&(this.muted==t&&this.viewable||(this.players.muteToPlay&&!t&&(r||this.isUnlocked()||(t=!0)),this.muted=t,e=t?0:e,this.log("setAdVolume",e,this.adsManager.getVolume()),(this.forceVolume||this.adsManager.getVolume()!=e)&&(this.transferError(function(){return n.adsManager.setVolume(e)}),this.forceVolume=!1)))},t.prototype.getAdVolume=function(){return this.adsManager&&{volume:this.adsManager.getVolume()}},t.prototype.isNonLinear=function(){return!!this.ad&&!this.ad.isLinear()},t.prototype.showControlBar=function(){return null!=this.controlBar&&this.controlBar},t.prototype.getProgress=function(){if(this.ad){var e=this.getSuggestedDuration(),t=Math.ceil(e-this.getSuggestedRemainingTime());return{time:t=t>0?t:0,duration:e}}return null},t.prototype.pauseAd=function(){var e=this;this.log("pauseAd"),this.transferError(function(){e.adsManager.pause()})},t.prototype.resumeAd=function(){var e=this;this.log("resumeAd"),this.transferError(function(){e.adsManager.resume()})},t.prototype.skipAd=function(){var e=this;this.log("skipAd","skippable "+this.getAdSkippableState()),this.getAdSkippableState()?(this.adsManager.skip(),this.failSkipTimer.start(function(){u.debugLogVast(e.players,e,"slow skipAd, force skip"),e.onSkip()})):(this.log("ad is not in skippable state, force skip"),this.onSkip())},t.prototype.transferError=function(e){try{e&&e()}catch(e){throw new Error(e.getMessage&&e.getMessage()||e.message||"Unknown error")}},t.prototype.onAdsManagerLoaded=function(e){this.log("onAdsManagerLoaded, requested Ads",e,this.unlocked);var t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!0,this.adsManager=e.getAdsManager(this.contentVideoElement,t),(this.players.muted||this.players.muteToPlay)&&(this.forceVolume=!0,this.setAdVolume(0,!0));var r=this.onAdEvent.bind(this),n=this.onAdProgressEvent.bind(this),i=this.onAdUserEvent.bind(this);this.adsManager.addEventListener(this.AdErrorEvent,this.onAdError.bind(this)),this.adsManager.addEventListener(this.AdEvent.AD_BREAK_READY,this.adBreakReadyHandler.bind(this)),this.adsManager.addEventListener(this.AdEvent.AD_METADATA,r),this.adsManager.addEventListener(this.AdEvent.ALL_ADS_COMPLETED,r),this.adsManager.addEventListener(this.AdEvent.DURATION_CHANGE,r),this.adsManager.addEventListener(this.AdEvent.IMPRESSION,r),this.adsManager.addEventListener(this.AdEvent.LINEAR_CHANGED,r),this.adsManager.addEventListener(this.AdEvent.LOADED,r),this.adsManager.addEventListener(this.AdEvent.LOG,r),this.adsManager.addEventListener(this.AdEvent.SKIPPABLE_STATE_CHANGED,r),this.adsManager.addEventListener(this.AdEvent.CONTENT_RESUME_REQUESTED,this.onContentResumeRequested.bind(this)),this.adsManager.addEventListener(this.AdEvent.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequested.bind(this)),this.adsManager.addEventListener(this.AdEvent.STARTED,n),this.adsManager.addEventListener(this.AdEvent.FIRST_QUARTILE,n),this.adsManager.addEventListener(this.AdEvent.MIDPOINT,n),this.adsManager.addEventListener(this.AdEvent.THIRD_QUARTILE,n),this.adsManager.addEventListener(this.AdEvent.COMPLETE,n),this.adsManager.addEventListener(this.AdEvent.CLICK,i),this.adsManager.addEventListener(this.AdEvent.PAUSED,i),this.adsManager.addEventListener(this.AdEvent.RESUMED,i),this.adsManager.addEventListener(this.AdEvent.SKIPPED,i),this.adsManager.addEventListener(this.AdEvent.USER_CLOSE,i),this.adsManager.addEventListener(this.AdEvent.VOLUME_CHANGED,i),this.adsManager.addEventListener(this.AdEvent.VOLUME_MUTED,i),this.emitEvent(this.AdsManagerLoadedEvent)},t.prototype.onAdEvent=function(e){var t=this;this.delayEvent(e,function(){t.log("onAdEvent ",e.type,e),t.emitEvent(e.type,{ad:e.getAd()})})},t.prototype.onAdProgressEvent=function(e){var t=this;this.delayEvent(e,function(){t.log("onAdProgressEvent ",e.type,e),t.emitEvent(e.type,{ad:e.getAd()})})},t.prototype.delayEvent=function(e,t){var r="Ad"+e.type.charAt(0).toUpperCase()+e.type.slice(1);setTimeout(t,this.delay[r]||0)},t.prototype.onAdUserEvent=function(e){this.log("onAdUserEvent ",e.type,e),this.emitEvent(e.type)},t.prototype.onAdError=function(e){var t=e.getError();this.log("onAdError ",t.getMessage(),t.getErrorCode()),this.lastError={msg:t.getMessage(),code:t.getErrorCode()},t.getType()==this.AdErrorLoadedEvent?this.emitEvent(this.AdErrorLoadedEvent,this.lastError):this.emitEvent(this.AdErrorEvent,this.lastError),this.clearSDK()},t.prototype.getErrorEvent=function(t){var r={event:{},timed:!1};return this.isAdsRequested?this.state==i.PlayerDataState.Initing?(r.event={name:"AdLoadError",errorCode:t.code==c.VAST_ERROR.GENERAL_ERROR?c.VAST_ERROR.AD_LOADED_ERROR:t.code,message:t.message},t.code==c.VAST_ERROR.AD_LOADED_TIMEOUT_ERROR&&(r.event.timeout=!0),r.timed=!0):r=e.prototype.getErrorEvent.call(this,t):(t.code==c.VAST_ERROR.GENERAL_ERROR?r.event={name:"AdsRequestError",errorCode:c.VAST_ERROR.IMA_REQUEST_ADS_ERROR,message:t.message,retryCount:this.retryCount}:t.code==c.VAST_ERROR.IMA_REQUEST_ADS_TIMEOUT&&(r.event={name:"AdsRequestError",errorCode:t.code,message:t.message,retryCount:this.retryCount,timeout:!0}),r.timed=!0),this.lastError&&null!=this.lastError.code&&(r.event.imaError=this.lastError.code),r},t.prototype.onContentPauseRequested=function(){this.log("onContentPauseRequested ")},t.prototype.onContentResumeRequested=function(){this.log("onContentResumeRequested ")},t.prototype.adBreakReadyHandler=function(e){this.log("adBreakReadyHandler ",e)},t.isGoogleIMA=function(e){return null!=e.match(/\/\/[^/]*g\.doubleclick\.net/)},t}(l.PlayerData);t.PlayerDataGoogleIMA=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(47),i=r(16),a=r(0),o=r(5),s=r(1),l=r(11),d=r(10),u=r(13),c=r(6),p=r(7),h=r(17);function A(e,t,r){t.duration=r,t.nonLinearCompleteTimer.cancel(),t.initNonLinearCompleter(),t.durationKnown=!0,t.vastTracker&&(t.vastTracker.duration=t.duration,t.vastTracker.setDuration(t.duration)),u.getPlayingPlayerData(e)==t&&(c.notifyApi(e,t,"player.durationChange"),e.beingVpaid&&i.callingVpaidEvent(e,"jsAdDurationChange",{duration:r}))}function f(e,t){t.firedEvents.AdLoaded?a.debugLogVast(e,t,"AdLoaded fired already",!1):(t.firedEvents.AdLoaded=!0,a.debugLogVast(e,t,"got vpaid adLoaded callback",!1),null!=t.requeryTimeout&&(a.debugLogVast(e,t,"cleared pending requery",!1),clearTimeout(t.requeryTimeout),t.requeryTimeout=null),t.state<s.PlayerDataState.Loading||t.state==s.PlayerDataState.Error?a.debugLogVast(e,t,"adLoaded on wrong state - ignoring it - "+t.state,!1):t.state>s.PlayerDataState.Initing&&t.state<s.PlayerDataState.Error?a.debugLogVast(e,t,"second adLoaded event - ignoring it",!1):(t.flowTimeout.cancel(),t.state=s.PlayerDataState.Ready,e.serverEvents.demandTimedEvent(t,{name:"AdLoaded"}),a.debugLogVast(e,t,"marked as ready to play",!0),h.logVastLoaded(e,t),c.notifyApi(e,t,"ad.loaded",e.mediaPreview?{mediaUrl:t.vpaidJsIframeVideo&&t.vpaidJsIframeVideo.src||""}:null),e.beingVpaid&&i.callingVpaidEvent(e,"jsAdReadyToStart",{}),l.playNext(e)))}function g(e,t){if(t.firedEvents.AdStarted)a.debugLogVast(e,t,"AdStarted fired already",!1);else{if(t.firedEvents.AdLoaded||f(e,t),t.firedEvents.AdStarted=!0,t.state<s.PlayerDataState.Started||t.state>s.PlayerDataState.Playing)return a.debugLogVast(e,t,"got vpaid impression/started callback but in the invalid state - "+s.PlayerDataState[t.state]+" - stopping the Ad",!1),p.vastError(e,t.vastId,p.VAST_ERROR.UNREQUESTED_START,"unrequested start on state "+s.PlayerDataState[t.state],null,t,!1,!0),u.stopPlayerData(e,t),void d.finishPlayerData(e,t,s.TerminateReason.UNREQUESTED_START,{code:p.VAST_ERROR.UNREQUESTED_START,message:"unrequested start on state "+s.PlayerDataState[t.state]});n.adStarted(e,t),t.firedEvents.AdImpression||t.impressionAfterStartTimeout.start(function(){h.logVastEvent(e,o.CEDATO_EVENT.E_ADSTART_WO_IMPRESSION,t,{}),a.debugLogVast(e,t,"Haven't get AdImpression in 3 seconds after AdStart",!1),t.viewableOnStart&&(a.debugLogVast(e,t,"Hiding the vpaid",!1),u.hideAdvertising(e,t))})}}function v(e,t){t.firedEvents.AdStarted&&!t.firedEvents.AdImpression||(a.debugLogVast(e,t,"got vpaid adComplete callback",!1),t.state==s.PlayerDataState.Playing||t.state==s.PlayerDataState.Finished?(t.onComplete(),t.callPauseTimer.cancel(),d.finishPlayerData(e,t,s.TerminateReason.AD_COMPLETE)):a.debugLogVast(e,t,"vpaid adcomplete callback on invalid state - ignoring - "+t.state,!1))}t.setThirdPartyTimeout=function(e,t){e.thirdPartyTimeout&&(-1!=t.mediaURL.indexOf("liverail.com")&&(-1==t.mediaURL.indexOf("LR_TIMEOUT_ADSOURCE")&&(t.mediaURL+="&LR_TIMEOUT_ADSOURCE="+e.thirdPartyTimeout,a.debugLogVast(e,t,"initMedia: added timeout to media file, new url: "+t.mediaURL,!1)),-1==t.mediaURL.indexOf("LR_TIMEOUT_DELIVERY")&&(t.mediaURL+="&LR_TIMEOUT_DELIVERY="+e.thirdPartyTimeout,a.debugLogVast(e,t,"initMedia: added timeout to media file, new url: "+t.mediaURL,!1))),-1!=t.mediaURL.indexOf("adap.tv")&&-1==t.mediaURL.indexOf("breakLoadedTimeout")&&(t.mediaURL+="&breakLoadedTimeout="+1e3*e.thirdPartyTimeout,a.debugLogVast(e,t,"initMedia: added timeout to media file, new url: "+t.mediaURL,!1)))},t.initAd=function(e,t){var r;e.serverEvents.demandEvent(t,{name:"initAd"}),t.flowTimeout.Seconds(t.timers.loadAd).start(function(){p.vastError(e,t.vastId,p.VAST_ERROR.AD_LOADED_TIMEOUT_ERROR,"",null,t,!1),d.finishPlayerData(e,t,s.TerminateReason.LOAD_AD_TIMEOUT,{code:p.VAST_ERROR.AD_LOADED_TIMEOUT_ERROR,message:""})});try{a.debugLogVast(e,t,"calling initAd",!1),t.state=s.PlayerDataState.Initing,r=t.initAd()}catch(e){r=e.message}r?(p.vastError(e,t.vastId,p.VAST_ERROR.AD_LOADED_JS_ERROR,r,null,t,!1,!0),d.finishPlayerData(e,t,s.TerminateReason.INIT_AD_ERROR,{code:p.VAST_ERROR.AD_LOADED_JS_ERROR,message:r})):a.debugLogVast(e,t,"initAd returned success",!1)},t.initStartAdHalfStopper=function(e,t){e.parallelStartAd&&t.startAdHalfTimeout.start(function(){a.debugLogVast(e,t,"half stopper point, starting more if ready",!1),l.playNext(e)})},t.initStartAdStopper=function(e,t){t.flowTimeout.Seconds(e.parallelStartAd?t.timers.startAdParallel:t.timers.startAdNonParallel).start(function(){u.stopPlayerData(e,t),p.vastError(e,t.vastId,p.VAST_ERROR.AD_STARTED_TIMEOUT_ERROR,"",null,t,e.parallelStartAd),d.finishPlayerData(e,t,s.TerminateReason.START_AD_TIMEOUT,{code:p.VAST_ERROR.AD_STARTED_TIMEOUT_ERROR,message:""}),l.playNext(e)})},t.AdLoadedHandler=f,t.AdErrorHandler=function(e,t,r){var n=r.errorMsg;if(t.firedEvents.AdError=!0,a.debugLogVast(e,t,"got vpaid aderror callback, message: "+n,!1),t.state<=s.PlayerDataState.Loading&&"jsima"!=t.adType||t.state==s.PlayerDataState.Finished)a.debugLogVast(e,t,"vpaid aderror callback on invalid state - ignoring - "+t.state,!1);else{null!=t.initAdThrottler&&(clearInterval(t.initAdThrottler),t.initAdThrottler=null);var i=function(e){var t=p.VpaidError.VPAID_UNKNOWN_ERROR,r="";try{r=e.toLowerCase()}catch(e){}return-1==r.indexOf("timeout")&&-1==r.indexOf("timed out")||(t=p.VpaidError.VPAID_TIMEOUT),-1==r.indexOf("empty")&&-1==r.indexOf("3403")||(t=p.VpaidError.VPAID_EMPTY_VAST),-1!=r.indexOf("domain")&&-1!=r.indexOf("block")&&(t=p.VpaidError.VPAID_EMPTY_BLOCKED_DOMAIN),-1==r.indexOf("no ad")&&-1==r.indexOf("there was an error parsing the ad tag response - null, errno: 0")||(t=p.VpaidError.VPAID_NO_AVAILABLE_ADS),-1==r.indexOf("but the server returned a vast error")&&-1==r.indexOf("failed to parse liverail xml response")&&-1==r.indexOf("unknown liverail xml response type")||(t=p.VpaidError.VPAID_VAST_ERROR),-1==r.indexOf("security error")&&-1==r.indexOf("2048")||(t=p.VpaidError.VPAID_SECURITY_ERROR),-1==r.indexOf("2032")&&-1==r.indexOf("9408")&&-1==r.indexOf("error loading asset : ioerror")||(t=p.VpaidError.VPAID_STREAM_ERROR),-1!=r.indexOf("1903")&&(t=p.VpaidError.VPAID_START_TIMEOUTED),-1!=r.indexOf("1902")&&(t=p.VpaidError.VPAID_INTERNAL_VPAID_ERROR),-1!=r.indexOf("volume violation")&&(t=p.VpaidError.VPAID_VOLUME_VIOLATION),-1!=r.indexOf("non linear ads")&&(t=p.VpaidError.VPAID_IMA_NON_LINEAR),-1!=r.indexOf("adstart exception")&&(t=p.VpaidError.VPAID_INNER_VPW_EXCEPTION),t}(n);i==p.VpaidError.VPAID_VOLUME_VIOLATION&&a.submitFullDebugLog(e,{debugLogReason:"volume",keepDebugLog:!0}),c.notifyApi(e,t,"aderror"),c.notifyApi(e,t,"ad.error"),t.state>=s.PlayerDataState.Started&&(e.parallelStartAd&&t.state!=s.PlayerDataState.Playing||a.debugLogVast(e,t,"was playing",!1),t.flowTimeout.cancel(),t.startAdHalfTimeout.cancel());var o,l=!1,u=!1;t.state==s.PlayerDataState.Initing?l=!0:t.state==s.PlayerDataState.Started&&e.parallelStartAd&&(u=!0),p.vastError(e,t.vastId,p.VAST_ERROR.GENERAL_ERROR,n,null,t,u,l,null),o=t.state>s.PlayerDataState.Initing?s.TerminateReason.VPAID_ERROR_READY:s.TerminateReason.VPAID_ERROR_INITING,d.finishPlayerData(e,t,o,{code:p.VAST_ERROR.GENERAL_ERROR,message:n,vpaidError:i})}},t.AdStartedHandler=g,t.AdImpressionHandler=function(e,t){t.firedEvents.AdImpression?a.debugLogVast(e,t,"AdImpression fired already",!1):(a.debugLogVast(e,t,"got vpaid impression callback",!1),t.firedEvents.AdImpression=!0,t.firedEvents.AdStarted||g(e,t),t.state<s.PlayerDataState.Started||t.state>s.PlayerDataState.Playing?a.debugLogVast(e,t,"got vpaid impression callback but in invalid state - "+s.PlayerDataState[t.state]+" - ignoring "+t.state,!1):(t.flowTimeout.cancel(),t.impressionAfterStartTimeout.cancel(),t.startAdHalfTimeout.cancel(),t.errorCount=0,t.impressionOnlyWithVideoStart&&!t.firedEvents.AdVideoStart||n.adImpression(e,t)))},t.AdVideoStartHandler=function(e,t){t.firedEvents.AdVideoStart?a.debugLog(e,"AdVideoStart fired already",!1):(t.firedEvents.AdVideoStart=!0,a.debugLogVast(e,t,"got vpaid AdVideoStart callback",!1),e.beingVpaid&&i.callingVpaidEvent(e,"jsAdVideoStart",{}),t.impressionOnlyWithVideoStart&&t.firedEvents.AdImpression&&n.adImpression(e,t))},t.AdFirstQuartileHandler=function(e,t){t.firedEvents.AdStarted&&!t.firedEvents.AdImpression||t.onQuartile(p.Quartiles.FIRST)},t.AdMidpointHandler=function(e,t){t.firedEvents.AdStarted&&!t.firedEvents.AdImpression||t.onQuartile(p.Quartiles.MIDPOINT)},t.AdThirdQuartileHandler=function(e,t){t.firedEvents.AdStarted&&!t.firedEvents.AdImpression||t.onQuartile(p.Quartiles.THIRD)},t.AdCompleteHandler=v,t.AdStoppedHandler=function(e,t){t.firedEvents.AdStopped=!0,a.debugLogVast(e,t,"got vpaid adStopped callback",!1),t.state==s.PlayerDataState.Playing&&(a.debugLog(e,"triggering manual AdComplete",!1),v(e,t))},t.AdClickthruHandler=function(e,t,r){var n=r.url,i=r.id,o=r.playerHandles;a.debugLogVast(e,t,"got vpaid click through callback, url: "+n+", id: "+i+", playerHandles: "+o,!1),u.adClick(e,t,n,!1===o)},t.AdDurationChangeHandler=function(e,t,r){var n=r.t;a.debugLogVast(e,t,"got vpaid ad duration time callback, t: "+n,!0),null!=n&&A(e,t,n)},t.AdRemainingTimeChangeHandler=function(e,t,r){var n=r.t;a.debugLogVast(e,t,"got vpaid ad remaining time callback, t: "+n,!0),null!=n&&(t.lastRemainingTime&&t.lastRemainingTime<n&&t.nonLinearCompleteTimer.cancel(),t.lastRemainingTime=n,!t.durationKnown||t.state<s.PlayerDataState.Playing?(a.debugLogVast(e,t,"got first vpaid ad remaining time callback, duration set to t: "+n,!0),A(e,t,n)):(!t.skipVastTracker&&t.vastTracker&&t.vastTracker.setProgress(t.duration-n),e.beingVpaid&&i.callingVpaidEvent(e,"jsAdRemainingTimeChange",{remainingTime:n})))},t.FailureHandler=function(e,t){a.debugLogVast(e,t,"got vpaid failure callback",!0),e.beingVpaid&&i.callingVpaidEvent(e,"jsFailure",{})},t.AdPausedHandler=function(e,t){t.callPauseTimer.start(function(){a.debugLogVast(e,t,"got vpaid ad_paused callback",!0),c.pausePlayingPlayer(e,t)})},t.AdPlayingHandler=function(e,t){a.debugLogVast(e,t,"got vpaid ad-playing callback",!0),c.resumePlayingPlayer(e,t)},t.AdVolumeChangeHandler=function(e,t){var r=t.getAdVolume();if(r){var n=r.volume,i=r.muted;!e.interactive||t.viewableForSeconds()<1||(a.debugLogVast(e,t,"got vpaid ad_volume_change callback volume:"+n+"  muted:"+i,!1),c.setPlayerVolume(e,n,i,t))}},t.AdSizeChangeHandler=function(e,t){a.debugLogVast(e,t,"got vpaid ad_size_change callback",!0),e.beingVpaid&&i.callingVpaidEvent(e,"jsAdSizeChange",{})},t.AdSkippedHandler=function(e,t){a.debugLogVast(e,t,"got vpaid ad_skipped callback",!0),t.onSkip()},t.AdSkippableStateChangeHandler=function(e,t){t.state==s.PlayerDataState.Playing?(a.debugLogVast(e,t,"got vpaid ad_skippable_state_change callback",!0),u.changeSkippableState(e,t)):a.debugLogVast(e,t,"vpaid ad_skippable_state_change callback on invalid state - ignoring - "+t.state,!1)},t.AdLinearChangeHandler=function(e,t){a.debugLogVast(e,t,"got vpaid ad_linear_change callback",!0),e.beingVpaid&&i.callingVpaidEvent(e,"jsAdLinearChange",{})},t.AdExpandedChangeHandler=function(e,t){a.debugLogVast(e,t,"got vpaid ad_expanded_change callback",!0),e.beingVpaid&&i.callingVpaidEvent(e,"jsAdExpandedChange",{})},t.AdInteractionHandler=function(e,t){a.debugLogVast(e,t,"got vpaid ad_interaction callback",!0),e.beingVpaid&&i.callingVpaidEvent(e,"jsAdInteraction",{})},t.AdUserAcceptInvitationHandler=function(e,t){a.debugLogVast(e,t,"got vpaid ad_user_accept_invitation callback",!0),e.beingVpaid&&i.callingVpaidEvent(e,"jsAdUserAcceptInvitation",{})},t.AdUserMinimizeHandler=function(e,t){a.debugLogVast(e,t,"got vpaid ad_user_minimize callback",!0),e.beingVpaid&&i.callingVpaidEvent(e,"jsAdUserMinimize",{})},t.AdUserCloseHandler=function(e,t){t.firedEvents.AdStarted&&!t.firedEvents.AdImpression||(a.debugLogVast(e,t,"got vpaid adUserClose callback",!1),t.state==s.PlayerDataState.Playing||t.state==s.PlayerDataState.Finished?(e.beingVpaid&&i.callingVpaidEvent(e,"jsAdUserClose",{}),t.callPauseTimer.cancel(),d.finishPlayerData(e,t,s.TerminateReason.AD_COMPLETE)):a.debugLogVast(e,t,"vpaid adcomplete callback on invalid state - ignoring - "+t.state,!1))},t.AdLogHandler=function(e,t){a.debugLogVast(e,t,"got vpaid ad_log callback",!0),e.beingVpaid&&i.callingVpaidEvent(e,"jsAdLog",{})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=r(10),a=r(25),o=r(0),s=r(5),l=r(7),d=r(17),u=r(16),c=r(6),p=r(13),h=r(11),A=r(15),f=r(2);t.adStarted=function(e,t){t.adStartCount++,e.beingVpaid&&u.callingVpaidEvent(e,"jsAdStarted",{}),t.viewableOnStart&&p.showAdvertising(e,t)},t.adImpression=function(e,t){if(o.debugLogVast(e,t,"adImpression called",!1),function(e,t){e.anyAdPlayed||(e.anyAdPlayed=!0,s.logEvent(e,s.CEDATO_EVENT.E_ADPLAYED,{},{gpvOrdNo:t.originalUniqId}),e.startTime>(new Date).getTime()&&o.submitFullDebugLog(e,{debugLogReason:"negative adplayed"})),d.isCedatox(t)&&s.logEvent(e,s.CEDATO_EVENT.E_ADPLAYED,{},{playerId:t.playerId})}(e,t),t.gotAdImpression)return o.debugLogVast(e,t,"second ad impression - ignoring",!1),!0;if(e.serverEvents.demandTimedEvent(t,{name:"AdImpression"}),!e.submitDebugLogForVastId||e.submitDebugLogForVastId!=t.vastId&&e.submitDebugLogForVastId!=t.cxvid||o.submitFullDebugLog(e,{keepDebugLog:!0}),t.skipVastTracker||null!=t.vastTracker){if(A.logImpression(e,t.adType),t.state==n.PlayerDataState.Finished)return o.debugLogVast(e,t,"adImpression canceled - player data is finishing",!1),!1;if(e.parallelStartAd&&e.anyPlaying&&t.state!=n.PlayerDataState.Playing)return p.stopPlayerData(e,t),l.vastError(e,t.vastId,l.VAST_ERROR.DOUBLE_PARALLEL_STARTED,"parallel double started",null,t),i.finishPlayerData(e,t,n.TerminateReason.DOUBLE_PARALLEL_STARTED,{code:l.VAST_ERROR.DOUBLE_PARALLEL_STARTED,message:"parallel double started"}),!1;if(e.paused&&!e.allowPausedImpressions)return p.stopPlayerData(e,t),l.vastError(e,t.vastId,l.VAST_ERROR.IMPRESSION_ON_PAUSED,"impression on paused",null,t),i.finishPlayerData(e,t,n.TerminateReason.IMPRESSION_ON_PAUSED,{code:l.VAST_ERROR.IMPRESSION_ON_PAUSED,message:"impression on paused"}),!1;if(e.anyPlaying=!0,t.state=n.PlayerDataState.Playing,t.gotAdImpression=!0,p.showAdvertising(e,t),p.initSkipTimer(e,t),t.initNonLinearCompleter(),e.parallelStartAd){e.beingVpaid&&(e.autoplay=!1),o.debugLog(e,"parallel startAd mode - stopping any other opened startAd",!1),d.logVastRequest(e,t);for(var r=e.plist.length-1;r>=0;r--){var g=e.plist[r];g.vastId!=t.vastId&&g.state==n.PlayerDataState.Started&&(p.stopPlayerData(e,g),l.vastError(e,g.vastId,l.VAST_ERROR.PARALLEL_STARTED,"parallel started",null,g),i.finishPlayerData(e,g,n.TerminateReason.PARALLEL_STARTED,{code:l.VAST_ERROR.PARALLEL_STARTED,message:"stopped due to parallel started"}))}o.debugLog(e,"parallel startAd mode - stopping any other opened startAd - done",!1)}return function(e,t){var r=((new Date).getTime()-t.startAdTime)/1e3;d.logVastEvent(e,s.CEDATO_EVENT.E_ADSTART,t,{time:r.toFixed(1),gpvOrdNo:t.originalUniqId,retryTestGroup:e.retryTestGroup,widthDetected:e.widthDetected,heightDetected:e.heightDetected,vastType:d.reportingVastType(t),actualVastType:d.reportingActualVastType(t)})}(e,t),null!=t.allocatedQuotaImp&&(t.allocatedQuotaImp-=1),c.notifyApi(e,t,"adstart"),c.notifyApi(e,t,"ad.start"),a.triggerBeacon(e,t,"adstart"),t.skipVastTracker||t.vastTracker.load(),e.beingVpaid&&(o.debugLogVast(e,t,"has calling VPAID object - calling events",!1),u.callingVpaidEvent(e,"jsAdImpression",{})),e.curAdStarts++,t.curAdStarts++,e.maxAdStarts&&e.curAdStarts>=e.maxAdStarts&&(o.debugLogVast(e,t,"reached maximum number of allowed ad starts, freezing",!1),i.freezePlayers(e,t)),t.sameVastTimer[t.disableSameVastPrefetch?"hold":"start"]().then(function(){return h.sameVastLoad(e,t)}),e.paused?c.pausePlayer(e,t):e.allowLongImpressions||t.isPaused||t.flowTimeout.Seconds(t.timers.longImpression).start(function(){l.vastError(e,t.vastId,l.VAST_ERROR.LONG_IMPRESSION,"long impression",null,t),f.safeguard("longImpression",{players:e,log:!0},function(){i.finishPlayerData(e,t,n.TerminateReason.LONG_IMPRESSION,{code:l.VAST_ERROR.LONG_IMPRESSION,message:""})})}),!0}i.finishPlayerData(e,t,n.TerminateReason.NO_VAST_TRACKER,{code:l.VAST_ERROR.GENERAL_ERROR,message:"no vast tracker"})}},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(8),a=r(12),o=r(27),s=r(15),l=r(39),d=r(19),u=r(0),c=r(18),p=r(1),h=r(11),A=r(10),f=r(13),g=r(26),v=r(2),m=r(86),y=r(4),E=r(9),_=r(7),T=r(30);function b(e){switch(typeof e){case"boolean":return{muted:!e};case"number":if(e>=0&&e<=1)return{volume:e};break;case"string":if("on"===e||"off"===e)return{muted:"on"===e}}return null}function R(e,t){u.debugLog(e,"gpvAnswer: get order to destroy player with vastId or demainId "+t,!1);for(var r=[],n=0,i=e.plist;n<i.length;n++){var a=i[n];a.demandId?a.demandId==t&&r.push(a):(a.vastId==t||a.cxvid&&a.cxvid==t)&&r.push(a)}e.anyPlaying=r.length>0||e.anyPlaying;for(var o=0,s=r;o<s.length;o++){var l=s[o];e.anyPlaying=e.anyPlaying&&A.anyOtherPlaying(e,l),f.destroyPlayerData(e,l,!0)}return r.length}function S(e,t){if(t.is&&function(e,t){var r=y.upgradeProtocol(e.protocol,t),n=(new Date).getTime().toString();r=r.replace(/\[CB\]/g,n).replace(/\[DIVID\]/g,e.divId),E.injectScript(r),u.debugLog(e,"gpv requested script: "+r,!1)}(e,t.is),l.readPlayerConfig(e,t),l.readPlayerConfig(e,e.tagConfig),T.readPlayerDemandConfig(e,e.tagConfig,t),a.assignWhen(a.NotNull,e,{beacons:t.callbacks,moat:t.moat,customVars:t.cvars,blacklist:t.bll,gpvCookie:t.gpvck,supplyCookieJson:t.cookieJson,gpvRequeryInterval:a.number(t.gpvnext),gpvUrl:t.gpvurl,networkId:a.number(t.ni),retryTestGroup:a.number(t.rtg),vastWaitFactor:a.number(t.vwf,1),gpvMethod:a.number(t.gpvm),areqMethod:a.number(t.areqm),multipleEventMethod:a.number(t.multim)}),e.timers=a.assign({},new m.Timers,t.timers),a.assignWhen(a.Truly,e,{keepDebugLog:a.boolean(t.sdl),debugLogReason:a.string(t.sdlr),logVastResponse:a.boolean(t.lvr),submitDebugLogOnPlayerError:a.boolean(t.sdlpe),submitDebugLogOnVastError:a.boolean(t.sdlve),submitDebugLogForVastId:a.number(t.vd)}),e.keepDebugLog&&(u.debugLog(e,"gpv turned sdl on",!1),u.submitDebugLogBuffer(e)),t.rvu&&(e.urlReplacer=[],e.urlReplacer.vastId=t.rvu.v,e.urlReplacer.searchFor=t.rvu.s,e.urlReplacer.replaceWith=t.rvu.r),t.ho&&1==t.ho&&(e.htmlOnly=!0),e.customVars&&u.debugLog(e,"macros values - "+E.stringifyObject(e.customVars),!1),!e.gpvConfLoaded){e.vastWaitFactor=e.vastWaitFactor/2,e.maxFailedVastRetries>1&&e.maxFailedVastRetries<50&&(e.maxFailedVastRetries=2*e.maxFailedVastRetries);for(var r,n,i={},s=0,c=e.initOverrides;s<c.length;s++){var p=c[s],h=p.name,A=p.value;switch(h){case"autoplay":e.mainAutoplay=!!A;break;case"interactive":e.interactive=!!A;break;case"content":r=A;break;case"schedule":n=A;break;case"moat":e.moat=A;break;case"contentUrl":case"contentClickUrl":case"contentImage":case"contentImagePosition":case"contentExternal":i[h.substr(7)]=A;break;case"rotate":switch(A){case!0:A=null;break;case!1:A=1;break;default:A*=1}e.maxAdStarts=A;break;case"sound":var f=b(A);null!=f&&(e.volume=null!=f.volume?f.volume:f.muted?0:1,e.muted=null!=f.muted?f.muted:!f.volume);break;case"allowSound":"must"==A?(A=!0,e.muteToPlay&&(e.mainAutoplay=!1)):"dynamic"==A&&(e.dynamicSound=!0,A=!1);case"skipButton":case"closeButton":null!=A&&(e[h]=A);break;case"uiControls":A&&(e.extControls=A)}if(e.isDebugVersion)switch(h){case"timers":e.timers=a.assign(e.timers,A);break;case"callbacks":e.beacons=A;break;case"debug":case"customVars":a.assignWhen(a.NotNull,e[h],A)}}e.initOverrides=[],e.gpvConfLoaded=!0,e.beingVpaid?e.mainAutoplay=!1:(e.clickToPlay&&(e.mainAutoplay=!1),e.mainAutoplay||(e.usejsv=!1)),null==e.parallelStartAd&&(e.info.mobile&&e.mainAutoplay?e.parallelStartAd=!1:e.parallelStartAd=!0),e.volume=null!=e.volume?e.volume:e.allowSound?1:0,e.muted=null!=e.muted?e.muted:!e.allowSound,e.dynamicSound=null!=e.dynamicSound?e.dynamicSound:!e.muted,e.controlBar&&e.usejsv&&"native"==e.controlBarType&&(e.controlBar=!1),e.interactive=null!=e.interactive?e.interactive:e.controlBar,e.blacklist=e.blacklist||o.BlackLists[e.blackListName],d.initContentDefinition(e,t.content,r,i),function(e,t,r,n){var i,o={time:{wake:10,wait:10},api:!1};!r&&t&&(e.postRoll=!!t.cpf);(i=a.assign({},r,n)).content&&(a.assignWhen(a.NotIn,i.content,o.content),i.content.wait||(i.content=null));i.time&&(a.assignWhen(a.NotIn,i.time,o.time),i.time.start||(i.time=null));if(i.api=!!i.api,i.time||i.content||i.api){if(e.schedule=i,i.api)return u.debugLog(e,"Frozen until API request",!1),void(e.frozen=!0);i.time&&u.debugLog(e,"initiating midRoll every "+i.time.start+" sec., wake "+i.time.wake+" sec., wait "+i.time.wait+" sec.",!1),i.content&&u.debugLog(e,"initiating preroll timeout "+i.content.wait+" sec.",!1),i.time&&!i.content&&(u.debugLog(e,"Frozen until midRoll",!1),e.frozen=!0)}}(e,t.content,t.schedule,n),e.autoplay=!1,e.paused=!0}}function L(e){D(e).then(function(t){return P(e,t)}).catch(v.safecatch(e,"getPlayerVast"))}function D(e){var t=function(e){var t,r=[],i=[],a=[];for(var o in e.vastList)e.vastList.hasOwnProperty(o)&&(e.vastList[o]==_.VastState.ACTIVE?r.push(o):e.vastList[o]==_.VastState.DEACTIVATED&&-1==i.indexOf(o)?i.push(o):e.vastList[o]==_.VastState.FROZEN&&-1==a.indexOf(o)&&a.push(o));var s=null,l={av:r.length?r.join(","):"",dv:i.length?i.join(","):"",fv:a.length?a.join(","):""};return e.gpvUrl?(t=e.gpvUrl,-1==e.gpvUrl.indexOf("?")&&-1==e.gpvUrl.indexOf("&")||(t+="&"),s=l):(t=e.serverHost()+"/player/gpv",s=n({p:e.playerId,d:e.domain,sid:e.subid,pv:e.playerVersion,w:e.width,h:e.height,f:"0",dd:e.domainDetected!==e.domain?e.domainDetected:"",vs:e.hasVideoSupport?"1":"0",sa:e.detect,gpvck:e.gpvCookie,s:E.getFixedAgoTime(e.startTime)},l,e.gpvExtraParams)),{url:t,params:s,usePost:e.gpvMethod==p.requestMethod.POST}}(e);return u.debugLog(e,"gpv url: "+t.url,!1),new i.Promise(function(r,n){var i=2;function a(r){if(i--<=0)return u.debugLog(e,"gpv load failed, url: "+t.url,!1),void n(r);setTimeout(o,e.gpvRetryInterval)}function o(){e.gpvAttempt++,c.requestJSON(t).then(function(e){return e?r(e):a({name:"GPV",message:"Empty GPV data"})},a)}o()})}function P(e,t){v.safeguard("gpvAnswer",{players:e,log:!0},function(){e.gpvTime=E.getFixedAgoTime(e.startTime),u.debugLog(e,t,!0),u.debugLog(e,"gpvAnswer: initializing players",!1);var r=t.fs?t.fs[0]:t;e.urlReplacer=null;for(var n=0,i=[],a=0,o=r;a<o.length;a++){if("c"==(d=o[a]).id&&"d"==d.c)return u.debugLog(e,"gpvAnswer: get order from gpv to destroy all players",!1),void A.freezePlayers(e);"c"==d.id?S(e,d):"d"==d.c&&(n+=R(e,d.id))}for(var s=0,l=r;s<l.length;s++){var d;if((d=l[s]).id&&"c"!=d.id&&"d"!=d.c){u.debugLog(e,"gpvAnswer: initializing player for vastId "+d.id+", group: "+d.group+", url: "+d.url,!1);var c=new g.PlayerDataPlaceHolder(e,d);i.push(c),e.vastList[c.demandId||c.vastId]=_.VastState.ACTIVE}}u.debugLog(e,"gpvAnswer: adding vasts to playlist and fetch",!1),_.addToPlaylistAndFetch(e,i),n&&h.playNext(e),e.schedule&&(e.schedule.time||e.schedule.api)||(u.debugLog(e,"gpvAnswer: scheduled gpv, next query after "+e.gpvRequeryInterval/1e3+" seconds"),e.requeryGpvTimer=setTimeout(function(){return L(e)},e.gpvRequeryInterval))})}t.extractVolumeValue=b,t.queryVastsFromServer=L,t.promiseGPV=function(e,t){return t&&(t.onloadGPV||t.gpvData)?t.gpvData?(s.fastTagStatus(e,!0,"Ready"),i.Promise.resolve(t.gpvData)):new i.Promise(function(r,n){var i=function(){return D(e).then(r,n)},a=setTimeout(function(){s.fastTagStatus(e,!1,"Timeout expecting FatsTag GPV"),i()},e.gpvRetryInterval);t.onloadGPV=function(t){clearTimeout(a),t?(s.fastTagStatus(e,!0,"Arrived"),r(t)):(s.fastTagStatus(e,!1,"Error retrieving/parsing FatsTag GPV"),i())}}):(s.fastTagStatus(e,!1,"FastTag is off"),D(e))},t.gpvAnswer=P},,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(52),i=r(53),a=r(54),o=r(21),s=r(8);r(14).default.Promise=s.Promise;var l=r(1),d=r(4),u=r(0),c=r(15),p=r(5),h=r(38),A=r(39),f=r(6),g=r(48),v=r(16),m=r(9);r(40);var y=r(89),E=r(90),_=r(2),T=r(33);function b(e){return void 0===e&&(e=navigator.userAgent),!!e.match(/Safari\/604/)}function R(e,t){var r={},h=0,R=!1;try{if(window&&(window.onerror=function(e,t,n){try{-1!==t.indexOf("algovid")&&u.debugLog(r,"Unhandeled exception "+e+" at "+t+" : "+n,!1)}catch(e){}}),r=A.configurePlayer(d.getUrlVars(e.params,!0))){r.JSV=t.jsv,r.DMVAST=i,function(e){e.sendPixel=function(e){(new Image).src=e},e.injectScript=function(e){m.injectScript(e)},e.injectIframe=function(e){m.injectIframe(e)},e.playerEvents=new o.EventEmitter2({wildcard:!0,maxListeners:20}),e.serverEvents=new E.ServerEvents(e)}(r);try{if(r.src=e.params,e.currentScript&&(r.currentScript=e.currentScript),h=1,R=!1,u.initDebugLog(r),u.debugLog(r,"Tag: "+r.src,!1),u.debugLog(r,"player initialized. player version: "+r.playerVersion+", playerId: "+r.playerId+", subid: "+r.subid+", domain: "+r.domain+", protocol: "+r.protocol+", width: "+r.width+", height: "+r.height,!1),u.debugLog(r,"ua: "+window.navigator.userAgent,!1),r.divId||p.playerError(r,l.PlayerError.GENERAL,"divId not defined"),!r.playerId)return void p.playerError(r,l.PlayerError.GENERAL,"playerId not defined");u.debugLog(r,"domain detected: "+r.domainDetected,!1),r.domain!==r.domainDetected?u.debugLog(r,"domain received in param: "+r.domain,!1):u.debugLog(r,"using detected domain: "+r.domain,!1),r.hasVideoSupport=function(){try{var e=document.createElement("video");return e.volume=.5,!!e.canPlayType}catch(e){return!1}}(),r.hasVideoSupport||u.debugLog(r,"no video support",!1),r.info=a.getDeviceInfo(),r.info?u.debugLog(r,"get device info returned mobile: "+r.info.mobile+", os: "+r.info.os+", osv: "+r.info.osv+", make: "+r.info.make+", model: "+r.info.model,!1):(r.info={mobile:!1},u.debugLog(r,"unknown device info",!1)),r.pageTitle=function(){var e;try{e=window.top.document.title}catch(t){e=document.title}return e||""}(),h=5,r.jsCallingVpaid&&(r.beingVpaid=!0,r.maxAdStarts=1,v.prePrepareCallingObject(r)),r.detect=function(e){if(e){var t="h";"https:"===e.protocol&&(t="s");var r="h";e.beingVpaid&&(r="j");var n="d";return e.info&&e.info.mobile&&(n="m"),e.isApp&&(n="a"),t+r+n}}(r),h=41,n.include(),h=42,(r.isApp||r.forceJSV)&&(r.info.mobile=!0),h=50,r.info.mobile?(r.muteToPlay=!0,r.freqRetry=!0):r.muteToPlay=b();var S=r.muteToPlay?function(e){e.JSV||(e.forceJSV=!1);null!=e.forceJSV&&u.debugLog(e,"jsv override - "+(e.forceJSV?"forced":"disabled"),!1);return function(){if(1==e.forceJSV)return s.Promise.resolve(!1);return y.supportsPlayVideo().then(function(){return u.debugLog(e,"detected video autoplay",!1),!0},function(){return u.debugLog(e,"detected video autoplay - not supported",!1),!1})}().then(function(t){t||(0!=e.forceJSV?(e.usejsv=!0,c.jsvUsage(e,e.forceJSV),e.JSV.include(),e.hasVideoSupport=!0,u.debugLog(e,"jsv loaded",!1)):e.clickToPlay=!0)}).catch(_.safecatch(e,"JSV loading error"))}(r):s.Promise.resolve(null);p.logEvent(r,p.CEDATO_EVENT.E_START,{},{}),R=!0,h=52,v.postPrepareCallingObject(r),h=54;var L,D=g.promiseGPV(r,e),P=T.getRootDivPromise(r);s.Promise.all([D,S,P]).then(function(e){var n=e[0];return L=n,f.setupAPI(r,t.api||window.CEDATO_API)}).then(function(){T.initPlugins(r),g.gpvAnswer(r,L),T.playerStart(r)}).catch(function(e){return p.playerError(r,l.PlayerError.GENERAL,e||"init stage unknown error")})}catch(e){p.playerError(r,l.PlayerError.JS_EXCEPTION,"init stage "+h+" gave JS exception: "+e.message,e)}}}catch(e){r.playerId||(r.playerId=0),r.serverHost||(r.serverHost=function(e){return"https://p.algovid.com"}),r.subid||(r.subid=""),r.playerVersion||(r.playerVersion="114.27"),r.sessionId||(r.sessionId="");try{h&&(h=h)}catch(e){h=0}0===h&&u.initDebugLog(r),p.playerError(r,l.PlayerError.JS_EXCEPTION,"init error  gave JS exception: "+encodeURIComponent(e.message),e),R||p.logEvent(r,p.CEDATO_EVENT.E_START,{},{})}}function S(e){var t=function(){var e,t;return(t=document.currentScript?(e=document.currentScript).src:d.ScriptPath())&&h.checkIndexes(t)||(e||(e=h.getScriptTag()),e&&(t=e.src)),{src:t,currentScript:e}}();-1!==t.src.indexOf("?ob=")&&-1!==t.src.indexOf("&ob=")||-1!==t.src.indexOf("?job=")&&-1!==t.src.indexOf("&job=")||R({params:t.src,currentScript:t.currentScript,gpvData:null,onloadGPV:null},e)}t.needMuteToPlay=b,t.default=function(e){var t=e.tag;t?(t.init||(t.init=function(){!function(e,t){for(var r=0,n=e.players;r<n.length;r++){var i=n[r];i.inited||(R(i,t),i.inited=!0)}}(t,e)}),t.init()):S(e)}},function(e,t){t.include=function(){try{Object.getPrototypeOf||(Object.getPrototypeOf=function(e){if(e!==Object(e))throw TypeError("Object.getPrototypeOf called on non-object");return e.__proto__||e.constructor.prototype||Object.prototype}),"function"!=typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(e){if(e!==Object(e))throw TypeError("Object.getOwnPropertyNames called on non-object");var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(t);return r}),"function"!=typeof Object.create&&(Object.create=function(e,t){if("object"!=typeof e)throw TypeError();function r(){}r.prototype=e;var n=new r;if(e&&(n.constructor=r),void 0!==t){if(t!==Object(t))throw TypeError();Object.defineProperties(n,t)}return n}),function(){if(!Object.defineProperty||!function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()){var e=Object.defineProperty;Object.defineProperty=function(t,r,n){if(e)try{return e(t,r,n)}catch(e){}if(t!==Object(t))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in n&&Object.prototype.__defineGetter__.call(t,r,n.get),Object.prototype.__defineSetter__&&"set"in n&&Object.prototype.__defineSetter__.call(t,r,n.set),"value"in n&&(t[r]=n.value),t}}}(),"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(e,t){if(e!==Object(e))throw TypeError("Object.defineProperties called on non-object");var r;for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&Object.defineProperty(e,r,t[r]);return e}),Object.keys||(Object.keys=function(e){if(e!==Object(e))throw TypeError("Object.keys called on non-object");var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(t);return r}),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw TypeError("Bind must be called on a function");var t=[].slice,r=t.call(arguments,1),n=this,i=function(){return n.apply(this instanceof a?this:e,r.concat(t.call(arguments)))};function a(){}return a.prototype=n.prototype,i.prototype=new a,i}),Array.isArray=Array.isArray||function(e){return Boolean(e&&"[object Array]"===Object.prototype.toString.call(Object(e)))},Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),r=t.length>>>0;if(0===r)return-1;var n=0;if(arguments.length>0&&(n=Number(arguments[1]),isNaN(n)?n=0:0!==n&&n!==1/0&&n!==-1/0&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=r)return-1;for(var i=n>=0?n:Math.max(r-Math.abs(n),0);i<r;i++)if(i in t&&t[i]===e)return i;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),r=t.length>>>0;if(0===r)return-1;var n=r;arguments.length>1&&((n=Number(arguments[1]))!=n?n=0:0!==n&&n!==1/0&&n!==-1/0&&(n=(n>0||-1)*Math.floor(Math.abs(n))));for(var i=n>=0?Math.min(n,r-1):r-Math.abs(n);i>=0;i--)if(i in t&&t[i]===e)return i;return-1}),Array.prototype.every||(Array.prototype.every=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw TypeError();var n,i=arguments[1];for(n=0;n<r;n++)if(n in t&&!e.call(i,t[n],n,t))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw TypeError();var n,i=arguments[1];for(n=0;n<r;n++)if(n in t&&e.call(i,t[n],n,t))return!0;return!1}),Array.prototype.forEach||(Array.prototype.forEach=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw TypeError();var n,i=arguments[1];for(n=0;n<r;n++)n in t&&e.call(i,t[n],n,t)}),Array.prototype.map||(Array.prototype.map=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw TypeError();var n=[];n.length=r;var i,a=arguments[1];for(i=0;i<r;i++)i in t&&(n[i]=e.call(a,t[i],i,t));return n}),Array.prototype.filter||(Array.prototype.filter=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw TypeError();var n,i=[],a=arguments[1];for(n=0;n<r;n++)if(n in t){var o=t[n];e.call(a,o,n,t)&&i.push(o)}return i}),Array.prototype.reduce||(Array.prototype.reduce=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw TypeError();if(0===r&&1===arguments.length)throw TypeError();var n,i=0;if(arguments.length>=2)n=arguments[1];else for(;;){if(i in t){n=t[i++];break}if(++i>=r)throw TypeError()}for(;i<r;)i in t&&(n=e.call(void 0,n,t[i],i,t)),i++;return n}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw TypeError();if(0===r&&1===arguments.length)throw TypeError();var n,i=r-1;if(arguments.length>=2)n=arguments[1];else for(;;){if(i in this){n=this[i--];break}if(--i<0)throw TypeError()}for(;i>=0;)i in t&&(n=e.call(void 0,n,t[i],i,t)),i--;return n}),String.prototype.trim||(String.prototype.trim=function(){return String(this).replace(/^\s+/,"").replace(/\s+$/,"")}),Date.now||(Date.now=function(){return Number(new Date)}),Date.prototype.toISOString||(Date.prototype.toISOString=function(){function e(e){return("00"+e).slice(-2)}return this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"."+function(e){return("000"+e).slice(-3)}(this.getUTCMilliseconds())+"Z"})}catch(e){}}},function(e,t,r){var n;e.exports=function e(t,r,i){function a(s,l){if(!r[s]){if(!t[s]){var d="function"==typeof n&&n;if(!l&&d)return n(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[s]={exports:{}};t[s][0].call(c.exports,function(e){var r=t[s][1][e];return a(r||e)},c,c.exports,e,t,r,i)}return r[s].exports}for(var o="function"==typeof n&&n,s=0;s<i.length;s++)a(i[s]);return a}({1:[function(e,t,r){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function a(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,r,n,s,l,d;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(o(r=this._events[e]))return!1;if(i(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),r.apply(this,s)}else if(a(r))for(s=Array.prototype.slice.call(arguments,1),d=r.slice(),n=d.length,l=0;l<n;l++)d[l].apply(this,s);return!0},n.prototype.addListener=function(e,t){var r;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(r=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!i(t))throw TypeError("listener must be a function");var r=!1;function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var r,n,o,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],o=r.length,n=-1,r===t||i(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(r)){for(s=o;s-- >0;)if(r[s]===t||r[s].listener&&r[s].listener===t){n=s;break}if(n<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},{}],2:[function(e,t,r){var n;n=function(){this.id=null,this.sequence=null,this.system=null,this.title=null,this.description=null,this.advertiser=null,this.pricing=null,this.survey=null,this.errorURLTemplates=[],this.impressionURLTemplates=[],this.creatives=[],this.extensions=[]},t.exports=n},{}],3:[function(e,t,r){var n,i,a;i=e("./parser"),a=e("./util"),n=function(){function e(){}return e.cappingFreeLunch=0,e.cappingMinimumTimeInterval=0,e.options={withCredentials:!1,timeout:0},e.get=function(e,t,n){var a,o,s,l;if(o=+new Date,a=r.extend=function(e,t){var r,n;for(r in t)n=t[r],e[r]=n;return e},n||("function"==typeof t&&(n=t),s={}),s=a(this.options,t),this.totalCallsTimeout<o?(this.totalCalls=1,this.totalCallsTimeout=o+36e5):this.totalCalls++,!(this.cappingFreeLunch>=this.totalCalls)){if((l=o-this.lastSuccessfullAd)<0)this.lastSuccessfullAd=0;else if(l<this.cappingMinimumTimeInterval)return void n(null,new Error("VAST call canceled – ("+this.cappingMinimumTimeInterval+")ms minimum interval reached"));return i.parse(e,s,function(e,t){return n(e,t)})}n(null,new Error("VAST call canceled – FreeLunch capping not reached yet "+this.totalCalls+"/"+this.cappingFreeLunch))},function(){var t,r;r=a.storage,t=Object.defineProperty,["lastSuccessfullAd","totalCalls","totalCallsTimeout"].forEach(function(n){t(e,n,{get:function(){return r.getItem(n)},set:function(e){return r.setItem(n,e)},configurable:!1,enumerable:!0})}),null==e.lastSuccessfullAd&&(e.lastSuccessfullAd=0),null==e.totalCalls&&(e.totalCalls=0),null==e.totalCallsTimeout&&(e.totalCallsTimeout=0)}(),e}(),t.exports=n},{"./parser":12,"./util":18}],4:[function(e,t,r){var n;n=function(){this.id=null,this.width=0,this.height=0,this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.altText=null,this.companionClickThroughURLTemplate=null,this.companionClickTrackingURLTemplates=[],this.trackingEvents={}},t.exports=n},{}],5:[function(e,t,r){var n,i,a,o,s=function(e,t){for(var r in t)l.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},l={}.hasOwnProperty;a=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.type="linear",this.duration=0,this.skipDelay=null,this.mediaFiles=[],this.videoClickThroughURLTemplate=null,this.videoClickTrackingURLTemplates=[],this.videoCustomClickURLTemplates=[],this.adParameters=null,this.icons=[]}return s(t,e),t}(n=function(e){null==e&&(e={}),this.id=e.id||null,this.adId=e.adId||null,this.sequence=e.sequence||null,this.apiFramework=e.apiFramework||null,this.trackingEvents={}}),o=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.type="nonlinear",this.variations=[]}return s(t,e),t}(n),i=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.type="companion",this.variations=[]}return s(t,e),t}(n),t.exports={VASTCreativeLinear:a,VASTCreativeNonLinear:o,VASTCreativeCompanion:i}},{}],6:[function(e,t,r){var n;n=function(){this.attributes={},this.children=[]},t.exports=n},{}],7:[function(e,t,r){var n;n=function(){this.name=null,this.value=null,this.attributes={}},t.exports=n},{}],8:[function(e,t,r){var n;n=function(){this.program=null,this.height=0,this.width=0,this.xPosition=0,this.yPosition=0,this.apiFramework=null,this.offset=null,this.duration=0,this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.iconClickThroughURLTemplate=null,this.iconClickTrackingURLTemplates=[],this.iconViewTrackingURLTemplate=null},t.exports=n},{}],9:[function(e,t,r){t.exports={client:e("./client"),tracker:e("./tracker"),parser:e("./parser"),util:e("./util")}},{"./client":3,"./parser":12,"./tracker":14,"./util":18}],10:[function(e,t,r){var n;n=function(){this.id=null,this.fileURL=null,this.deliveryType="progressive",this.mimeType=null,this.codec=null,this.bitrate=0,this.minBitrate=0,this.maxBitrate=0,this.width=0,this.height=0,this.apiFramework=null,this.scalable=null,this.maintainAspectRatio=null},t.exports=n},{}],11:[function(e,t,r){var n;n=function(){this.id=null,this.width=0,this.height=0,this.expandedWidth=0,this.expandedHeight=0,this.scalable=!0,this.maintainAspectRatio=!0,this.minSuggestedDuration=0,this.apiFramework="static",this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.nonlinearClickThroughURLTemplate=null,this.nonlinearClickTrackingURLTemplates=[],this.adParameters=null},t.exports=n},{}],12:[function(e,t,r){var n,i,a,o,s,l,d,u,c,p,h,A,f,g,v,m=[].indexOf||function(e){for(var t=0,r=this.length;t<r;t++)if(t in this&&this[t]===e)return t;return-1};i=e("./urlhandler"),g=e("./response"),a=e("./ad"),o=e("./extension"),s=e("./extensionchild"),v=e("./util"),u=e("./creative").VASTCreativeLinear,d=e("./creative").VASTCreativeCompanion,c=e("./creative").VASTCreativeNonLinear,h=e("./mediafile"),p=e("./icon"),l=e("./companionad"),A=e("./nonlinear"),n=e("events").EventEmitter,f=function(){var e;function t(){}return e=[],t.addURLTemplateFilter=function(t){"function"==typeof t&&e.push(t)},t.removeURLTemplateFilter=function(){return e.pop()},t.countURLTemplateFilters=function(){return e.length},t.clearUrlTemplateFilters=function(){return e=[]},t.parse=function(e,t,r){return r||("function"==typeof t&&(r=t),t={}),this._parse(e,null,t,function(e,t){return r(t,e)})},t.vent=new n,t.track=function(e,t){return this.vent.emit("VAST-error",t),v.track(e,t)},t.on=function(e,t){return this.vent.on(e,t)},t.once=function(e,t){return this.vent.once(e,t)},t._parse=function(t,r,n,a){var o,s,l;for(a||("function"==typeof n&&(a=n),n={}),s=0,l=e.length;s<l;s++)o=e[s],t=o(t);return null==r&&(r=[]),r.push(t),i.get(t,n,function(e){return function(i,o){var s,l,d,u,c,p,h,A,f,v,y;if(null!=i)return a(i);if(y=new g,null==(null!=o?o.documentElement:void 0)||"VAST"!==o.documentElement.nodeName)return a(new Error("Invalid VAST XMLDocument"));for(f=o.documentElement.childNodes,d=0,c=f.length;d<c;d++)"Error"===(A=f[d]).nodeName&&y.errorURLTemplates.push(e.parseNodeText(A));for(v=o.documentElement.childNodes,u=0,p=v.length;u<p;u++)"Ad"===(A=v[u]).nodeName&&(null!=(s=e.parseAdElement(A))?y.ads.push(s):e.track(y.errorURLTemplates,{ERRORCODE:101}));for(l=function(t,r){var n,i,o,l;if(null==t&&(t=null),null==r&&(r=!1),y){for(o=!0,l=y.ads,n=0,i=l.length;n<i;n++){if(null!=(s=l[n]).nextWrapperURL)return;s.creatives.length>0&&(o=!1)}return o&&(r||e.track(y.errorURLTemplates,{ERRORCODE:303})),0===y.ads.length&&(y=null),a(t,y)}},h=y.ads.length;h--;)null!=(s=y.ads[h]).nextWrapperURL&&function(i){var a,o,s;r.length>(null!==n.wrapperLimit?n.wrapperLimit:9)||(s=i.nextWrapperURL,m.call(r,s)>=0)?(e.track(i.errorURLTemplates,{ERRORCODE:302}),y.ads.splice(y.ads.indexOf(i),1),l(new Error("Wrapper limit reached, as defined by the video player"))):(0===i.nextWrapperURL.indexOf("//")?(o=location.protocol,i.nextWrapperURL=""+o+i.nextWrapperURL):-1===i.nextWrapperURL.indexOf("://")&&(a=t.slice(0,t.lastIndexOf("/")),i.nextWrapperURL=a+"/"+i.nextWrapperURL),e._parse(i.nextWrapperURL,r,n,function(t,r){var n,a,o,s,d,u,c,p,h,A,f,g,v,m,E,_,T,b,R,S,L,D,P,V;if(o=!1,null!=t)e.track(i.errorURLTemplates,{ERRORCODE:301}),y.ads.splice(y.ads.indexOf(i),1),o=!0;else if(null==r)e.track(i.errorURLTemplates,{ERRORCODE:303}),y.ads.splice(y.ads.indexOf(i),1),o=!0;else for(y.errorURLTemplates=y.errorURLTemplates.concat(r.errorURLTemplates),d=y.ads.indexOf(i),y.ads.splice(d,1),b=r.ads,u=0,c=b.length;u<c;u++){if((V=b[u]).errorURLTemplates=i.errorURLTemplates.concat(V.errorURLTemplates),V.impressionURLTemplates=i.impressionURLTemplates.concat(V.impressionURLTemplates),V.extensions=i.extensions.concat(V.extensions),null!=i.trackingEvents)for(R=V.creatives,v=0,p=R.length;v<p;v++)if(a=R[v],null!=i.trackingEvents[a.type])for(S=Object.keys(i.trackingEvents[a.type]),m=0,h=S.length;m<h;m++)s=S[m],(n=a.trackingEvents)[s]||(n[s]=[]),a.trackingEvents[s]=a.trackingEvents[s].concat(i.trackingEvents[a.type][s]);if(null!=i.videoClickTrackingURLTemplates)for(L=V.creatives,E=0,A=L.length;E<A;E++)"linear"===(a=L[E]).type&&(a.videoClickTrackingURLTemplates=a.videoClickTrackingURLTemplates.concat(i.videoClickTrackingURLTemplates));if(null!=i.videoCustomClickURLTemplates)for(D=V.creatives,_=0,f=D.length;_<f;_++)"linear"===(a=D[_]).type&&(a.videoCustomClickURLTemplates=a.videoCustomClickURLTemplates.concat(i.videoCustomClickURLTemplates));if(null!=i.videoClickThroughURLTemplate)for(P=V.creatives,T=0,g=P.length;T<g;T++)"linear"===(a=P[T]).type&&null==a.videoClickThroughURLTemplate&&(a.videoClickThroughURLTemplate=i.videoClickThroughURLTemplate);y.ads.splice(++d,0,V)}return delete i.nextWrapperURL,l(t,o)}))}(s);return l()}}(this))},t.childByName=function(e,t){var r,n,i,a;for(a=e.childNodes,n=0,i=a.length;n<i;n++)if((r=a[n]).nodeName===t)return r},t.childsByName=function(e,t){var r,n,i,a,o;for(n=[],o=e.childNodes,i=0,a=o.length;i<a;i++)(r=o[i]).nodeName===t&&n.push(r);return n},t.parseAdElement=function(e){var t,r,n,i,a;for(i=e.childNodes,r=0,n=i.length;r<n;r++)if(t=i[r],"Wrapper"===(a=t.nodeName)||"InLine"===a){if(this.copyNodeAttribute("id",e,t),this.copyNodeAttribute("sequence",e,t),"Wrapper"===t.nodeName)return this.parseWrapperElement(t);if("InLine"===t.nodeName)return this.parseInLineElement(t)}},t.parseWrapperElement=function(e){var t,r,n,i,a,o,s;for(t=this.parseInLineElement(e),null!=(s=this.childByName(e,"VASTAdTagURI"))?t.nextWrapperURL=this.parseNodeText(s):null!=(s=this.childByName(e,"VASTAdTagURL"))&&(t.nextWrapperURL=this.parseNodeText(this.childByName(s,"URL"))),a=t.creatives,n=0,i=a.length;n<i;n++)r=a[n],o=null,"linear"!==r.type&&"nonlinear"!==r.type||null!=(o=r)&&(null!=o.trackingEvents&&(t.trackingEvents||(t.trackingEvents={}),t.trackingEvents[o.type]=o.trackingEvents),null!=o.videoClickTrackingURLTemplates&&(t.videoClickTrackingURLTemplates=o.videoClickTrackingURLTemplates),null!=o.videoClickThroughURLTemplate&&(t.videoClickThroughURLTemplate=o.videoClickThroughURLTemplate),null!=o.videoCustomClickURLTemplates&&(t.videoCustomClickURLTemplates=o.videoCustomClickURLTemplates));if(null!=t.nextWrapperURL)return t},t.parseInLineElement=function(e){var t,r,n,i,o,s,l,d,u,c,p,h,A,f,g;for((t=new a).id=e.getAttribute("id")||null,t.sequence=e.getAttribute("sequence")||null,A=e.childNodes,s=0,u=A.length;s<u;s++)switch((h=A[s]).nodeName){case"Error":t.errorURLTemplates.push(this.parseNodeText(h));break;case"Impression":t.impressionURLTemplates.push(this.parseNodeText(h));break;case"Creatives":for(f=this.childsByName(h,"Creative"),l=0,c=f.length;l<c;l++)for(i=f[l],n={id:i.getAttribute("id")||null,adId:this.parseCreativeAdIdAttribute(i),sequence:i.getAttribute("sequence")||null,apiFramework:i.getAttribute("apiFramework")||null},g=i.childNodes,d=0,p=g.length;d<p;d++)switch((o=g[d]).nodeName){case"Linear":(r=this.parseCreativeLinearElement(o,n))&&t.creatives.push(r);break;case"NonLinearAds":(r=this.parseNonLinear(o,n))&&t.creatives.push(r);break;case"CompanionAds":(r=this.parseCompanionAd(o,n))&&t.creatives.push(r)}break;case"Extensions":this.parseExtension(t.extensions,this.childsByName(h,"Extension"));break;case"AdSystem":t.system={value:this.parseNodeText(h),version:h.getAttribute("version")||null};break;case"AdTitle":t.title=this.parseNodeText(h);break;case"Description":t.description=this.parseNodeText(h);break;case"Advertiser":t.advertiser=this.parseNodeText(h);break;case"Pricing":t.pricing={value:this.parseNodeText(h),model:h.getAttribute("model")||null,currency:h.getAttribute("currency")||null};break;case"Survey":t.survey=this.parseNodeText(h)}return t},t.parseExtension=function(e,t){var r,n,i,a,l,d,u,c,p,h,A,f,g,v,m,y,E,_,T;for(_=[],u=0,A=t.length;u<A;u++){if(l=t[u],n=new o,l.attributes)for(m=l.attributes,c=0,f=m.length;c<f;c++)d=m[c],n.attributes[d.nodeName]=d.nodeValue;for(y=l.childNodes,p=0,g=y.length;p<g;p++)if(r=y[p],T=this.parseNodeText(r),"#comment"!==r.nodeName&&""!==T){if((i=new s).name=r.nodeName,i.value=T,r.attributes)for(E=r.attributes,h=0,v=E.length;h<v;h++)a=E[h],i.attributes[a.nodeName]=a.nodeValue;n.children.push(i)}_.push(e.push(n))}return _},t.parseCreativeLinearElement=function(e,t){var r,n,i,a,o,s,l,d,c,A,f,g,v,m,y,E,_,T,b,R,S,L,D,P,V,C,I,O,w,k,x,N,M,U,B,j,H,F,q,J,Q,W,X,G,K,Y,z,Z,$,ee,te,re,ne,ie,ae,oe,se,le,de;if((a=new u(t)).duration=this.parseDuration(this.parseNodeText(this.childByName(e,"Duration"))),-1===a.duration&&"Wrapper"!==e.parentNode.parentNode.parentNode.nodeName)return null;if(null==(ie=e.getAttribute("skipoffset"))?a.skipDelay=null:"%"===ie.charAt(ie.length-1)?(F=parseInt(ie,10),a.skipDelay=a.duration*(F/100)):a.skipDelay=this.parseDuration(ie),null!=(de=this.childByName(e,"VideoClicks"))){for(a.videoClickThroughURLTemplate=this.parseNodeText(this.childByName(de,"ClickThrough")),Q=this.childsByName(de,"ClickTracking"),d=0,T=Q.length;d<T;d++)i=Q[d],a.videoClickTrackingURLTemplates.push(this.parseNodeText(i));for(W=this.childsByName(de,"CustomClick"),y=0,b=W.length;y<b;y++)o=W[y],a.videoCustomClickURLTemplates.push(this.parseNodeText(o))}for(null!=(r=this.childByName(e,"AdParameters"))&&(a.adParameters=this.parseNodeText(r)),G=this.childsByName(e,"TrackingEvents"),E=0,S=G.length;E<S;E++)for(se=G[E],K=this.childsByName(se,"Tracking"),_=0,L=K.length;_<L;_++)if(oe=K[_],s=oe.getAttribute("event"),le=this.parseNodeText(oe),null!=s&&null!=le){if("progress"===s){if(!(j=oe.getAttribute("offset")))continue;s="%"===j.charAt(j.length-1)?"progress-"+j:"progress-"+Math.round(this.parseDuration(j))}null==(n=a.trackingEvents)[s]&&(n[s]=[]),a.trackingEvents[s].push(le)}for(Y=this.childsByName(e,"MediaFiles"),w=0,D=Y.length;w<D;w++)for(M=Y[w],z=this.childsByName(M,"MediaFile"),U=0,P=z.length;U<P;U++)N=z[U],(x=new h).id=N.getAttribute("id"),x.fileURL=this.parseNodeText(N),x.deliveryType=N.getAttribute("delivery"),x.codec=N.getAttribute("codec"),x.mimeType=N.getAttribute("type"),x.apiFramework=N.getAttribute("apiFramework"),x.bitrate=parseInt(N.getAttribute("bitrate")||0),x.minBitrate=parseInt(N.getAttribute("minBitrate")||0),x.maxBitrate=parseInt(N.getAttribute("maxBitrate")||0),x.width=parseInt(N.getAttribute("width")||0),x.height=parseInt(N.getAttribute("height")||0),(ne=N.getAttribute("scalable"))&&"string"==typeof ne&&("true"===(ne=ne.toLowerCase())?x.scalable=!0:"false"===ne&&(x.scalable=!1)),(k=N.getAttribute("maintainAspectRatio"))&&"string"==typeof k&&("true"===(k=k.toLowerCase())?x.maintainAspectRatio=!0:"false"===k&&(x.maintainAspectRatio=!1)),a.mediaFiles.push(x);if(null!=(v=this.childByName(e,"Icons")))for(Z=this.childsByName(v,"Icon"),B=0,V=Z.length;B<V;B++){for(g=Z[B],(c=new p).program=g.getAttribute("program"),c.height=parseInt(g.getAttribute("height")||0),c.width=parseInt(g.getAttribute("width")||0),c.xPosition=this.parseXPosition(g.getAttribute("xPosition")),c.yPosition=this.parseYPosition(g.getAttribute("yPosition")),c.apiFramework=g.getAttribute("apiFramework"),c.offset=this.parseDuration(g.getAttribute("offset")),c.duration=this.parseDuration(g.getAttribute("duration")),$=this.childsByName(g,"HTMLResource"),H=0,C=$.length;H<C;H++)l=$[H],c.type=l.getAttribute("creativeType")||"text/html",c.htmlResource=this.parseNodeText(l);for(ee=this.childsByName(g,"IFrameResource"),q=0,I=ee.length;q<I;q++)m=ee[q],c.type=m.getAttribute("creativeType")||0,c.iframeResource=this.parseNodeText(m);for(te=this.childsByName(g,"StaticResource"),J=0,O=te.length;J<O;J++)ae=te[J],c.type=ae.getAttribute("creativeType")||0,c.staticResource=this.parseNodeText(ae);if(null!=(f=this.childByName(g,"IconClicks")))for(c.iconClickThroughURLTemplate=this.parseNodeText(this.childByName(f,"IconClickThrough")),X=this.childsByName(f,"IconClickTracking"),re=0,R=X.length;re<R;re++)A=X[re],c.iconClickTrackingURLTemplates.push(this.parseNodeText(A));c.iconViewTrackingURLTemplate=this.parseNodeText(this.childByName(g,"IconViewTracking")),a.icons.push(c)}return a},t.parseNonLinear=function(e,t){var r,n,i,a,o,s,l,d,u,p,h,f,g,v,m,y,E,_,T,b,R,S,L,D,P,V,C,I,O,w,k,x,N,M;for(a=new c(t),D=this.childsByName(e,"TrackingEvents"),l=0,f=D.length;l<f;l++)for(N=D[l],P=this.childsByName(N,"Tracking"),u=0,g=P.length;u<g;u++)x=P[u],o=x.getAttribute("event"),M=this.parseNodeText(x),null!=o&&null!=M&&(null==(n=a.trackingEvents)[o]&&(n[o]=[]),a.trackingEvents[o].push(M));for(V=this.childsByName(e,"NonLinear"),p=0,v=V.length;p<v;p++){for(S=V[p],(R=new A).id=S.getAttribute("id")||null,R.width=S.getAttribute("width"),R.height=S.getAttribute("height"),R.expandedWidth=S.getAttribute("expandedWidth"),R.expandedHeight=S.getAttribute("expandedHeight"),R.scalable=this.parseBoolean(S.getAttribute("scalable")),R.maintainAspectRatio=this.parseBoolean(S.getAttribute("maintainAspectRatio")),R.minSuggestedDuration=this.parseDuration(S.getAttribute("minSuggestedDuration")),R.apiFramework=S.getAttribute("apiFramework"),C=this.childsByName(S,"HTMLResource"),h=0,m=C.length;h<m;h++)s=C[h],R.type=s.getAttribute("creativeType")||"text/html",R.htmlResource=this.parseNodeText(s);for(I=this.childsByName(S,"IFrameResource"),T=0,y=I.length;T<y;T++)d=I[T],R.type=d.getAttribute("creativeType")||0,R.iframeResource=this.parseNodeText(d);for(O=this.childsByName(S,"StaticResource"),b=0,E=O.length;b<E;b++)k=O[b],R.type=k.getAttribute("creativeType")||0,R.staticResource=this.parseNodeText(k);for(null!=(r=this.childByName(S,"AdParameters"))&&(R.adParameters=this.parseNodeText(r)),R.nonlinearClickThroughURLTemplate=this.parseNodeText(this.childByName(S,"NonLinearClickThrough")),w=this.childsByName(S,"NonLinearClickTracking"),L=0,_=w.length;L<_;L++)i=w[L],R.nonlinearClickTrackingURLTemplates.push(this.parseNodeText(i));a.variations.push(R)}return a},t.parseCompanionAd=function(e,t){var r,n,i,a,o,s,u,c,p,h,A,f,g,v,m,y,E,_,T,b,R,S,L,D,P,V,C,I,O,w,k,x,N,M,U,B,j;for(s=new d(t),V=this.childsByName(e,"Companion"),p=0,v=V.length;p<v;p++){for(o=V[p],(a=new l).id=o.getAttribute("id")||null,a.width=o.getAttribute("width"),a.height=o.getAttribute("height"),a.companionClickTrackingURLTemplates=[],C=this.childsByName(o,"HTMLResource"),A=0,m=C.length;A<m;A++)c=C[A],a.type=c.getAttribute("creativeType")||"text/html",a.htmlResource=this.parseNodeText(c);for(I=this.childsByName(o,"IFrameResource"),f=0,y=I.length;f<y;f++)h=I[f],a.type=h.getAttribute("creativeType")||0,a.iframeResource=this.parseNodeText(h);for(O=this.childsByName(o,"StaticResource"),g=0,E=O.length;g<E;g++){for(M=O[g],a.type=M.getAttribute("creativeType")||0,w=this.childsByName(o,"AltText"),S=0,_=w.length;S<_;S++)n=w[S],a.altText=this.parseNodeText(n);a.staticResource=this.parseNodeText(M)}for(k=this.childsByName(o,"TrackingEvents"),L=0,T=k.length;L<T;L++)for(B=k[L],x=this.childsByName(B,"Tracking"),D=0,b=x.length;D<b;D++)U=x[D],u=U.getAttribute("event"),j=this.parseNodeText(U),null!=u&&null!=j&&(null==(r=a.trackingEvents)[u]&&(r[u]=[]),a.trackingEvents[u].push(j));for(N=this.childsByName(o,"CompanionClickTracking"),P=0,R=N.length;P<R;P++)i=N[P],a.companionClickTrackingURLTemplates.push(this.parseNodeText(i));a.companionClickThroughURLTemplate=this.parseNodeText(this.childByName(o,"CompanionClickThrough")),a.companionClickTrackingURLTemplate=this.parseNodeText(this.childByName(o,"CompanionClickTracking")),s.variations.push(a)}return s},t.parseDuration=function(e){var t,r,n,i,a;return null==e?-1:v.isNumeric(e)?parseInt(e):3!==(t=e.split(":")).length?-1:(a=t[2].split("."),i=parseInt(a[0]),2===a.length&&(i+=parseFloat("0."+a[1])),n=parseInt(60*t[1]),r=parseInt(60*t[0]*60),isNaN(r||isNaN(n||isNaN(i||n>3600||i>60)))?-1:r+n+i)},t.parseXPosition=function(e){return"left"===e||"right"===e?e:parseInt(e||0)},t.parseYPosition=function(e){return"top"===e||"bottom"===e?e:parseInt(e||0)},t.parseBoolean=function(e){return"true"===e||"TRUE"===e||"1"===e},t.parseNodeText=function(e){return e&&(e.textContent||e.text||"").trim()},t.copyNodeAttribute=function(e,t,r){var n;if(n=t.getAttribute(e))return r.setAttribute(e,n)},t.parseCreativeAdIdAttribute=function(e){return e.getAttribute("AdID")||e.getAttribute("adID")||e.getAttribute("adId")||null},t}(),t.exports=f},{"./ad":2,"./companionad":4,"./creative":5,"./extension":6,"./extensionchild":7,"./icon":8,"./mediafile":10,"./nonlinear":11,"./response":13,"./urlhandler":15,"./util":18,events:1}],13:[function(e,t,r){var n;n=function(){this.ads=[],this.errorURLTemplates=[]},t.exports=n},{}],14:[function(e,t,r){var n,i,a,o,s,l,d,u={}.hasOwnProperty;i=e("./client"),d=e("./util"),o=e("./creative").VASTCreativeLinear,s=e("./nonlinear"),a=e("./companionad"),n=e("events").EventEmitter,l=function(e){function t(e,t,r){var n,l,d;for(n in this.ad=e,this.creative=t,this.variation=null!=r?r:null,this.muted=!1,this.impressed=!1,this.skipable=!1,this.skipDelayDefault=-1,this.trackingEvents={},this.emitAlwaysEvents=["creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","resume","pause","rewind","skip","closeLinear","close"],d=this.creative.trackingEvents)l=d[n],this.trackingEvents[n]=l.slice(0);this.creative instanceof o?(this.setDuration(this.creative.duration),this.skipDelay=this.creative.skipDelay,this.linear=!0,this.clickThroughURLTemplate=this.creative.videoClickThroughURLTemplate,this.clickTrackingURLTemplates=this.creative.videoClickTrackingURLTemplates):(this.skipDelay=-1,this.linear=!1,this.variation&&(this.variation instanceof s?(this.clickThroughURLTemplate=this.variation.nonlinearClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.nonlinearClickTrackingURLTemplates):this.variation instanceof a&&(this.clickThroughURLTemplate=this.variation.companionClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.companionClickTrackingURLTemplates))),this.on("start",function(){i.lastSuccessfullAd=+new Date})}return function(e,t){for(var r in t)u.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,e),t.prototype.setDuration=function(e){return this.assetDuration=e,this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100}},t.prototype.setProgress=function(e){var t,r,n,i,a,o,s,l,d;if(-1===(l=null===this.skipDelay?this.skipDelayDefault:this.skipDelay)||this.skipable||(l>e?this.emit("skip-countdown",l-e):(this.skipable=!0,this.emit("skip-countdown",0))),this.linear&&this.assetDuration>0){if(r=[],e>0)for(o in r.push("start"),a=Math.round(e/this.assetDuration*100),r.push("progress-"+a+"%"),r.push("progress-"+Math.round(e)),s=this.quartiles)(d=s[o])<=e&&e<=d+1&&r.push(o);for(n=0,i=r.length;n<i;n++)t=r[n],this.track(t,!0);e<this.progress&&this.track("rewind")}return this.progress=e},t.prototype.setMuted=function(e){return this.muted!==e&&this.track(e?"mute":"unmute"),this.muted=e},t.prototype.setPaused=function(e){return this.paused!==e&&this.track(e?"pause":"resume"),this.paused=e},t.prototype.setFullscreen=function(e){return this.fullscreen!==e&&this.track(e?"fullscreen":"exitFullscreen"),this.fullscreen=e},t.prototype.setExpand=function(e){return this.expanded!==e&&this.track(e?"expand":"collapse"),this.expanded=e},t.prototype.setSkipDelay=function(e){if("number"==typeof e)return this.skipDelay=e},t.prototype.load=function(){if(!this.impressed)return this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates),this.track("creativeView")},t.prototype.errorWithCode=function(e){return this.trackURLs(this.ad.errorURLTemplates,{ERRORCODE:e})},t.prototype.complete=function(){return this.track("complete")},t.prototype.close=function(){return this.track(this.linear?"closeLinear":"close")},t.prototype.stop=function(){},t.prototype.skip=function(){return this.track("skip"),this.trackingEvents=[]},t.prototype.click=function(){var e,t,r;if((null!=(t=this.clickTrackingURLTemplates)?t.length:void 0)&&this.trackURLs(this.clickTrackingURLTemplates),null!=this.clickThroughURLTemplate)return this.linear&&(r={CONTENTPLAYHEAD:this.progressFormated()}),e=d.resolveURLTemplates([this.clickThroughURLTemplate],r)[0],this.emit("clickthrough",e)},t.prototype.track=function(e,t){var r,n;null==t&&(t=!1),"closeLinear"===e&&null==this.trackingEvents[e]&&null!=this.trackingEvents.close&&(e="close"),n=this.trackingEvents[e],r=this.emitAlwaysEvents.indexOf(e),null!=n?(this.emit(e,""),this.trackURLs(n)):-1!==r&&this.emit(e,""),!0===t&&(delete this.trackingEvents[e],r>-1&&this.emitAlwaysEvents.splice(r,1))},t.prototype.trackURLs=function(e,t){var r;return null==t&&(t={}),this.linear&&(null!=(null!=(r=this.creative.mediaFiles[0])?r.fileURL:void 0)&&(t.ASSETURI=this.creative.mediaFiles[0].fileURL),t.CONTENTPLAYHEAD=this.progressFormated()),d.track(e,t)},t.prototype.progressFormated=function(){var e,t,r,n,i;return i=parseInt(this.progress),(e=i/3600).length<2&&(e="0"+e),(t=i/60%60).length<2&&(t="0"+t),(n=i%60).length<2&&(n="0"+t),r=parseInt(100*(this.progress-i)),e+":"+t+":"+n+"."+r},t}(n),t.exports=l},{"./client":3,"./companionad":4,"./creative":5,"./nonlinear":11,"./util":18,events:1}],15:[function(e,t,r){var n,i,a;a=e("./urlhandlers/xmlhttprequest"),i=e("./urlhandlers/flash"),n=function(){function t(){}return t.get=function(t,r,n){var o,s;return n||("function"==typeof r&&(n=r),r={}),null!=r.response?(s=r.response,delete r.response,n(null,s)):(null!=(o=r.urlhandler)?o.supported():void 0)?r.urlhandler.get(t,r,n):"undefined"==typeof window||null===window?e("./urlhandlers/node").get(t,r,n):a.supported()?a.get(t,r,n):i.supported()?i.get(t,r,n):n(new Error("Current context is not supported by any of the default URLHandlers. Please provide a custom URLHandler"))},t}(),t.exports=n},{"./urlhandlers/flash":16,"./urlhandlers/xmlhttprequest":17}],16:[function(e,t,r){var n;n=function(){function e(){}return e.xdr=function(){var e;return window.XDomainRequest&&(e=new XDomainRequest),e},e.supported=function(){return!!this.xdr()},e.get=function(e,t,r){var n,i;return(i="function"==typeof window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLDOM"):void 0)?(i.async=!1,(n=this.xdr()).open("GET",e),n.timeout=t.timeout||0,n.withCredentials=t.withCredentials||!1,n.send(),n.onprogress=function(){},n.onload=function(){return i.loadXML(n.responseText),r(null,i)}):r(new Error("FlashURLHandler: Microsoft.XMLDOM format not supported"))},e}(),t.exports=n},{}],17:[function(e,t,r){var n;n=function(){function e(){}return e.xhr=function(){var e;if("withCredentials"in(e=new window.XMLHttpRequest))return e},e.supported=function(){return!!this.xhr()},e.get=function(e,t,r){var n;if("https:"===window.location.protocol&&0===e.indexOf("http://"))return r(new Error("XHRURLHandler: Cannot go from HTTPS to HTTP."));try{return(n=this.xhr()).open("GET",e),n.timeout=t.timeout||0,n.withCredentials=t.withCredentials||!1,n.overrideMimeType&&n.overrideMimeType("text/xml"),n.onreadystatechange=function(){if(4===n.readyState)return 200===n.status?r(null,n.responseXML):r(new Error("XHRURLHandler: "+n.statusText))},n.send()}catch(e){return r(new Error("XHRURLHandler: Unexpected error"))}},e}(),t.exports=n},{}],18:[function(e,t,r){var n;n=function(){function e(){}return e.track=function(e,t){var r,n,i,a,o,s;for(n=this.resolveURLTemplates(e,t),s=[],a=0,o=n.length;a<o;a++)r=n[a],"undefined"!=typeof window&&null!==window&&(i=new Image,s.push(i.src=r));return s},e.resolveURLTemplates=function(e,t){var r,n,i,a,o,s,l,d,u;for(null==t&&(t={}),n=[],null!=t.ASSETURI&&(t.ASSETURI=this.encodeURIComponentRFC3986(t.ASSETURI)),null!=t.CONTENTPLAYHEAD&&(t.CONTENTPLAYHEAD=this.encodeURIComponentRFC3986(t.CONTENTPLAYHEAD)),null==t.ERRORCODE||/^[0-9]{3}$/.test(t.ERRORCODE)||(t.ERRORCODE=900),t.CACHEBUSTING=this.leftpad(Math.round(1e8*Math.random()).toString()),t.TIMESTAMP=this.encodeURIComponentRFC3986((new Date).toISOString()),t.RANDOM=t.random=t.CACHEBUSTING,i=0,o=e.length;i<o;i++)if(r=e[i],d=r){for(a in t)u=t[a],s="["+a+"]",l="%%"+a+"%%",d=(d=d.replace(s,u)).replace(l,u);n.push(d)}return n},e.encodeURIComponentRFC3986=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16)})},e.leftpad=function(e){return e.length<8?function(){var t,r,n;for(n=[],t=0,r=8-e.length;0<=r?t<r:t>r;0<=r?t++:t--)n.push("0");return n}().join("")+e:e},e.storage=function(){var e,t;try{t="undefined"!=typeof window&&null!==window?window.localStorage||window.sessionStorage:null}catch(e){t=null}return(null==t||function(e){var t;try{if(t="__VASTUtil__",e.setItem(t,t),e.getItem(t)!==t)return!0}catch(e){return!0}return!1}(t))&&(e={},t={length:0,getItem:function(t){return e[t]},setItem:function(t,r){e[t]=r,this.length=Object.keys(e).length},removeItem:function(t){delete e[t],this.length=Object.keys(e).length},clear:function(){e={},this.length=0}}),t}(),e.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},e}(),t.exports=n},{}]},{},[9])(9)},function(e,t){t.getDeviceInfo=function(){var e,t,r={os:"",osv:"0",make:"",model:"",mobile:!1};try{(e=navigator.userAgent)||(e=window.navigator.userAgent)}catch(t){e=window.navigator.userAgent}if(/iPod/i.test(e))r.os="iOS",r.osv=(e.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/)||[""])[0].replace(/_/g,"."),r.make="Apple",r.model="iPod",r.mobile=!0;else if(/iPhone/i.test(e))r.os="iOS",r.osv=(e.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/)||[""])[0].replace(/_/g,"."),r.make="Apple",r.model="iPhone",r.mobile=!0;else if(/iPad/i.test(e))r.os="iOS",r.osv=(e.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/)||[""])[0].replace(/_/g,"."),r.make="Apple",r.model="iPad",r.mobile=!0;else if(/Android/i.test(e)){if(r.os="Android",r.mobile=!0,t=/\Android.([\d\.]+).*;\s(\w*;\s)?(.*)\sBuild.*\)/i.exec(e)){r.osv=t[1]||"0";var n=t[3]||"";/HTC/i.test(n)?(r.make="HTC",t=/HTC\s(.*)/i.exec(n),r.model=t?t[1]:""):/ASUS/i.test(n)?(r.make="ASUS",t=/ASUS\s(.*)/i.exec(n),r.model=t?t[1]:""):/ALCATEL/i.test(n)?(r.make="ALCATEL",t=/ALCATEL\s(.*)/i.exec(n),r.model=t?t[1]:""):/BLU/i.test(n)?(r.make="BLU",t=/BLU\s(.*)/i.exec(n),r.model=t?t[1]:""):/ME17\d/i.test(n)?(r.make="ASUS",r.model=n):/Nexus/i.test(n)?(r.make="Google",r.model=n):/Lenovo/i.test(n)?(r.make="Lenovo",/Lenovo\s(.*)/i):/IdeaTab/i.test(n)?(r.make="Lenovo",r.model=n):/Huawei/i.test(e)?(r.make="Huawei",r.model=n):/SGP\d/i.test(n)?(r.make="Sony",r.model=n):/LT[1-9]\d/i.test(n)?(r.make="Sony",r.model=n):/HP/i.test(n)?(r.make="HP",t=/HP\s(.*)/i.exec(n),r.model=t?t[1]:""):/A1-/i.test(n)||/B11-/i.test(n)?(r.make="Acer",r.model=n):/GT-/i.test(n)?(r.make="Samsung",t=/(GT-.*)/i.exec(n),r.model=t?t[1]:""):/SM-/i.test(n)?(r.make="Samsung",t=/(SM-.*)/i.exec(n),r.model=t?t[1]:""):/SPH-/i.test(n)?(r.make="Samsung",t=/(SPH-.*)/i.exec(n),r.model=t?t[1]:""):/SCH-/i.test(n)?(r.make="Samsung",t=/(SCH-.*)/i.exec(n),r.model=t?t[1]:""):/SGH-/i.test(n)?(r.make="Samsung",t=/(SGH-.*)/i.exec(n),r.model=t?t[1]:""):/DROID/i.test(n)?(r.make="Motorola",t=/(DROID.*)/i.exec(n),r.model=t?t[1]:""):/XT/i.test(n)?(r.make="Motorola",t=/(XT.*)/i.exec(n),r.model=t?t[1]:""):/LG-/i.test(n)?(r.make="LG",t=/(LG-.*)/i.exec(n),r.model=t?t[1]:""):/VS/i.test(n)?(r.make="LG",t=/(VS.*)/i.exec(n),r.model=t?t[1]:""):/Z[1-9]/i.test(n)?(r.make="ZTE",t=/(Z[1-9].*)/i.exec(n),r.model=t?t[1]:""):/NX[1-9]/i.test(n)?(r.make="NEXTBOOK",t=/(NX[1-9].*)/i.exec(n),r.model=t?t[1]:""):/C5[1-9]/i.test(n)?(r.make="Kyocera",t=/(C5[1-9].*)/i.exec(n),r.model=t?t[1]:""):r.model=n}}else/Windows.Phone/i.test(e)||/WPDesktop/i.test(e)?(r.os="WindowsPhone",r.osv=(e.match(/Windows.Phone\s([0-9]+\.[0-9])/)||[""])[1]||8,r.mobile=!0,/NOKIA/i.test(e)&&(r.make="Nokia",t=/NOKIA;\s(.*?)(;|\))/i.exec(e),r.model=t?t[1]:"")):/BlackBerry/i.test(e)||navigator.userAgent.match(/BB10/i)?(r.os="BlackBerry",e.indexOf("Version/")>=0?(t=/Version\/(.*?)\s/i.exec(e),r.osv=t?t[1]:""):(t=/BlackBerry.*\/(.*?)\s/i.exec(e),r.osv=t?t[1]:""),r.mobile=!0):/Windows/i.test(e)?(r.os="Windows",t=/Windows\sNT\s(.*?)(;|\)|\s)/i.exec(e),r.osv=t?t[1]:""):/Mac\sOS/i.test(e)&&(r.os="MacOS",t=/Mac\sOS\sX\s(.*?)(;|\)|\s)/i.exec(e),r.osv=t?t[1]:"");return r}},function(e,t,r){var n=r(56);e.exports="string"==typeof n?n:n.toString()},function(e,t,r){var n=r(57);(e.exports=r(31)(!1)).push([e.i,'#__cedato_root_container,.__cedato_root_container{background-color:#000;border:0 none;display:block;height:100%;margin:0;overflow:hidden;padding:0;position:relative;top:0;width:100%}#__cedato_root_container .__cedato_hidden,.__cedato_root_container .__cedato_hidden{position:absolute;top:-10000px;left:-10000px;right:auto;bottom:auto}#__cedato_root_container,.__cedato_root_container,.__cedato_content_container,.__cedato_control_bar,.__cedato_time_tracker span{-webkit-touch-callout:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.__cedato_content_container{width:100%;height:100%;top:0;left:0;position:absolute;background:#000;z-index:10001}.__cedato_content_container .__cedato_content_video{height:100% !important;display:block;width:100%;position:relative;z-index:0}.__cedato_content_container .__cedato_content_video.__cedato_active{z-index:2}.__cedato_video_element{height:100% !important;width:100%;position:relative;top:0;left:0;background-color:#000}jsv.__cedato_video_element{display:block}.__cedato_jsv_marker:before{content:"JSV";display:block;color:#fff;background:#333;top:0;left:0;position:absolute;padding:10px;box-shadow:0 0 7px #fff}.__cedato_jsvpaid_element{position:absolute;top:0;left:0;width:100%;height:100%;z-index:0;padding:0;margin:0}.__cedato_unmute_button{width:49px;height:54px;position:absolute;top:auto;left:0;bottom:84px;z-index:10010;cursor:pointer;background:url('+n(r(58))+") no-repeat 0 0}.__cedato_skip_button{border:1px solid #888;cursor:pointer;color:#fff;font-size:.75em;text-align:center;position:absolute;top:auto;left:auto;right:1px;bottom:103px;z-index:10012;padding:3px 20px 3px 9px;background:#000 url("+n(r(41))+") no-repeat 102% center}.__cedato_close_button{position:absolute;z-index:10012;top:9px;right:9px;width:20px;height:20px;cursor:pointer;background:url("+n(r(59))+") no-repeat center 0}.__cedato_spinner{width:100%;height:100%;position:absolute;top:0;left:0;z-index:1;background-image:url("+n(r(60))+");background-repeat:no-repeat;background-position:center center}.__cedato_play_button{width:100%;height:100%;position:absolute;top:0;left:0;z-index:10003;cursor:pointer;background:url("+n(r(61))+") no-repeat center center}.__cedato_content_poster{width:100%;height:100%;position:absolute;top:0;left:0;z-index:1;background-color:#000;background-repeat:no-repeat;background-position:center center}.__cedato_playback_button,.__cedato_volume_button,.__cedato_bitrate_button{width:30px;height:30px;display:inline-block;cursor:pointer;background-repeat:no-repeat}.__cedato_playback_button{margin-left:7px;background:url("+n(r(62))+")}.__cedato_volume_button{background-image:url("+n(r(63))+")}.__cedato_bitrate_button{margin-left:auto;background-image:url("+n(r(64))+')}.__cedato_playback_button.__cedato_playback_play_button,.__cedato_volume_button.__cedato_volume_mute_button,.__cedato_bitrate_button{background-position:center 0}.__cedato_playback_button.__cedato_playback_pause_button,.__cedato_volume_button.__cedato_volume_unmute_button{background-position:center -30px}.__cedato_bitrate_list{min-width:80px;right:13px;bottom:58px;position:absolute;background-color:rgba(0,0,0,0.9)}.__cedato_bitrate_list:before{content:"Quality";display:block;height:30px;background-color:rgba(0,0,0,0.9);font-size:12px;text-align:center;line-height:30px;border-bottom:solid 1px #979797}.__cedato_bitrate_list .__cedato_bitrate_item{font-size:12px;height:30px;line-height:30px;padding:0 15px;text-align:right;cursor:pointer}.__cedato_bitrate_list .__cedato_bitrate_item:hover{background-color:rgba(255,255,255,0.2)}.__cedato_bitrate_list .__cedato_bitrate_item.__cedato_selected{background:url('+n(r(65))+") no-repeat 6px center}.__cedato_progress,.__cedato_hover_progress{width:100%;height:100%;transform:scaleX(0);transform-origin:0 0}.__cedato_volume_control{font-size:0;line-height:0;cursor:pointer}.__cedato_volume_line{width:2px;height:14px;display:inline-block;background-color:#fff;margin-left:4px;border-radius:1px}.__cedato_volume_line:first-child{margin-left:0}.__cedato_volume_line:hover,.__cedato_volume_line.__cedato_volume_line_colored{background-color:#48e6d8}.__cedato_volume_bar{width:56px;height:28px;display:flex;align-items:center;cursor:pointer}.__cedato_volume_bar .__cedato_progress_placeholder{position:relative;height:4px;background:#fff;border-radius:2px;overflow:hidden;flex:1 1 0}.__cedato_volume_bar .__cedato_progress{background-color:#48e6d8}.__cedato_volume_bar .__cedato_hover_progress{background-color:rgba(72,230,216,0.5);position:absolute;top:0;left:0;opacity:0}.__cedato_seek_bar{height:8px;top:0;left:13px;right:13px;position:absolute;margin-top:10px;display:flex;align-items:center}.__cedato_seek_bar .__cedato_progress_placeholder{position:relative;height:3px;flex:1 1 0;background:#fff;border-radius:2px}.__cedato_seek_bar.__cedato_interactive{cursor:pointer}.__cedato_seek_bar.__cedato_interactive .__cedato_hover_progress{background-color:rgba(72,230,216,0.5);position:absolute;top:0;left:0;opacity:0}.__cedato_seek_bar.__cedato_interactive .__cedato_scrubber{width:2px;height:9px;background:#fff;margin-top:-6px;opacity:0;z-index:1}.__cedato_seek_bar.__cedato_interactive:hover .__cedato_progress_placeholder{height:6px;transform:translateZ(0)}.__cedato_seek_bar.__cedato_interactive:hover .__cedato_scrubber{margin-top:-8px;height:11px}.__cedato_seek_bar .__cedato_progress{background:#48e6d8;position:relative}.__cedato_time_tracker{display:-ms-flexbox;display:-webkit-box;display:flex;padding-left:14px;align-items:center}.__cedato_time_tracker span{display:inline-block;height:12px;font-size:.75em;font-weight:300;line-height:12px;padding-right:6px}.__cedato_controls_skip_button{border:1px solid #888;cursor:pointer;font-size:.75em;text-align:center;position:absolute;top:auto;left:auto;right:1px;bottom:103px;z-index:10012;padding:3px 20px 3px 9px;background:#000 url("+n(r(41))+") no-repeat 102% center}.__cedato_skip_countdown_button,.__cedato_skip_text{box-sizing:border-box;text-align:center;display:flex;align-items:center;justify-content:center}.__cedato_brand_menu{position:absolute;top:0;left:0;display:block;padding:8px;border-radius:4px;cursor:pointer;background-color:#f5f5f5;font-size:.8em;color:#000000;-webkit-box-shadow:0 2px 2px 0 rgba(0,0,0,0.2);-moz-box-shadow:0 2px 2px 0 rgba(0,0,0,0.2);box-shadow:0 2px 2px 0 rgba(0,0,0,0.2);z-index:99999;visibility:hidden;white-space:nowrap}.__cedato_brand_menu:hover{background-color:#e5f4f4}.__cedato_brand_menu figure,.__cedato_brand_menu span{pointer-events:none;display:inline-block;vertical-align:top;line-height:32px;font-family:Arial,sans-serif}.__cedato_brand_menu figure{display:inline-block;width:32px;height:32px;margin:0 8px 0 0;border:0;background-image:url("+n(r(66))+');background-size:contain;background-repeat:no-repeat}.__cedato_desktop .__cedato_control_bar{opacity:0;-webkit-transition:all .5s ease-out;-moz-transition:all .5s ease-out;-o-transition:all .5s ease-out;transition:all .5s ease-out}.__cedato_desktop:hover .__cedato_control_bar{opacity:1}.__cedato_desktop .__cedato_seek_bar:hover .__cedato_hover_progress{opacity:1}.__cedato_desktop .__cedato_close_button:hover{background-position:center bottom}.__cedato_desktop .__cedato_playback_button.__cedato_playback_play_button:hover,.__cedato_desktop .__cedato_volume_button.__cedato_volume_mute_button:hover{background-position:center -60px}.__cedato_desktop .__cedato_playback_button.__cedato_playback_pause_button:hover,.__cedato_desktop .__cedato_volume_button.__cedato_volume_unmute_button:hover,.__cedato_desktop .__cedato_bitrate_button:hover{background-position:center bottom}.__cedato_desktop .__cedato_seek_bar:hover .__cedato_scrubber{opacity:1}.__cedato_desktop .__cedato_volume_bar:hover .__cedato_hover_progress{opacity:1}.__cedato_control_bar{width:100%;height:65px;padding:13px 13px 0;position:absolute;bottom:0;left:0;z-index:10010;box-sizing:border-box;display:-ms-flexbox;display:-webkit-box;display:flex;align-items:center;background-image:-webkit-linear-gradient(top, rgba(0,0,0,0), #000000);background-image:linear-gradient(to bottom, rgba(0,0,0,0), #000000);font:normal normal normal 16px "Helvetica Neue",Helvetica,sans-serif;color:#fff}.__cedato_control_bar *{box-sizing:border-box}@media (hover:hover){.__cedato_close_button:hover{background-position:center bottom}.__cedato_playback_button.__cedato_playback_play_button:hover,.__cedato_volume_button.__cedato_volume_mute_button:hover{background-position:center -60px}.__cedato_playback_button.__cedato_playback_pause_button:hover,.__cedato_volume_button.__cedato_volume_unmute_button:hover,.__cedato_bitrate_button:hover{background-position:center bottom}.__cedato_seek_bar:hover .__cedato_scrubber{opacity:1}}',""])},function(e,t){e.exports=function(e){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAA2CAMAAABZR4GWAAAAilBMVEUAAAAAAABUVFQAAAAAAAAAAAAAAAD6+vo0NDSBgYHv7++urq54eHgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC2traKiopqampQUFA/Pz8oKCji4uLa2tqgoKAZGRnw8PDU1NTJycm+vr6vr6+VlZWIiIh+fn5ISEgjIyP///9BWO/iAAAALXRSTlPMANozyL14/tTj+uzhvLKvo5mSflhTRiQb7eTe2tfS+Pbp0Pv08u/s5+Ti2NF29ih6AAABGklEQVRIx7XW246CMBSF4TVTCpVBRRGEQVDnfNrv/3rTyZBg0lqzLvrf0JsvAdK0G/4Svdqku/2dJwRbVooUtnVDClupSGHbtqyAVqxAUpPClrLCElqgpkWiWAHdsgJbWkDRoqQFGlqsaQHlE0lIVB7xmZmAWLriUeQegfYuuCF2Drgl0nk5vnfdm0yi7wEsfHQzL7/ENolepMBZssEVq3m5uBDfmcirSD66QvsFDplYYOCWXBHo7PMDhDjLXwWCbzW8nE7HSRQieZGJHAJfPvXwL8xzbuy3HJ9Cf3cmVmD8AWA8ACkcQu2SiQzUTrQZhHc7WUULFf9kaOKfcCr6Sa3b6DdOHf3mTGNPAFpFnmRKFWEiC099/GT5C2olG7oy3NE9AAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAoCAMAAADJ7yrpAAAA81BMVEUAAAD6+vr5+fmrq6sBAQF1dXX////5+fkcHBwVFRX19fXw8PCMjIwkJCTy8vINDQ0VFRUVFRX8/Pzt7e2SkpJ+fn4yMjJpaWkSEhIRERFoaGjr6+vz8/Pn5+fw8PD8/Pz6+vqdnZ3////9/f12dnZISEjJycldXV2Dg4MxMTHz8/MlJSWkpKTOzs7p6emrq6uNjY17e3sCAgLq6uo0NDRAQEBubm6Pj4/t7e3X19fAwMC9vb22traxsbHq6ur7+/uVlZWbm5t7e3uAgIDx8fGvr6/19fW8vLySkpJAQECioqJAQECioqLe3t40NDQAAAD///+A0wQyAAAAUHRSTlMABAgHBQoL/BMN+eO0UEVELyLr27ahemM+Jg739O3d3NbAtrKhjINuaWJgXllUUExDQTIpKR4XEerp29PSzcbDvLepiIOAZVpXSEI/OjUwG+ThgmsAAAFNSURBVCjPnZLHdsIwEEWtYnDD2PQOAUILvab3Xuf/vyYjidheeJHkLZ49V3NGT0fS/ihKfz5E+4+e2hP0SXscYYtjsGfazIb6PIRFALB7NnoxhOV8EoSS+bKsCcEUfNm1kFndJSd7KKxfQ1jrY6UCU4SvWRDKzveQIFw0cN5pEul72DnALmfooA/Cc3q5qlMySk4157EAmulC2tS4cKrIl8k5x1iG7xtckxBrJS6XcNsYxUIWD1VOQmhCiOAP1SWM7fzNTBqskMeOSxJ01HEV3AmbZqDlklEGmh80aH8AgNZ9BiD5LOuEsLcD2N/ROoTblKTWbakSQrq7sxDWi4xGck4bIHS5iuR0mzjvBOnVSh5TWg/rXOECfcwC+HIG16n18BxuPiWUZhwdprZsg26qF8KMsrfRKWUV3/MrREJdZ0SIMV3XNaIgiUqxeH0Dbtor/zpirkAAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/gif;base64,R0lGODlhIAAgAPMAAAAAAP///zg4OHp6ekhISGRkZMjIyKioqCYmJhoaGkJCQuDg4Pr6+gAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAIAAgAAAE5xDISWlhperN52JLhSSdRgwVo1ICQZRUsiwHpTJT4iowNS8vyW2icCF6k8HMMBkCEDskxTBDAZwuAkkqIfxIQyhBQBFvAQSDITM5VDW6XNE4KagNh6Bgwe60smQUB3d4Rz1ZBApnFASDd0hihh12BkE9kjAJVlycXIg7CQIFA6SlnJ87paqbSKiKoqusnbMdmDC2tXQlkUhziYtyWTxIfy6BE8WJt5YJvpJivxNaGmLHT0VnOgSYf0dZXS7APdpB309RnHOG5gDqXGLDaC457D1zZ/V/nmOM82XiHRLYKhKP1oZmADdEAAAh+QQJCgAAACwAAAAAIAAgAAAE6hDISWlZpOrNp1lGNRSdRpDUolIGw5RUYhhHukqFu8DsrEyqnWThGvAmhVlteBvojpTDDBUEIFwMFBRAmBkSgOrBFZogCASwBDEY/CZSg7GSE0gSCjQBMVG023xWBhklAnoEdhQEfyNqMIcKjhRsjEdnezB+A4k8gTwJhFuiW4dokXiloUepBAp5qaKpp6+Ho7aWW54wl7obvEe0kRuoplCGepwSx2jJvqHEmGt6whJpGpfJCHmOoNHKaHx61WiSR92E4lbFoq+B6QDtuetcaBPnW6+O7wDHpIiK9SaVK5GgV543tzjgGcghAgAh+QQJCgAAACwAAAAAIAAgAAAE7hDISSkxpOrN5zFHNWRdhSiVoVLHspRUMoyUakyEe8PTPCATW9A14E0UvuAKMNAZKYUZCiBMuBakSQKG8G2FzUWox2AUtAQFcBKlVQoLgQReZhQlCIJesQXI5B0CBnUMOxMCenoCfTCEWBsJColTMANldx15BGs8B5wlCZ9Po6OJkwmRpnqkqnuSrayqfKmqpLajoiW5HJq7FL1Gr2mMMcKUMIiJgIemy7xZtJsTmsM4xHiKv5KMCXqfyUCJEonXPN2rAOIAmsfB3uPoAK++G+w48edZPK+M6hLJpQg484enXIdQFSS1u6UhksENEQAAIfkECQoAAAAsAAAAACAAIAAABOcQyEmpGKLqzWcZRVUQnZYg1aBSh2GUVEIQ2aQOE+G+cD4ntpWkZQj1JIiZIogDFFyHI0UxQwFugMSOFIPJftfVAEoZLBbcLEFhlQiqGp1Vd140AUklUN3eCA51C1EWMzMCezCBBmkxVIVHBWd3HHl9JQOIJSdSnJ0TDKChCwUJjoWMPaGqDKannasMo6WnM562R5YluZRwur0wpgqZE7NKUm+FNRPIhjBJxKZteWuIBMN4zRMIVIhffcgojwCF117i4nlLnY5ztRLsnOk+aV+oJY7V7m76PdkS4trKcdg0Zc0tTcKkRAAAIfkECQoAAAAsAAAAACAAIAAABO4QyEkpKqjqzScpRaVkXZWQEximw1BSCUEIlDohrft6cpKCk5xid5MNJTaAIkekKGQkWyKHkvhKsR7ARmitkAYDYRIbUQRQjWBwJRzChi9CRlBcY1UN4g0/VNB0AlcvcAYHRyZPdEQFYV8ccwR5HWxEJ02YmRMLnJ1xCYp0Y5idpQuhopmmC2KgojKasUQDk5BNAwwMOh2RtRq5uQuPZKGIJQIGwAwGf6I0JXMpC8C7kXWDBINFMxS4DKMAWVWAGYsAdNqW5uaRxkSKJOZKaU3tPOBZ4DuK2LATgJhkPJMgTwKCdFjyPHEnKxFCDhEAACH5BAkKAAAALAAAAAAgACAAAATzEMhJaVKp6s2nIkolIJ2WkBShpkVRWqqQrhLSEu9MZJKK9y1ZrqYK9WiClmvoUaF8gIQSNeF1Er4MNFn4SRSDARWroAIETg1iVwuHjYB1kYc1mwruwXKC9gmsJXliGxc+XiUCby9ydh1sOSdMkpMTBpaXBzsfhoc5l58Gm5yToAaZhaOUqjkDgCWNHAULCwOLaTmzswadEqggQwgHuQsHIoZCHQMMQgQGubVEcxOPFAcMDAYUA85eWARmfSRQCdcMe0zeP1AAygwLlJtPNAAL19DARdPzBOWSm1brJBi45soRAWQAAkrQIykShQ9wVhHCwCQCACH5BAkKAAAALAAAAAAgACAAAATrEMhJaVKp6s2nIkqFZF2VIBWhUsJaTokqUCoBq+E71SRQeyqUToLA7VxF0JDyIQh/MVVPMt1ECZlfcjZJ9mIKoaTl1MRIl5o4CUKXOwmyrCInCKqcWtvadL2SYhyASyNDJ0uIiRMDjI0Fd30/iI2UA5GSS5UDj2l6NoqgOgN4gksEBgYFf0FDqKgHnyZ9OX8HrgYHdHpcHQULXAS2qKpENRg7eAMLC7kTBaixUYFkKAzWAAnLC7FLVxLWDBLKCwaKTULgEwbLA4hJtOkSBNqITT3xEgfLpBtzE/jiuL04RGEBgwWhShRgQExHBAAh+QQJCgAAACwAAAAAIAAgAAAE7xDISWlSqerNpyJKhWRdlSAVoVLCWk6JKlAqAavhO9UkUHsqlE6CwO1cRdCQ8iEIfzFVTzLdRAmZX3I2SfZiCqGk5dTESJeaOAlClzsJsqwiJwiqnFrb2nS9kmIcgEsjQydLiIlHehhpejaIjzh9eomSjZR+ipslWIRLAgMDOR2DOqKogTB9pCUJBagDBXR6XB0EBkIIsaRsGGMMAxoDBgYHTKJiUYEGDAzHC9EACcUGkIgFzgwZ0QsSBcXHiQvOwgDdEwfFs0sDzt4S6BK4xYjkDOzn0unFeBzOBijIm1Dgmg5YFQwsCMjp1oJ8LyIAACH5BAkKAAAALAAAAAAgACAAAATwEMhJaVKp6s2nIkqFZF2VIBWhUsJaTokqUCoBq+E71SRQeyqUToLA7VxF0JDyIQh/MVVPMt1ECZlfcjZJ9mIKoaTl1MRIl5o4CUKXOwmyrCInCKqcWtvadL2SYhyASyNDJ0uIiUd6GGl6NoiPOH16iZKNlH6KmyWFOggHhEEvAwwMA0N9GBsEC6amhnVcEwavDAazGwIDaH1ipaYLBUTCGgQDA8NdHz0FpqgTBwsLqAbWAAnIA4FWKdMLGdYGEgraigbT0OITBcg5QwPT4xLrROZL6AuQAPUS7bxLpoWidY0JtxLHKhwwMJBTHgPKdEQAACH5BAkKAAAALAAAAAAgACAAAATrEMhJaVKp6s2nIkqFZF2VIBWhUsJaTokqUCoBq+E71SRQeyqUToLA7VxF0JDyIQh/MVVPMt1ECZlfcjZJ9mIKoaTl1MRIl5o4CUKXOwmyrCInCKqcWtvadL2SYhyASyNDJ0uIiUd6GAULDJCRiXo1CpGXDJOUjY+Yip9DhToJA4RBLwMLCwVDfRgbBAaqqoZ1XBMHswsHtxtFaH1iqaoGNgAIxRpbFAgfPQSqpbgGBqUD1wBXeCYp1AYZ19JJOYgH1KwA4UBvQwXUBxPqVD9L3sbp2BNk2xvvFPJd+MFCN6HAAIKgNggY0KtEBAAh+QQJCgAAACwAAAAAIAAgAAAE6BDISWlSqerNpyJKhWRdlSAVoVLCWk6JKlAqAavhO9UkUHsqlE6CwO1cRdCQ8iEIfzFVTzLdRAmZX3I2SfYIDMaAFdTESJeaEDAIMxYFqrOUaNW4E4ObYcCXaiBVEgULe0NJaxxtYksjh2NLkZISgDgJhHthkpU4mW6blRiYmZOlh4JWkDqILwUGBnE6TYEbCgevr0N1gH4At7gHiRpFaLNrrq8HNgAJA70AWxQIH1+vsYMDAzZQPC9VCNkDWUhGkuE5PxJNwiUK4UfLzOlD4WvzAHaoG9nxPi5d+jYUqfAhhykOFwJWiAAAIfkECQoAAAAsAAAAACAAIAAABPAQyElpUqnqzaciSoVkXVUMFaFSwlpOCcMYlErAavhOMnNLNo8KsZsMZItJEIDIFSkLGQoQTNhIsFehRww2CQLKF0tYGKYSg+ygsZIuNqJksKgbfgIGepNo2cIUB3V1B3IvNiBYNQaDSTtfhhx0CwVPI0UJe0+bm4g5VgcGoqOcnjmjqDSdnhgEoamcsZuXO1aWQy8KAwOAuTYYGwi7w5h+Kr0SJ8MFihpNbx+4Erq7BYBuzsdiH1jCAzoSfl0rVirNbRXlBBlLX+BP0XJLAPGzTkAuAOqb0WT5AH7OcdCm5B8TgRwSRKIHQtaLCwg1RAAAOwAAAAAAAAAAAA=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAA21BMVEUAAAAAAAAAAAAlJSX////////m5ub///+0tLQfHx////8NDQ2fn5////8tLS3Q0NB/f39nZ2deXl41NTX///+ampoUFBT+/v7////Q0ND///9KSkr///////////////+RkZH///9ERET////////////////////////////i4uL////GxsZQUFA/Pz////////+/v7+Pj4/////V1dWYmJhzc3MYGBj+/v7////z8/Ps7Oy4uLj///+Hh4f////////////////////8/Pzj4+P4+Pjs7Ozb29v0FickAAAAQ3RSTlPMAMnSDLD99u/Skc7s5NT35eDe1TDu0Gcl/d7au3xfP+nZ2c/LoxbxnTP7+fTb2MSZ8eka9+niz6ZI/Prv6eWngHpUSXa3QwAAAgpJREFUSMeV1mdzm0AQBuBjaaapF9R7t2wVlzg9eUHS//9FgXiYSNxBfPtNc3qYO9jbXaakQ6s1bX068rzRVLebNY37Q5qseo8mEJzDyyU8B4D52FvlksFsgVOrXu4UrEbDKnTK9dYJi9kgk/hLE+Fh7NBVOONDCHPni0m/jbCkEhG7iuinWgrR7guIZiNwI8C4iJAbwNbS5KjDqCSARxUD+vyWHLsoVhMgQtUiuvNroum4VxMhNuo9dO2K7FDkBGeKsP+RJgx+V/zeDPQTUvsWVHjBm0rg+e9E68LlhNC4WL6TJgz1Y0Q1NoOYaBOUeCE2JXyKyW+srY8Sa23WIjLDkBOZZoiewo7eacwRh5GYPJymGnvDk8MtPd89EImI0zJr7Bfq/OIe54M4q+tosiXK/NIdgMuLQzwpw2bdYCsmwH5LlCadQGeTcyGL4ORWU4gK5wkbhVYmAb58v10lK2yz9qWRQ4Cnm6NS4+Kx0X8IvjppMsndGNYvr9zGujnHx+fnAhF3/FnQySRxDghecg/lDFKsOCT8lG+bupAYpVciccL4ixb/sH3gJocQpKU2EST/dssoO/mVn4IrRpR3xZSVKXGRw78XWfkhXS6UwUa2KCnKUrr0Kb4nWWCj6EuW8Ths2WYh35LimMs2vtjItlf5Ji4/KiTh70yEw/RAMhQMJPJjj/xwJT/C/QFL21vVbwm3hgAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAB4CAMAAADSQ7LXAAAAeFBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////GqOSsAAAAJ3RSTlMAJN4YNudLPA8e2axj+goyKhS+705GpGpC42/rL1yzyIZUl4x/0dDgZsXmAAABh0lEQVRIx+2U23KCMBCGuyaQBIGEQzRUPLXqvv8bltWpDibIDBed6vjd7MUXcth/h4+XZ1vWj3SD2RcM6wQRk6Uc1sTGPdRYfcOwJk5pPqyJOX+k6YQRPXnzY5pPfdjGTWqqH4kf6JtXopwlZRc4lMmsDOgV4oo01YCeIc5IU33rKXqk52OJvXlyCqWNMarIw5qJZJM6YZQMLoB9htU8tRxYaIFJM0RsvtZOdws8rZcZEsfd3rXgXYF/XjRm5WcsgMmgJqrFuvO5p68kB62kr29szDTtb+5fjQPLBx9meffwcFtOh/jWeL+pe+H1jIA66w7tReIHyg3JAFK1xgCNw5u/QhYMQLGiqwqgqz2bM+DOOg0KWmHt/TBJJsooanbQwq6JVlvRH8UC6ggRF1zoRVejvWG9aWjXDWlnBelmrftap/T1PI7tnL5OeV/zXx2f9VIEdX3V6r9p7+Yj7x7v2njPpRLbqorOiUVVtXVK3uUt4tpyUKBtHXv/NVkoAGDsMi2KyY9n5wdK00rzs+WyqAAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAB4CAMAAADSQ7LXAAAAgVBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////9d3yJTAAAAKnRSTlMABw4gVBbrOi4m70warGzeZ/Vb0oZBKuSic5CLe2I1l723RaXHspyAy9fKPRK9AAACTElEQVRIx+2UV27rMBAA2Yuo3rt7yd7/gI8WkiBeS+8/iAcGDGgkElhqRN58Yjq6YWjMCbFJMa/bFnLCK3oNzJo9AQhiVEROBV5fCxGB15TX2Y4FOdIBLDijqgrCNlrXgpQFUyI+b+nxgzWvOvte3GngV7y4S6e914JZrlqqJvICO3hNanWgu4SSFX95jEXQIdNkDXarCeFFUpFt5lKSN28Q64UicKEIXChNNSHpvFEoOYI6DlBsFErk4y6VbyVIWAMwkA2NnsaF+r0D5/feKJTQSRMSz1uFInChCFzomz8CXWALlL5aJj0h51yGEmsvubW1rXn8kXLOkJbcaD0V8ayPEexsiLTVTowK+qo75CWUOORZpH0AcBVxEsRtUCF9uhfeQjvu4iRJVb8eUTRklxJu+/16gpc0Urfg2m70HXXnZMx20R1pBQunXpUtdPcL0ml/Lbxu07SEQ5x1SJujiM8AOzfCXhQfuDVu9NEdYNAiFudAhDhOyWujS2fqXCWCy5UDC7nknLvShCEjiK/DlsuPkje/APrgPxKli2TIQylXb/DSN2q6wYbsdY9F6mOZNVXNJcObsNDOLt9lkIium3KRa/tTSyvGIQKAJr0Fe9EHPWdPb/kdFlQ8ACQ+Jiufvg3Jp+5SvwUcnAl/6upLj2nr//bO8J+L62/dAxQZRPxJm0ipzOsm7prIlU3Jw6fPls7jXnk9VU7rufLzew7QVGJsIBHfl55n6gejpyapjLXWP8vwWBm3tZvs10zpSsHycWIbx06xwDzkryn7H4+ZPRd7fWNAAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAA8CAMAAABGivqtAAAAclBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////9eWEHEAAAAJXRSTlMACR0QFSszziR0Q8XxpOi9W19PPRkN27asqYV5ZVVI7p/Wi3+WSI/w7gAAATRJREFUOMvt0duOgyAQBuAyMCBQPGutWnvaef9XXGjaJrJsN3u5m/4mevE5fyaweefnIBF+Z2BLTaQrK5Js6Z4iyYcHH1IqJ6IdwM73Y4LJB/wG4ft7Rv0on+TL1crk5sWDbZKFrcKxlBZeHuo7/yJswzouhOCcsRRzARlKRGg5+4KMA0qzLMY0CILFLDJp6vmi1HgwMoudgzT6dLVEhf6oJHAWDTc6p/5IdOypL7FdM8j6RM9c/PiqO2vKqfew3fqXqhqM2IzF0YNziigfZhRsPa3CrDu5fZi3WcTyxnt3Z1hxB1IPuS8fhlC+n9ersRZNpZ6rLQjdin37SM9cfXd8qPWZVO6bFZ0XweMbabN6rB2RM5MRnKXuU85FUSLcNS4QAEK0HoMmfug4513AdNjt+SP5BNMsHxq1IUVjAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAKlBMVEUAAAD///////////////////////////////////////////////////+Gu8ovAAAADXRSTlMAT/rtL9oabefImD8VVJDr+wAAAEBJREFUCNdjIAR4NkAZqdchNFvsZSDJ7sCQelcRyFhrwhZ7SQDI6L0sChZgcL57FyzAwGILEgALgQTAQhMJWAcAQZsPSo4v24wAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAC/VBMVEUAAAAwXakmdbMyVqYyVqYxWqgQr8szUaQRrMoxV6YyVKUwXKk0UKMvXKgOrcszUqQQrMoSqMkxWKcQrMovXakwXKgtZawRqsoWnsQzU6QPqsoQrsstZawPq8oxWqcuYasgjb4yVqYTp8gih7swXqkle7YQr8sOrssQr8sncbElc7MxVqYfl8IZoMUck8AihboTp8gQrssTp8glfLcwWqcmb7EJp8kjl8Elf7gldrM0UqQwXqkgkb8mdLIkhLkcmsMme7Ymd7MQr8s0UKMwXagjdbIuZaw0T6MwV6YlerYkd7QkcbEkb7EtY6szUqQkhLktaa0jl8EkgbglfLchi7wmba8uZKshjr0pbK8ra64kc7IvYKoiibsvWaf///8GqMklmcIyVKUMr8sKpcclfrgjhrouZ6wwX6kPscwWoMUfm8MhlMEgkL4Hq8oRo8YimsIBX6YxVaUHpsgbnMQvW6gQMpPy9voKrcoAl78hkb8FhLcuYqsCZars8/nH4O7G0+gTocYZnsUgksACdrAwYas4WKc2U6QjQpwBO5bi7PXT3O3O2uuardQyZ60HaqswXqkpTaELUKAFKo/j8ffd7vbE5O+uyuKkw96svt2PrNINpMZVk8QCiLcAgbVRcrUUebQCfLMpdLMMcbAnWKYAWqQBVaI1S6EvS6EASpwBQ5kXPpkNO5fp7vbN4e/K1+q41uie1OWLx96VuNifsdZxqdBnrM+Epc92n8sNosYEkbwUiLoggLcxba8cZKoOXacQR50OQZoDMpEAJIr4+/3T6fPY4O+o0uWWxd+4w99+w9yiudqEs9WXqNFPrs9WoMponspxkcQglMFEjMA3jL9shL4mjr0Zjr1WhL04cbIXcLBBZ68Cb60fW6YXVqMuUKIkT6EAUJ4bSZ4AHoe75vDL5PDc4vDA3ey/1em8yuRawdmIudhvs9NGnMZmjsIgirsthborg7kcebUfcbBQaLA9Xarb5fG10eZ4udems9dnuNQ1oMYsk8A/grsSfrUlaq1UKEzxAAAAQnRSTlMAFQawpV706nlTRgz17My7s6eaXzkqHx4S3sKXjop8bGppUTX46Obf2Mydjox1UEZDNiwr9+vp49nWycbEuKKZf103iP0+AAAFV0lEQVRYw+2UZVxTURjGJyomStjd3d2xsQ3RjRRlwBUMmIEOcXOOBQiDkdIhXdJd0mB3B112d8fPc++VXWBXBPymPt//7/OcNw7hv/4WDVIZ2n32H/Dd5ZlEIrFP94Ed5IcCHJXimI7wMwAv1cThc9pdoA9SANMQlUHtKyBPbCl5pVkdLIBpUjs6OoGIJyZRUUWubQUmEfG12XzB8DbF6IPP7zfftOWotVIbBjuEiWe/f9PeLbutbXbsWTht7G8KKOLxwP7w7u2WO4y1tHYeWDaq1cEqyfKo/XbLPQA/uGvDhueGK2a2ssk49nuBPYhvDOx3bdDVNdTQ0Fi0ai4BX8OZst07bA3HR+11DbdpaGtv1dFZs3x1L9xbZMp0D7HXQu1RHuDqZDJ5/pR+sgWm43YP8AcPoPYawH4NzDPWrlu/cfLIlvulwmzCA/ujcPew+Bi/Fub1NU0VhjWPMQYnvjEWP/QV4NXVYfvwwsICTYqeHs1u6chOWIFZTNnhY/Hzr79Qb4z/vayMRtGjWRkcUlWd16VnY4HZLYYP7K8ebOxefsSJ83zEft16fY/0ZA8azcBs3z5VIyM1i8Ej+iMF5vy053K5uVwbYM/j8cLybuoa5ldGRPBZXudZZBarKLqoQLM0wLm02jWypL4+oVZsYUInkfrC3RiIdo/76I7PnYtBxrd4Z318Tj23vRla+TgpKUX9/vmo6MtC5+TbsbSAdwL/Z5Lac05O/u7xYsBTqUe6gj9dngm6x009nvYpDUoNCr7v9SQrhXM9IkIoyLzsK3C8HOcHZV9Jh3LicpwSXULqE52u3BBxxA4kWNQj/QlyEzabA3/IJig37OLd4DSBG9+t7rR31OnjfBY/NhP6eg3aGFstuQ2FNGSLPEudnDwTEo6J7rGpSIUjnQmEieZ7t+SeSA3eY2ycx+N5nXqalXUpC7ouzGStIb+Ocgz084srMHWViPyPuTgnVCRWxJuYOIgT36ARSN3AjwKWh+t9NggMfxcvz/uuMCnpRIrfNWGgG5kRHv0gxzfbg0KhSPwfggKlIfdq3On0GIeTN+LRAr3Bj3J09/YgHx/bqztv8b6EeaVFh4byX12LckyPZYQXFXLK/EQSmmukxBFJ4M654Wlv7xnCEcdIEyha21jmfobOhtnapnpXXoIusVjlx9/HBkKBdXVFjs5xBVBAnKTkHBTQkHEynn0BEnt6kqAMNknaAyVLsLvBFwXCU0Lvp6FumZwUXy9ft9dROZwHvo6iqqri24LkMycfijIaLiTH17AvcM6cEXxkowGoJLBMK+HL1wq+9eH0k2+2L7T5Lx+nB7LKw9dGhwece+ZR5epaHJmdcaUkssL97dsa+xj2GxeXEHaMPTrF0WCTpiGnczMPPCH/5VadreV8lhuDAS6v0MOjWo9iZWAXWVxSrFbrLnZ3AJi9A5vtgNBUUl/kIKZLT0e75eUip2OmqrrPSE3NhE4nYQL0EnALiEZdBaeDx1MAD+OqALdAeAzvpox9CqOwjwu9fBQHPM3KDrVHeYzu0qPptzSjeXwGFt8OXD4a34TeCFN7d+nR4m+difGIPX58Kh6Naqwh8u/pNLfXs2piT0fpzl07EXA0V/bfhO0NYHsj1B7Q9jCNrwEaMt0D9o3do9Pp8MBHIzS+Ov2iewBXQ+z7jh5AaE1y43V+NXzw9sFTAf0bjW8SH+A0O+nuDZ7ak9AGLVZvFt8MiW9h0U0Z0G3SZDIyfM2m8RWUe8oR2qop66T26PAV4FVth8YypMMH/grwsrVTw/T1TSmwv9m4zl0B3X6NcDWl0Gjj4GXroAaMVB4G6P/6Z/UD1B0N8Vw/aBYAAAAASUVORK5CYII="},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this.wait=!1,this.players=e,this.init(t)}return e.prototype.init=function(e){this.params=e.external},e.prototype.start=function(){this.players.anyPlaying||this.params.show({wait:this.wait})},e.prototype.hide=function(){this.params.hide()},e.prototype.setWait=function(e){this.wait=e},e.prototype.getUrl=function(){return""},e}();t.ExternalContent=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=r(10),a=r(0),o=r(7),s=r(17),l=r(13),d=r(6),u=r(5),c=r(2),p=r(33);t.playPlayer=function(e,t,r){return"function"==typeof e.playPlayer?e.playPlayer(t):c.safeguard("playPlayer",{players:e,playerData:t,log:!0},function(){a.debugLogVast(e,t,"playPlayer: hiding all another vasts",!0);for(var c=0,h=e.plist;c<h.length;c++){var A=h[c];A.vastId==t.vastId&&A.uniqId==t.uniqId||e.parallelStartAd&&A.state==n.PlayerDataState.Started||l.hidePlayerData(e,A)}var f;!function(e,t){if(t.durationKnown)a.debugLogVast(e,t,"playPlayer: has already known duration of: "+t.duration,!1);else if("jsvpaid"==t.adType)t.duration=t.suggestedDuration,a.debugLogVast(e,t,"playPlayer: no known duration, setting to "+t.suggestedDuration,!1);else if("video"==t.adType){t.durationKnown=!0;try{t.duration=t.videoElement.duration}catch(e){}a.debugLogVast(e,t,"playPlayer: duration taken from video element: "+t.duration,!1)}}(e,t),function(e,t){t.skipVastTracker?a.debugLogVast(e,t,"playPlayer: no need for our vastTracker",!1):(a.debugLogVast(e,t,"playPlayer: initializing vastTracker",!1),null==t.creative.trackingEvents?(t.creative.trackingEvents=[],a.debugLogVast(e,t,"added trackingEvents",!1)):a.debugLogVast(e,t,"had trackingEvents",!1),t.vastTracker=new e.DMVAST.tracker(t.ad,t.creative),a.debugLogVast(e,t,"playPlayer: vastTracker set",!1),!t.durationKnown&&t.vastTracker.duration&&t.vastTracker.duration>0&&(t.duration=t.vastTracker.duration,a.debugLogVast(e,t,"playPlayer: duration from tracker: "+t.duration,!1)),t.vastTracker.playerId=e.playerId,t.vastTracker.subid=e.subid,t.vastTracker.domain=e.domain,t.vastTracker.vastId=t.vastId,t.vastTracker.duration=t.duration,t.vastTracker.setDuration(t.duration),t.vastTracker.on("clickthrough",function(e){t.adClickUrl=e}))}(e,t),e.scheduledPixelSent||(a.debugLogVast(e,t,"playPlayer: first play - logging scheduled pixel",!1),e.scheduledPixelSent=!0,u.logEvent(e,u.CEDATO_EVENT.E_SCHEDULED,{},{})),a.debugLogVast(e,t,"playPlayer: playing media",!1),e.parallelStartAd||s.logVastRequest(e,t),t.gotAdImpression=!1,t.adStartCount=0,t.startAdTime=Date.now(),t.state=n.PlayerDataState.Started,d.notifyApi(e,t,"adstartreq"),a.debugLogVast(e,t,"startAd called",!1);try{e.serverEvents.demandEvent(t,{name:"startAd"});var g=p.getSizeDetected(e);g&&e.width!==g.width&&e.height!==g.height&&d.resizePlayer(e,"normal"),f=t.startAd(r)}catch(r){f=r.message,a.debugLogVast(e,t,"startAd gave exception on "+t.adType+" startAd: "+r.message,!1)}return f?(o.vastError(e,t.vastId,o.VAST_ERROR.AD_STARTED_JS_ERROR,f,null,t,e.parallelStartAd),i.finishPlayerData(e,t,n.TerminateReason.START_AD_ERROR,{code:o.VAST_ERROR.AD_STARTED_JS_ERROR,message:f})):a.debugLogVast(e,t,"playPlayer: done",!1),!f},function(){return!1})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),i=r(6);t.default=function(e){return function(){function t(e){var t=e.players;this.players=t}return t.prototype.update=function(e){var t,r=e.muted,i=void 0!==r&&r,a=e.volume,o=void 0===a?0:a;n.toggleClass(this.elem,((t={}).volume_unmute_button=i||0==o,t.volume_mute_button=!(i||0==o),t))},t.prototype.render=function(){var t=this;return e("div",{ref:function(e){return t.elem=e},className:n.cssClass("volume_button"),onClick:function(){var e=i.getProgress(t.players);if(e){var r=e.volume,n=e.muted,a=n?r>0?r:1:r;i.setPlayerVolume(t.players,a,!n,null,!0)}}})},t}()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3);t.PlaybackButton=function(e){return function(){function t(e){var t=e.resume,r=e.pause;this.paused=!1,this.resume=t,this.pause=r}return t.prototype.update=function(e){var t,r=e.paused,i=void 0!==r&&r;this.paused=i,n.toggleClass(this.elem,((t={}).playback_play_button=this.paused,t.playback_pause_button=!this.paused,t))},t.prototype.render=function(){var t=this;return e("div",{ref:function(e){return t.elem=e},className:n.cssClass("playback_button"),onClick:function(){t.paused?t.resume():t.pause()}})},t}()},t.OverlayPlayButton=function(e){return function(){function t(e){var t=e.play;this.play=t}return t.prototype.render=function(){var t=this;return e("div",{className:n.cssClass("play_button"),onClick:function(e){e.stopPropagation(),t.play()}})},t}()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3);t.default=function(e){return function(){function t(e){var t=e.content,r=this;this.itemElements=[],this.expanded=!1,this.toggleBitrateList=function(){var e;n.toggleClass(r.listElement,((e={}).hidden=r.expanded,e)),r.expanded=!r.expanded,r.itemElements.map(function(e,t){var i;n.toggleClass(e,((i={}).selected=r.content.getVideoVariant()==t,i))})},this.getInitClassName=function(e){return n.cssClass(["bitrate_item",r.content.getVideoVariant()==e&&"selected"])},this.content=t}return t.prototype.update=function(e){var t=e.content,r=void 0!==t&&t;this.setVisibility(r)},t.prototype.setVisibility=function(e){var t;n.toggleClass(this.button,((t={}).hidden=!e,t)),!e&&this.expanded&&this.toggleBitrateList()},t.prototype.render=function(){var t=this;return[e("div",{ref:function(e){return t.button=e},className:n.cssClass("bitrate_button"),onClick:this.toggleBitrateList}),e("div",{ref:function(e){return t.listElement=e},className:n.cssClass(["bitrate_list","hidden"])},this.content.getVideoVariantList().map(function(r,n){return e("div",{ref:function(e){return t.itemElements[n]=e},className:t.getInitClassName(n),onClick:function(){t.content.setVideoVariant(n),t.toggleBitrateList()}},r.label)}))]},t}()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3);t.default=function(e){return function(){function t(e){var t=e.onClick,r=this;this.isCountable=function(){return"number"==typeof r.skippable&&r.skippable<0},this.update=function(e){var t,i=e.skippable,a=void 0!==i&&i;r.skippable!==a&&(r.skippable=a,n.toggleClass(r.mainElement,((t={}).skip_countdown_button=r.isCountable(),t.hidden=!a,t)),r.setCountdown())},this.setCountdown=function(){var e="Skip Ad";r.isCountable()&&(e="Skip in "+Math.abs(r.skippable)),r.countElement.textContent=e},this.onClick=t}return t.prototype.render=function(){var t=this;return e("div",{ref:function(e){return t.mainElement=e},className:n.cssClass(["controls_skip_button",this.isCountable()&&"skip_countdown_button"]),onClick:function(){t.skippable&&!t.isCountable()&&t.onClick()}},e("span",{ref:function(e){return t.countElement=e},className:n.cssClass("skip_text")},this.isCountable()?"Skip in "+Math.abs(this.skippable):"Skip Ad"))},t}()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(23);var n=r(3);function i(e){var t="",r=Math.floor(e/3600),n=Math.floor(e%3600/60),i=Math.floor(e%3600%60);return t+=r>0?r+":":"",t+=n+":",t+=i<10?"0"+i:i}t.default=function(e){return function(){function t(){}return t.prototype.update=function(e){var t=e.time,r=void 0===t?0:t,n=e.duration,a=void 0===n?0:n,o=isNaN(r)?0:r;a=isNaN(a)?0:a,this.timeElement&&(this.timeElement.textContent=i(o)),this.durationElement&&this.durationElement.textContent!==i(a)&&(this.durationElement.textContent=i(a))},t.prototype.render=function(){var t=this;return e("div",{className:n.cssClass("time_tracker")},e("span",{ref:function(e){return t.timeElement=e}},i(0)),e("span",null,"/"),e("span",{ref:function(e){return t.durationElement=e}},i(0)))},t}()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3);t.default=function(e){return function(){function t(e){var t=e.lines,r=void 0===t?10:t,i=e.onChange,a=void 0===i?null:i;this.linesElement=[],this.getLineClass=function(e,t){return n.cssClass(["volume_line",Math.floor(10*e)>t&&"volume_line_colored"])},this.lines=r,this.onChange=a}return t.prototype.buildLines=function(t,r){var n=this;return Array(r).join().split(",").map(function(r,i){return n.linesElement[i]=e("em",{className:n.getLineClass(t,i)})})},t.prototype.setValue=function(e){var t=this;this.linesElement.map(function(r,n){r.className=t.getLineClass(e,n)})},t.prototype.getValue=function(e){var t=e.currentTarget.getBoundingClientRect(),r=Math.abs(e.clientX-t.left)/this.mainElement.offsetWidth,n=1/this.linesElement.length,i=Math.ceil(r/n),a=Math.round(i*n*100)/100;return this.setValue(a),a},t.prototype.render=function(){var t=this;return e("div",{ref:function(e){return t.mainElement=e},className:n.cssClass("volume_control"),onClick:function(e){t.onChange(t.getValue(e))}},this.buildLines(0,this.lines))},t}()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(43);t.default=function(e){return function(){function t(e){var t=e.volume,r=void 0===t?0:t,n=e.onChange,i=void 0===n?null:n;this.volume=0,this.volume=r,this.onChange=i}return t.prototype.update=function(e){var t=e.volume,r=void 0===t?0:t;this.volume!=r&&(this.bar.setRatio(r),this.volume=r)},t.prototype.render=function(){var t=this,r=n.BarFactory(e);return e(r,{ref:function(e){return t.bar=e},type:"volume_bar",placeholder:!0,hovering:!0,value:this.volume,onChange:this.onChange})},t}()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(43);t.default=function(e){return function(){function t(e){var t=e.onSeek,r=void 0===t?null:t,n=e.updateInterval,i=void 0===n?100:n,a=e.seekableContent,o=void 0===a||a,s=this;this.lastPositionTime=0,this.duration=NaN,this.isContent=!0,this.onChange=function(e){s.isContent&&s.duration&&s.onSeek(s.duration*e)},this.onSeek=r,this.autoUpdateInterval=i,this.seekableContent=o}return t.prototype.update=function(e){var t=e.jump,r=void 0!==t&&t,n=e.time,i=void 0===n?NaN:n,a=e.duration,o=void 0===a?NaN:a,s=e.content,l=void 0===s||s,d=e.paused,u=void 0!==d&&d;if(this.bar.setInteractive(l&&this.seekableContent),this.bar.setVisibility(isNaN(o)),isNaN(o)||isNaN(i))this.bar.setRatio(0);else{var c=0;r||u||this.isContent!=l||Math.abs(i-this.lastPositionTime)>=1||isNaN(this.lastPositionTime)&&isNaN(this.duration)||(i+=c=Math.min(o-i,.95*this.autoUpdateInterval/1e3)),this.bar.setRatio(i/o,c)}this.lastPositionTime=i,this.duration=o,this.isContent=l},t.prototype.render=function(){var t=this,r=n.BarFactory(e);return e(r,{ref:function(e){return t.bar=e},type:"seek_bar",placeholder:!0,scrubber:!0,hovering:!0,value:0,onChange:this.onChange})},t}()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3);t.default=function(e){return function(){function t(e){var t=e.onClick;this.onClick=t}return t.prototype.update=function(e){var t,r=e.content,i=e.requestedMuted;n.toggleClass(this.elem,((t={}).hidden=r||!1===i,t))},t.prototype.render=function(){var t=this;return e("div",{ref:function(e){return t.elem=e},className:n.cssClass("unmute_button"),onClick:this.onClick})},t}()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3);t.CloseButton=function(e){return function(t){var r=t.onClick;return e("div",{className:n.cssClass("close_button"),onClick:r})}},t.SkipButton=function(e){return function(t){var r=t.onClick;return e("div",{className:n.cssClass("skip_button"),onClick:r},"Skip Ad")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initPassback=function(e){var t=e.pluginElement,r=e.api,n=e.playerDiv,i=e.log;if(t&&t.textContent){var a=null,o=60;t.dataset&&t.dataset.timeout&&(o=1*t.dataset.timeout),r.on("player.started",function(){i("Passback: set timeout on "+o+" seconds"),a=setTimeout(function(){i("Passback: ad not started, calling script"),r.close(!0,"passback"),function(e,t){var r=t.replace(/\<\\\//g,"</"),n=document.createElement("iframe");n.style.width="100%",n.style.height="100%",n.style.border="none",e.insertBefore(n,e.firstChild);var i=n.contentDocument||n.contentWindow&&n.contentWindow.document;i&&i.write("<body style='margin:0'>"+r+"</body>")}(n,t.textContent)},1e3*o)}),r.on("adstart",function(){i("Passback: ad started, clearing timeout"),clearTimeout(a)}),r.on("closed",function(){return clearTimeout(a)})}}},function(e,t,r){"use strict";function n(e,t,r){if(e&&e.textContent)try{var n=JSON.parse(e.textContent);return r(t+" plugin: "+JSON.stringify(n)),n}catch(n){r(t+" plugin error: "+e.textContent)}}Object.defineProperty(t,"__esModule",{value:!0}),t.initContentPlugin=function(e){var t=e.pluginElement,r=e.api,i=n(t,"Content definition",e.log);i&&r.setContent(i)},t.initOverridesPlugin=function(e){var t=e.pluginElement,r=e.api,i=n(t,"initOverrides",e.log);i&&r.overrideInitParams(i)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(7),a=r(18),o=r(15),s=function(){function e(e,t){this.players=e,this.playerData=t,this.fixForTypescript=function(){return i.VAST_ERROR}}return e.prototype.xhr=function(){return a.createXMLHTTPObject()},e.prototype.supported=function(){return!!this.xhr()},e.prototype.get=function(e,t,r){var i=this;t.withCredentials="withCredentials"in this.xhr()&&t.withCredentials,this.playerData.requestedVastURL==e?this.playerData.wrapperCount=0:(this.playerData.wrapperCount++,this.playerData.wrapperCredentials||(t.withCredentials=!1,this.playerData.withCredentials=!1)),n.debugLogVast(this.players,this.playerData,"xhr url: "+e+", credentials: "+t.withCredentials+", wrapper: "+this.playerData.wrapperCount,!1),a.requestWithAjax({timeout:t.timeout,url:e,withCredentials:t.withCredentials}).then(function(t){try{i.players.logVastResponse&&(n.debugLogVast(i.players,i.playerData,"xhr response to url "+e,!1),n.debugLog(i.players,t.responseText,!1)),i.playerData.vastResponseXML=a.getXML(t),r(null,i.playerData.vastResponseXML)}catch(l){var s={xhr:t,code:a.HttpError.UNKNOWN,message:l.message,fromUrlHandler:!0};-1!==s.message.indexOf("cross-origin")&&(n.debugLogVast(i.players,i.playerData,"xhr cross origin error for url: "+e,!1),s.code=a.HttpError.CORS),o.logParseXmlError(i.players,s.message),r(s,null)}},function(e){var t={xhr:e.xhr,code:e.code,fromUrlHandler:!0,message:e.data&&e.data.message,status:e.data&&e.data.status};r(t,null)})},e}();t.VastUrlHandler=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),a=r(10),o=r(0),s=r(7),l=r(46),d=r(35),u=r(83),c=r(15),p=r(27),h=r(21),A=r(34),f=r(5),g=r(2),v=r(14),m=r(11);function y(e,t){var r=void 0===t?{}:t,n=r.dataFunc,l=void 0===n?null:n,d=r.setVolume,u=void 0!==d&&d,p=r.log,h=void 0===p||p;return function(t,r){return function(){for(var n=[],d=0;d<arguments.length;d++)n[d]=arguments[d];if(t.vpaidJs)try{h&&o.debugLogVast(t.players,t,"got js "+r+" event",!1),l&&(n=l.apply(t,n)),v.default.delay(t.delay[r]||0).then(function(){e(t.players,t,n)}).catch(g.safecatch(t.players,"jsvpaid event "+r)),u&&(t.syncVolume(),o.debugLogVast(t.players,t,"sync volume",!1))}catch(e){f.playerError(t.players,i.PlayerError.JS_EXCEPTION,"jsVpaid"+r+" hanlder JS exception: ",e),e&&e.terminateVpaid&&a.finishPlayerData(t.players,t,i.TerminateReason.VPAID_VOLUME_VIOLIATION,{code:s.VAST_ERROR.GENERAL_ERROR,message:"volume violation",vpaidError:s.VpaidError.VPAID_VOLUME_VIOLATION})}else c.vpaidJSDisappearedError(t.players,t,r)}}}var E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getAdRemainingTime=function(){var e;try{e=(e=this.vpaidJs.getAdRemainingTime())<0?null:e}catch(e){}return e},t.prototype.getAdDuration=function(){var e;try{e=(e=this.vpaidJs.getAdDuration())<0?null:e}catch(e){}return e},t.prototype.verifyDuration=function(){if(!this.durationKnown){var e=this.getAdDuration();e&&(this.duration=e,this.durationKnown=!0)}},t.prototype.isNonLinear=function(){return this.vpaidJs.getAdLinear&&!this.vpaidJs.getAdLinear()},t.prototype.initNonLinearCompleter=function(){var e=this;!this.isNonLinear()&&this.durationKnown||(o.debugLogVast(this.players,this,"init non-linear completer timer: "+this.duration+" seconds",!1),this.nonLinearCompleteTimer=v.default.Seconds(this.duration),this.nonLinearCompleteTimer.start(function(){o.debugLogVast(e.players,e,"non-linear completer timer call - stop player data",!1),l.AdUserCloseHandler(e.players,e)}))},t.guessError=function(e){return void 0===e?e="unknown error":"string"!=typeof e&&(e=e.message?e.message:e.data&&e.data.message?e.data.message:"Couldnt extract error message"),{errorMsg:e}},t.clickData=function(e,t,r){return Array.isArray(e)?{url:e[0]||"",id:e[1],playerHandles:e[2]}:{url:e||"",id:t,playerHandles:r}},t.prototype.considerVolumeChange=function(){if(!this.players.AllowedUnmute()){var e=!1,t=null,r=!1;try{if(0==this.vpaidJs.getAdVolume())return;this.viewable?this.viewableForSeconds()<1?t="JS VPAID - AdVolume change too soon after adStarted":(e=!0,t="JS VPAID - AdVolume change allowed"):t="JS VPAID - AdVolume change before viewable",e||(this.vpaidJs.setAdVolume(0),0==this.vpaidJs.getAdVolume()&&(r=!0,t="JS VPAID - AdVolume change reverted"))}catch(e){t="JS VPAID - AdVolumeChanged exception"+(e&&e.message?e.message:"")}c.vpaidVolumeChanged(this.players,this,e||r,t)}},t.prototype.subscribe=function(){var e=t.VpaidEvents;for(var r in this.eventSubscriptions={},e)e.hasOwnProperty(r)&&(this.eventSubscriptions[r]=e[r](this,r),this.vpaidJs.subscribe(this.eventSubscriptions[r],r))},t.prototype.unsubscribe=function(){for(var e in this.eventSubscriptions)this.eventSubscriptions.hasOwnProperty(e)&&(this.vpaidJs.unsubscribe(this.eventSubscriptions[e],e),delete this.eventSubscriptions[e])},t.prototype.insertCompanion=function(){this.vpaidJsIframeAdElem.appendChild(this.companionsElementDiv)},t.prototype.isUnlocked=function(){return!1},t.prototype.initMedia=function(){var t=this;if(this.vpaidJs=null,l.setThirdPartyTimeout(this.players,this),!p.isBlocked(this.players.blacklist,this.mediaURL,"js"))return this.players.xhrInterceptEnabled&&this.xhrIntercept(),e.prototype.initMedia.call(this).then(function(){return u.loadJSVpaid(t.players,t).then(function(){t.players.showBrandMenu&&A.subscribeBrandMenu(t.players,t.vpaidJsIframeAdElem,t),t.subscribe(),m.initAdThrottler(t.players,t,function(){return l.initAd(t.players,t)}),o.debugLogVast(t.players,t,"initMedia: done",!0)}).catch(function(e){s.vastError(t.players,t.vastId,s.VAST_ERROR.VPAIDJS_LOAD,e.message,null,t),a.finishPlayerData(t.players,t,i.TerminateReason.VPAID_LOAD_FAILURE,{code:s.VAST_ERROR.VPAIDJS_LOAD,message:e.message})})});a.finishPlayerData(this.players,this,i.TerminateReason.IS_BLOCKED)},t.prototype.xhrIntercept=function(){var e=this;this.xhrStats={},this.xhrEvent=new h.EventEmitter2({wildcard:!0}),this.xhrEvent.on("*",function(t,r,n){var i="error"==t.type||"timeout"==t.type||"blocked"==t.type||"iframeBlock"==t.type;e.xhrStats[t.type]=(e.xhrStats[t.type]||0)+1,"open"==t.type&&"async"in t&&!t.async&&(i=!0,e.xhrStats.sync=(e.xhrStats.sync||0)+1);for(var a=-1,o="",s=n;s;)a++,o=(s.tag||"")+"\n"+o,s=s.parent;if((e.xhrStats.maxDep||0)<a&&(e.xhrStats.maxDep=a),e.players.xhrTraceToConsole){var l=r?r.url+" "+(r.statusText||"")+" "+(r.status||""):t.src;console[i?"error":"warn"]("XHR",e.vastId,t.type,l,"\n"+a+" => "+o)}})},t.prototype.initAd=function(){var e={AdParameters:this.adParameters||""},t={slot:this.vpaidJsIframeAdElem,videoSlot:this.vpaidJsIframeVideo,videoSlotCanAutoPlay:this.players.mainAutoplay},r=this.vpaidJs.initAd(this.players.widthOverwrite||this.players.width,this.players.heightOverwrite||this.players.height,"normal",4800,e,t);if(!r&&void 0!==r)return"jsVpaid error"},t.prototype.startAd=function(e){this.players.rootDivElem.style.top="0px",this.syncVolume(e);try{this.vpaidJs.startAd(),this.sureFastStart=!1,l.initStartAdHalfStopper(this.players,this),l.initStartAdStopper(this.players,this)}catch(e){return"jsVpaid start error"}return null},t.prototype.pauseAd=function(){this.vpaidJs&&this.vpaidJs.pauseAd&&this.vpaidJs.pauseAd()},t.prototype.resumeAd=function(){this.vpaidJs&&this.vpaidJs.resumeAd&&this.vpaidJs.resumeAd()},t.prototype.stopAd=function(){this.vpaidJs&&(this.vpaidJs.stopAd&&this.vpaidJs.stopAd(),this.vpaidJs.pauseAd&&this.vpaidJs.pauseAd())},t.prototype.showAd=function(){e.prototype.showAd.call(this),this.vpaidJsIframeAdElem&&(this.vpaidJsIframeAdElem.style.zIndex="10000"),this.vpaidJsIframeVideo&&(this.vpaidJsIframeVideo.style.margin="0",this.vpaidJsIframeVideo.style.padding="0",this.vpaidJsIframeVideo.style.top="0px",this.vpaidJsIframeVideo.style.left="0px",this.vpaidJsIframeVideo.style.position="absolute")},t.prototype.hideAd=function(){this.vpaidJsIframeAdElem&&(this.vpaidJsIframeAdElem.style.zIndex=(1-this.uniqId).toString()),this.vpaidJsIframeVideo&&(this.vpaidJsIframeVideo.style.zIndex=(1-this.uniqId).toString()),e.prototype.hideAd.call(this)},t.prototype.clearAd=function(){try{this.vpaidJs&&(this.firedEvents.AdError||this.firedEvents.AdStopped||this.vpaidJs.stopAd(),this.vpaidJs.clearAd&&this.vpaidJs.clearAd(),this.unsubscribe()),this.players.showBrandMenu&&A.unsubscribeBrandMenu(this.players,this.vpaidJsIframeAdElem,this),this.jsVpaidFrame.parentNode.removeChild(this.jsVpaidFrame)}catch(e){}this.initialSound=!1,this.jsVpaidFrame=null,this.vpaidJsIframeAdElem=null,this.vpaidJsIframeVideo=null,this.vpaidJsIframeVideoCanvas=null,this.vpaidJs=null,this.xhrStats&&o.debugLogVast(this.players,this,"XHR trace: "+JSON.stringify(this.xhrStats),!1)},t.prototype.resizeAd=function(e,t,r){this.vpaidJs&&this.vpaidJs.resizeAd&&this.vpaidJs.resizeAd(e,t,r)},t.prototype.setAdVolume=function(e,t,r){if(this.vpaidJs&&this.vpaidJs.setAdVolume){if(this.players.muteToPlay&&!t&&!r&&!this.isUnlocked()){if(this.initialSound)return;t=!0}this.muted=t,e=t?0:e;try{this.vpaidJsIframeVideo.volume=e,this.vpaidJsIframeVideo.muted=t,this.initialSound&&this.vpaidJs.getAdVolume&&this.vpaidJs.getAdVolume()===e||this.vpaidJs.setAdVolume(e),this.initialSound=!0}catch(e){}}},t.prototype.getAdVolume=function(){return this.vpaidJs&&this.vpaidJs.getAdVolume&&{volume:this.vpaidJs.getAdVolume()}},t.prototype.isLinear=function(){return!this.vpaidJs||this.vpaidJs.getAdLinear()},t.prototype.getProgress=function(){this.verifyDuration();var e=this.duration;return{time:e-this.getAdRemainingTime(),duration:e}},t.prototype.getAdSkippableState=function(){return this.vpaidJs.getAdSkippableState&&this.vpaidJs.getAdSkippableState()||e.prototype.getAdSkippableState.call(this)},t.prototype.skipAd=function(){var e=this;this.vpaidJs.getAdSkippableState&&this.vpaidJs.getAdSkippableState()?(this.vpaidJs.skipAd(),this.failSkipTimer.start(function(){o.debugLogVast(e.players,e,"slow skipAd, force skip"),e.onSkip()})):(o.debugLogVast(this.players,this,"ad is not in skippable state, force skip"),this.onSkip())},t.prototype.getErrorEvent=function(t){var r={event:{},timed:!0};return this.state==i.PlayerDataState.Initing?(r.event={name:"AdLoadError",errorCode:t.code==s.VAST_ERROR.GENERAL_ERROR?s.VAST_ERROR.AD_LOADED_ERROR:t.code,message:t.message},t.code==s.VAST_ERROR.AD_LOADED_TIMEOUT_ERROR&&(r.event.timeout=!0)):r=e.prototype.getErrorEvent.call(this,t),t.vpaidError&&(r.event.vpaidError=t.vpaidError),r},t.VpaidEvents={AdLoaded:y(l.AdLoadedHandler,{setVolume:!0}),AdError:y(l.AdErrorHandler,{dataFunc:t.guessError}),AdStarted:y(l.AdStartedHandler,{dataFunc:function(){this.state<i.PlayerDataState.Started&&(o.debugLogVast(this.players,this,"unrequested start - same vast prefetch disabled",!1),this.disableSameVastPrefetch=!0),this.verifyDuration()},setVolume:!0}),AdStopped:y(l.AdStoppedHandler),AdPlaying:y(l.AdPlayingHandler),AdPaused:y(l.AdPausedHandler),AdVideoStart:y(l.AdVideoStartHandler,{dataFunc:function(){this.verifyDuration(),this.nonLinearCompleteTimer.cancel()},setVolume:!0}),AdVideoFirstQuartile:y(l.AdFirstQuartileHandler),AdVideoMidpoint:y(l.AdMidpointHandler),AdVideoThirdQuartile:y(l.AdThirdQuartileHandler),AdVideoComplete:y(l.AdCompleteHandler),AdImpression:y(l.AdImpressionHandler,{setVolume:!0}),AdRemainingTimeChange:y(l.AdRemainingTimeChangeHandler,{dataFunc:function(){return{t:this.getAdRemainingTime()}},log:!1}),AdDurationChange:y(l.AdDurationChangeHandler,{dataFunc:function(){return{t:this.getAdDuration()}}}),AdVolumeChange:y(l.AdVolumeChangeHandler,{dataFunc:function(){this.considerVolumeChange()}}),AdClickThru:y(l.AdClickthruHandler,{dataFunc:t.clickData}),AdSkipped:y(l.AdSkippedHandler),AdSkippableStateChange:y(l.AdSkippableStateChangeHandler),AdUserClose:y(l.AdUserCloseHandler)},t}(d.PlayerDataVast);t.PlayerDataVpaidJs=E},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8),i=r(4),a=r(27),o=r(2),s=r(22);function l(e){var t=document.createElement("iframe");return t.src="about:blank",t.width="100%",t.height="100%",t.id="vjs"+Math.floor(5e3*Math.random()),t.setAttribute("frameBorder","0"),t.setAttribute("scrolling","no"),t.style.position="absolute",t.style.left="0px",t.style.top="0px",t.style.overflow="hidden",e&&(t.sandbox="allow-scripts allow-same-origin allow-popups"),t}t.createVpaidJsIframe=l,t.loadJSVpaid=function(e,t){return new n.Promise(function(r,n){var d=function(e,t){return!!e.htmlOnly||void 0!==t.sandbox&&t.sandbox}(e,t),u=l(d);t.jsVpaidFrame=u,t.adContainer.appendChild(u);var c=u.contentWindow&&u.contentWindow.document;if(!c)throw new Error("loadJSVpaid frame document not defined");c.write('<!DOCTYPE html>\n      <html lang="en">\n        <head>\n          <meta charset="UTF-8">\n          '+("https:"==e.protocol?'<meta http-equiv="Content-Security-Policy" content= "upgrade-insecure-requests;" >':"")+'\n        </head>\n        <body style="margin:0;padding:0;"></body>\n      </html>'),t.xhrEvent&&a.patchIframeXHR(u.contentWindow,t.xhrEvent,e.blacklist,e.observableOnly,t.mediaURL);var p=c.createElement("script");p.setAttribute("type","text/javascript");var h=t.mediaURL;e.isDebugVersion&&e.playerUrl&&h.match(/^http.*\/player\/cedato_vpaid.*\.js/)&&(h=h.replace(/^http.*\.js/,e.playerUrl.replace("_player","_vpaid"))),p.src=i.upgradeProtocol(e.protocol,h),p.addEventListener("load",function(){o.safeguard("jsVpaidLoaded",{players:e,playerData:t},function(){!function(e,t){if("function"==typeof e.jsVpaidLoaded)return e.jsVpaidLoaded(t);var r=t.jsVpaidFrame;if(!r||!r.contentWindow||!r.contentWindow.getVPAIDAd)throw new Error("couldn't find js vpaid module");if(s.jsvCanvas(t.videoElement)&&!t.vpaidUseJSV?(t.videoElement.style.display="none",t.vpaidJsIframeVideo=document.createElement("video"),t.adContainer.insertBefore(t.vpaidJsIframeVideo,t.adContainer.firstChild)):t.vpaidJsIframeVideo=t.videoElement,t.vpaidJsIframeVideo.setAttribute("style","margin:0;padding:0;top:0px;left:0px;position:absolute;width:100%;height:100%;"),e.muted&&(t.vpaidJsIframeVideo.volume=0,t.vpaidJsIframeVideo.muted=!e.dynamicSound),e.muteToPlay&&(t.vpaidJsIframeVideo.volume=0,t.vpaidJsIframeVideo.muted=!0),t.vpaidJs=r.contentWindow.getVPAIDAd(),!t.vpaidJs)throw new Error("failed to create js vpaid module");t.vpaidJs.handshakeVersion&&t.vpaidJs.handshakeVersion("2.0")}(e,t),r()},n)});var A=c.createElement("div");A.id="vpaid-js-ad-elem",A.className="vpaid-ad-slot",A.setAttribute("style","margin:0;padding:0;width:100%;height:100%;position:absolute;left:0;top:0;"),t.vpaidJsIframeAdElem=A,(t.iframeSlot||d?c.body:t.adContainer).appendChild(A),c.body.appendChild(p),t.initCompanion(c)})}},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),a=r(10),o=r(35),s=r(15),l=r(0),d=r(22),u=r(7),c=r(11),p=r(16),h=r(47),A=r(6),f=r(3),g=r(17),v=r(13),m=r(2),y=r(14),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.firstPlayEventTriggered=!1,t.completed=!1,t}return n(t,e),t.prototype.initMedia=function(){var t=this;return e.prototype.initMedia.call(this).then(function(){t.initCompanion(),function(e,t){if(t.videoElementPrepared)return;m.safeguard("prepareVideoElem",{players:e,playerData:t,log:!0},function(){f.assignClass(t.videoElement,"video_element"),t.videoElement.style.zIndex=(9994-t.uniqId).toString(),t.firstPlayEventTriggered=!1;var r=b;if(t.delay.AdLoaded){var n=b;r=function(e,t){return setTimeout(function(){return n(e,t)},t.delay.AdLoaded)}}var i=T;if(d.jsvCanvas(t.videoElement)){var a=T;i=function(e,t){return y.default.delay(0).then(function(){return a(e,t)}).catch(m.safecatch(e,"ad video event play"))}}m.safeEventListeners(t.videoElement,"ad video event",{players:e,playerData:t},[{type:"canplay",playerDataAction:r},{type:"play",playerDataAction:i},{type:"pause",playerDataAction:_},{type:"ended",playerDataAction:R},{type:"timeupdate",playerDataAction:D},{type:"volumechange",playerDataAction:P},{type:"error",playerDataAction:S},{type:"click",playerDataAction:L}]),t.videoElementPrepared=!0})}(t.players,t),d.setVideoSrc(t.players,t.videoElement,t.mediaURL),d.jsvCanvas(t.videoElement)||(t.videoElement.autoplay=!1,t.videoElement.controls=t.players.controlBar&&"native"==t.players.controlBarType,t.videoElement.loop=!1,t.videoElement.load()),l.debugLogVast(t.players,t,"initMedia: done",!0)}).catch(m.safecatch(this.players,"initMedia"))},t.prototype.getSkipOffset=function(){var t=this.creative.skipDelay||-1;return e.prototype.getSkipOffset.call(this)>0&&(t=t>0?Math.min(e.prototype.getSkipOffset.call(this),t):e.prototype.getSkipOffset.call(this)),t},t.prototype.initAd=function(){},t.prototype.startAd=function(e){this.showAd(),this.sureFastStart=!0,this.syncVolume(e),s.validateVideoStart(this.players,this.videoElement,this.videoElement.play(),"vast")},t.prototype.pauseAd=function(){this.videoElement.pause()},t.prototype.resumeAd=function(){this.videoElement.play()},t.prototype.stopAd=function(){this.videoElement.pause()},t.prototype.showAd=function(){this.adContainer.style.zIndex="10000",this.adContainer.style.position="absolute"},t.prototype.hideAd=function(){this.adContainer.style.zIndex=(1-this.uniqId).toString()},t.prototype.clearAd=function(){d.jsvCanvas(this.videoElement)&&this.videoElement.pause()},t.prototype.destroyAd=function(){this.clearAd(),this.adContainer&&this.adContainer.parentNode&&this.adContainer.parentNode.removeChild(this.adContainer)},t.prototype.resizeAd=function(e,t,r){},t.prototype.setAdVolume=function(e,t,r){!this.players.muteToPlay||t||r||this.isUnlocked()?(this.muted=t,this.videoElement&&(this.videoElement.muted!==t&&(this.videoElement.muted=t),this.videoElement.volume!==e&&(this.videoElement.volume=e))):!this.muted&&this.state<=i.PlayerDataState.Started&&this.setAdVolume(e,!0,!1)},t.prototype.getAdVolume=function(){return this.videoElement&&{volume:this.videoElement.volume,muted:this.videoElement.muted}},t.prototype.getProgress=function(){var e=this.videoElement.duration;return{time:Math.min(this.videoElement.currentTime,e),duration:e}},t.prototype.getErrorEvent=function(t){var r=e.prototype.getErrorEvent.call(this,t);return t.videoError&&(r.event.videoError=t.videoError),r},t}(o.PlayerDataVast);function _(e,t){t.videoElement.duration>0&&t.videoElement.duration>t.videoElement.currentTime&&(l.debugLogVast(e,t,"got video paused callback",!0),A.pausePlayingPlayer(e,t))}function T(e,t){if(A.resumePlayingPlayer(e,t),e.beingVpaid){var r=void 0;r=t.duration?t.duration:t.videoElement.duration,p.callingVpaidEvent(e,"jsAdDurationChange",{duration:r.toFixed(2)})}l.debugLogVast(e,t,"onplay",!1),t.firstPlayEventTriggered?l.debugLogVast(e,t,"already handled play event",!1):(t.firstPlayEventTriggered=!0,t.state==i.PlayerDataState.Started?(h.adStarted(e,t),h.adImpression(e,t)||(e.beingVpaid&&p.callingVpaidEvent(e,"jsAdVideoStart",{}),t.errorCount=0,l.debugLogVast(e,t,"onplay done",!1))):l.debugLogVast(e,t,"invalid state, was probably stopped - "+t.state,!1))}function b(e,t){l.debugLogVast(e,t,"video oncanplay",!1),"video"==t.adType?t.state>=i.PlayerDataState.Ready?l.debugLogVast(e,t,"video oncanplay but state is "+t.state,!1):function(e,t){l.debugLogVast(e,t,"video loaded handler",!1),g.logVastLoaded(e,t),A.notifyApi(e,t,"ad.loaded",e.mediaPreview?{mediaUrl:t.videoElement&&t.videoElement.src}:null),t.durationKnown=!0;try{t.duration=t.videoElement.duration,t.vastTracker&&(t.vastTracker.duration=t.duration,t.vastTracker.setDuration(t.duration))}catch(e){t.durationKnown=!1}var r=Math.floor(e.width),n=Math.floor(e.height),a=(e.height-n)/2;a=Math.floor(a),l.debugLogVast(e,t,"video width: "+r+", height: "+n+", top: "+a,!1),t.videoElement.style.cssText="background-color: black; width:100%; height:100%; position: relative; top: "+a+"px",t.state=i.PlayerDataState.Ready,e.beingVpaid&&p.callingVpaidEvent(e,"jsAdReadyToStart",{});try{t.syncVolume()}catch(e){}c.playNext(e)}(e,t):l.debugLogVast(e,t,"adType not video: "+t.adType,!1)}function R(e,t,r){t.completed?l.debugLogVast(e,t,"dup video ended event",!1):(t.completed=!0,t.onComplete(),a.finishPlayerData(e,t,i.TerminateReason.AD_COMPLETE))}function S(e,t,r){if(t.state!=i.PlayerDataState.Error&&"video"==t.adType){l.debugLogVast(e,t,"video onerror",!1),A.notifyApi(e,t,"aderror"),A.notifyApi(e,t,"ad.error");var n=r.target.error.code;u.vastError(e,t.vastId,u.VAST_ERROR.GENERAL_ERROR,"video player error code: "+n,null,t,!1),a.finishPlayerData(e,t,i.TerminateReason.VIDEO_ERROR,{code:u.VAST_ERROR.GENERAL_ERROR,message:d.videoErrorMessage(r.target),videoError:n})}}function L(e,t){v.adClick(e,t,null)}function D(e,t){if(!(t.state<i.PlayerDataState.Initing||t.state==i.PlayerDataState.Error||"video"!=t.adType)){var r=t.videoElement;t.vastTracker&&t.vastTracker.setProgress(r.currentTime),e.beingVpaid&&p.callingVpaidEvent(e,"jsAdRemainingTimeChange",{remainingTime:(r.duration-r.currentTime).toFixed()});var n=Math.floor(r.currentTime/r.duration*4);n>0&&n<4&&t.quartile!=n&&t.onQuartile(n)}}function P(e,t){t.viewable&&t.videoElement.controls&&(l.debugLogVast(e,t,"got video volumeChange callback",!0),A.setPlayerVolume(e,t.videoElement.volume,t.videoElement.muted,t))}t.PlayerDataVideo=E},function(e,t,r){"use strict";t.__esModule=!0,t.traceEventListeners=function(e,t){var r=e.addEventListener,n=e.removeEventListener,i=[],a={},o=e;for(var s in o)"on"==s.substr(0,2)&&o[s]&&(a[s]=o[s]);return o.addEventListener=function(e,t,n){i.push({type:e,listener:t,options:n}),r.call(this,e,t,n)},o.removeEventListener=function(e,r,a){if(t)for(var o=0;o!=i.length;o++){var s=i[o];e==s.type&&r==s.listener&&a==s.options&&i.splice(o,1)}n.call(this,e,r,a)},{target:o,activeListeners:i,storedOns:a,reset:function(){for(var e in o)"on"==e.substr(0,2)&&(o[e]=a[e]||null);for(var t=0;t!=i.length;t++){var r=i[t],s=r.type,l=r.listener,d=r.options;n.call(o,s,l,d)}i.splice(0,i.length)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(){this.duplicate=10,this.requestAds=60,this.fetchVast=86400,this.loadAd=60,this.impressionAfterStart=3,this.longImpression=70,this.startAdHalf=7,this.startAdParallel=70,this.startAdNonParallel=20,this.waitHigherGroup=[5,12,12,0]}}();t.Timers=n},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0});var i=r(32),a=r(0),o=r(88).initMoatTracking,s=((n={})["ad.start"]="AdVideoStart",n["ad.firstQuartile"]="AdVideoFirstQuartile",n["ad.midpoint"]="AdVideoMidpoint",n["ad.thirdQuartile"]="AdVideoThirdQuartile",n["ad.complete"]="AdVideoComplete",n);function l(e,t){var r=t.moat;if(null!=r.rate&&Math.random()>r.rate||!r.ids||!r.partnerCode)return null;var n={},s=i.macros(e,t);for(var l in r.ids)r.ids.hasOwnProperty(l)&&(n[l]=s(r.ids[l]));return a.debugLogVast(e,t,"init moat, ids: "+JSON.stringify(n)+", partner code: "+r.partnerCode+", rate: "+r.rate,!1,null),o(e.divElem,n,t.duration,r.partnerCode,e.content?e.content.getUrl():"")}t.initMoat=l,t.dispatchMoatEvent=function(e,t,r){var n=s[r];if(!n)return!1;if("ad.start"==r&&(t.moatAPI=l(e,t)),t.moatAPI){a.debugLogVast(e,t,"dispatch moat event: "+n,!1,null);var i={type:n,adVolume:e.volume};t.moatAPI.dispatchEvent(i)}}},function(e,t){t.initMoatTracking=function(e,t,r,n,i){var a,o,s=document.createElement("script"),l=[];t={adData:{ids:t,duration:r,url:i},dispatchEvent:function(e){this.sendEvent?(l&&(l.push(e),e=l,l=!1),this.sendEvent(e)):l.push(e)}},r="_moatApi"+Math.floor(1e8*Math.random());try{o=(a=e.ownerDocument).defaultView||a.parentWindow}catch(e){a=document,o=window}return o[r]=t,s.type="text/javascript",e&&e.insertBefore(s,e.childNodes[0]||null),s.src="https://z.moatads.com/"+n+"/moatvideo.js#"+r,t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8);t.isNeeded=function(e){return void 0===e&&(e=navigator.userAgent),!(e.match(/Safari\/602/)||e.match(/Android.*Chrome\/(5[3-9]|[6-8][0-9])/)&&!e.match(/wv\)/))},t.supportsPlayVideo=function(){try{var e=document.createElement("video");e.src="data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAAAAG1wNDJtcDQxaXNvbWF2YzEAAATKbW9vdgAAAGxtdmhkAAAAANLEP5XSxD+VAAB1MAAAdU4AAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAACFpb2RzAAAAABCAgIAQAE////9//w6AgIAEAAAAAQAABDV0cmFrAAAAXHRraGQAAAAH0sQ/ldLEP5UAAAABAAAAAAAAdU4AAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAoAAAAFoAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAHVOAAAH0gABAAAAAAOtbWRpYQAAACBtZGhkAAAAANLEP5XSxD+VAAB1MAAAdU5VxAAAAAAANmhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABMLVNNQVNIIFZpZGVvIEhhbmRsZXIAAAADT21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAw9zdGJsAAAAwXN0c2QAAAAAAAAAAQAAALFhdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAoABaABIAAAASAAAAAAAAAABCkFWQyBDb2RpbmcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//AAAAOGF2Y0MBZAAf/+EAHGdkAB+s2UCgL/lwFqCgoKgAAB9IAAdTAHjBjLABAAVo6+yyLP34+AAAAAATY29scm5jbHgABQAFAAUAAAAAEHBhc3AAAAABAAAAAQAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAAQBjdHRzAAAAAAAAAB4AAAABAAAH0gAAAAEAABONAAAAAQAAB9IAAAABAAAAAAAAAAEAAAPpAAAAAQAAE40AAAABAAAH0gAAAAEAAAAAAAAAAQAAA+kAAAABAAATjQAAAAEAAAfSAAAAAQAAAAAAAAABAAAD6QAAAAEAABONAAAAAQAAB9IAAAABAAAAAAAAAAEAAAPpAAAAAQAAE40AAAABAAAH0gAAAAEAAAAAAAAAAQAAA+kAAAABAAATjQAAAAEAAAfSAAAAAQAAAAAAAAABAAAD6QAAAAEAABONAAAAAQAAB9IAAAABAAAAAAAAAAEAAAPpAAAAAQAAB9IAAAAUc3RzcwAAAAAAAAABAAAAAQAAACpzZHRwAAAAAKaWlpqalpaampaWmpqWlpqalpaampaWmpqWlpqalgAAABxzdHNjAAAAAAAAAAEAAAABAAAAHgAAAAEAAACMc3RzegAAAAAAAAAAAAAAHgAAA5YAAAAVAAAAEwAAABMAAAATAAAAGwAAABUAAAATAAAAEwAAABsAAAAVAAAAEwAAABMAAAAbAAAAFQAAABMAAAATAAAAGwAAABUAAAATAAAAEwAAABsAAAAVAAAAEwAAABMAAAAbAAAAFQAAABMAAAATAAAAGwAAABRzdGNvAAAAAAAAAAEAAAT6AAAAGHNncGQBAAAAcm9sbAAAAAIAAAAAAAAAHHNiZ3AAAAAAcm9sbAAAAAEAAAAeAAAAAAAAAAhmcmVlAAAGC21kYXQAAAMfBgX///8b3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0OCByMTEgNzU5OTIxMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTUgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDM6MHgxMTMgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTEgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz0xMSBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgc3RpdGNoYWJsZT0xIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0zIGJfcHlyYW1pZD0yIGJfYWRhcHQ9MSBiX2JpYXM9MCBkaXJlY3Q9MSB3ZWlnaHRiPTEgb3Blbl9nb3A9MCB3ZWlnaHRwPTIga2V5aW50PWluZmluaXRlIGtleWludF9taW49Mjkgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD00MCByYz0ycGFzcyBtYnRyZWU9MSBiaXRyYXRlPTExMiByYXRldG9sPTEuMCBxY29tcD0wLjYwIHFwbWluPTUgcXBtYXg9NjkgcXBzdGVwPTQgY3BseGJsdXI9MjAuMCBxYmx1cj0wLjUgdmJ2X21heHJhdGU9ODI1IHZidl9idWZzaXplPTkwMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAG9liIQAFf/+963fgU3DKzVrulc4tMurlDQ9UfaUpni2SAAAAwAAAwAAD/DNvp9RFdeXpgAAAwB+ABHAWYLWHUFwGoHeKCOoUwgBAAADAAADAAADAAADAAAHgvugkks0lyOD2SZ76WaUEkznLgAAFFEAAAARQZokbEFf/rUqgAAAAwAAHVAAAAAPQZ5CeIK/AAADAAADAA6ZAAAADwGeYXRBXwAAAwAAAwAOmAAAAA8BnmNqQV8AAAMAAAMADpkAAAAXQZpoSahBaJlMCCv//rUqgAAAAwAAHVEAAAARQZ6GRREsFf8AAAMAAAMADpkAAAAPAZ6ldEFfAAADAAADAA6ZAAAADwGep2pBXwAAAwAAAwAOmAAAABdBmqxJqEFsmUwIK//+tSqAAAADAAAdUAAAABFBnspFFSwV/wAAAwAAAwAOmQAAAA8Bnul0QV8AAAMAAAMADpgAAAAPAZ7rakFfAAADAAADAA6YAAAAF0Ga8EmoQWyZTAgr//61KoAAAAMAAB1RAAAAEUGfDkUVLBX/AAADAAADAA6ZAAAADwGfLXRBXwAAAwAAAwAOmQAAAA8Bny9qQV8AAAMAAAMADpgAAAAXQZs0SahBbJlMCCv//rUqgAAAAwAAHVAAAAARQZ9SRRUsFf8AAAMAAAMADpkAAAAPAZ9xdEFfAAADAAADAA6YAAAADwGfc2pBXwAAAwAAAwAOmAAAABdBm3hJqEFsmUwIK//+tSqAAAADAAAdUQAAABFBn5ZFFSwV/wAAAwAAAwAOmAAAAA8Bn7V0QV8AAAMAAAMADpkAAAAPAZ+3akFfAAADAAADAA6ZAAAAF0GbvEmoQWyZTAgr//61KoAAAAMAAB1QAAAAEUGf2kUVLBX/AAADAAADAA6ZAAAADwGf+XRBXwAAAwAAAwAOmAAAAA8Bn/tqQV8AAAMAAAMADpkAAAAXQZv9SahBbJlMCCv//rUqgAAAAwAAHVE=",e.muted=!0,e.playsInline=!0,e.style.display="none";var t=null,r=null;e.addEventListener("playing",function(){t&&t(!0)}),e.addEventListener("error",function(){r&&r()}),document.body.appendChild(e),e.load();var i=e.play();return i&&i.then?i:new n.Promise(function(e,n){t=e,r=n,setTimeout(r,100)})}catch(e){}return n.Promise.reject(null)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(21),i=r(14),a=r(12),o=r(18),s=r(9),l=function(){function e(e){var t;this.players=e,this.EventDeferTime=((t={}).AdImpression=50,t.VastFetched=500,t.startAd=500,t.default=2500,t),this.EventSendRate={default:1},this.DryRun=!this.players.isDebugVersion,this.serverEventUrl=this.players.isDebugVersion?"/dev-server-event":null,this.serverEventRoute="/events",this.supplyEvents=[],this.demandEvents=[],this.emitter=new n.EventEmitter2({wildcard:!0,maxListeners:5}),this.scheduledTimer=new i.default}return e.prototype.isDryRun=function(e){var t=a.notnull(this.EventSendRate[e],this.EventSendRate.default);return this.DryRun||Math.random()>a.number(t)},e.prototype.supplyEvent=function(e,t){var r=this.isDryRun(e.name);this.extractSupplyParams();var n=this.stamp(e,t);r||this.supplyEvents.push(n),this.postEvent(e.name,r,n)},e.prototype.demandEvent=function(e,t){try{this._demandEvent(e,t)}catch(e){}},e.prototype.demandTimedEvent=function(e,t){this._demandEvent(e,t,e.flowTimeout)},e.prototype._demandEvent=function(e,t,r){var n=this.isDryRun(t.name);this.extractSupplyParams();var i=s.arrayFind(this.demandEvents,function(t){return t.playerData==e});i||(i={playerData:e,demandData:function(e){return{uniqId:e.uniqId,vastId:e.vastId,demandId:e.demandId,adType:e.adType,rotationNo:e.rotationNo,gpvNo:e.originalUniqId,group:e.group,cookie:e.cookie,cookieJson:e.cookieJson}}(e),events:[]},n||this.demandEvents.push(i));var a=this.stamp(t,r);n||i.events.push(a),this.postEvent(t.name,n,a,i.demandData)},e.prototype.stamp=function(e,t){return a.assign({},e,{ts:this.fromStartNow()},t&&{elapsed:this.toSeconds(t.elapsed)})},e.prototype.toSeconds=function(e){return parseFloat((e/1e3).toFixed(2))},e.prototype.fromStartNow=function(){return parseFloat(((Date.now()-this.players.startTime)/1e3).toFixed(2))},e.prototype.extractSupplyParams=function(){this.supplyData||(this.supplyData=function(e){var t=function(e){return+e.toFixed(1)},r={supplyId:e.playerId,subid:e.subid,domain:e.domain,sessionId:e.sessionId,playerVersion:e.playerVersion,detect:e.detect,cookieJson:e.supplyCookieJson,gpvCookie:e.gpvCookie,detectedDomain:e.domainDetected,width:e.width,height:e.height,detectedWidth:null!=e.widthDetected?t(e.widthDetected):null,detectedHeight:null!=e.heightDetected?t(e.heightDetected):null,startTime:Math.floor(e.startTime/1e3)};if(e.isApp){var n=r;for(var i in e.appParams)e.appParams.hasOwnProperty(i)&&(n[i]=e.appParams[i]);return n}return r}(this.players))},e.prototype.postEvent=function(e,t,r,n){var i=this;try{this.emitter.emit(e,r,t,this.supplyData,n)}catch(e){}if(!t){var o=a.notnull(this.EventDeferTime[e],this.EventDeferTime.default);null!=this.scheduledTime&&Date.now()+o>this.scheduledTime||(this.scheduledTime=Date.now()+o,this.scheduledTimer.reset(o).start(function(){i.scheduledTime=null,i.sendStoredEvent()}))}},e.prototype.sendStoredEvent=function(){var e={supply:{},demand:[]};a.assignWhen(a.NotNull,e.supply,this.supplyData),this.supplyEvents.length&&(e.supply.e=this.supplyEvents),this.demandEvents.forEach(function(t){var r={e:[]};a.assignWhen(a.NotNull,r,t.demandData),r.e=t.events,e.demand.push(r)}),e.demand.length||delete e.demand,this.serverEventUrl&&o.requestWithAjax({url:this.serverEventUrl,postData:JSON.stringify(e,null,2),method:"POST"}),this.demandEvents=[],this.supplyEvents=[]},e}();t.ServerEvents=l},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(51).default({jsv:null,tag:window.CEDATO_TAG})}]);